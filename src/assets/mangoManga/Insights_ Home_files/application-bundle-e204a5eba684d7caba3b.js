webpackJsonp([5],{1027:function(e,n,t){"use strict";var a,o;a=[e,t(4),t(1028)],void 0!==(o=function(e,n,t){var a=n.module(e.i,[t]);return a.constant("PingInterval",6e4),a.factory("PingCommand",["$window","Configuration",function(e,n){return function(t,a){switch(t){case"refresh":e.location.reload();break;case"configure":n.updateAll(a.configuration)}}}]),a.directive("ping",[function(){return{restrict:"E",scope:{version:"@"},controller:["$scope","$interval","$http","PingInterval","PingCommand",function(e,n,t,a,o){n(function(){t({method:"GET",url:"/private_api/1/ping",params:{version:e.version}}).success(function(e){e.command&&o(e.command,e)})},a,0,!1)}]}}]),a.name}.apply(n,a))&&(e.exports=o)},1028:function(e,n,t){"use strict";var a,o;a=[e,t(4)],void 0!==(o=function(e,n){var t=n.module(e.i,[]);return t.service("Configuration",function(){var e={};this.get=function(n){return e[n]},this.updateAll=function(n){e=n}}),t.name}.apply(n,a))&&(e.exports=o)},1041:function(e,n,t){"use strict";var a=t(4),o=a.module(e.i,[t(43)]);t(1042),t(550),o.controller("AddDataController",["$routeParams","$scope","Accounts",function(e,n,a){e.attrs='cart_size=4,pay_level="pro",user_id="123"',n.customAttributesTemplate=t(1042),n.queryKeyCurlTemplate=t(550),n.currentAccount=a.currentAccount,n.hidePageViewInstructions=!0}]),e.exports=o.name},1042:function(e,n){var t="/templates/add-data/_custom_attrs_code.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='row'>\n  <div class='col-md-12'>\n    <h4 class='guide-heading'>\n      Example adding user ID, cart size and pay level to transactions\n    </h4>\n    <form class='form data-manage' name='agentConfigForm' ng-submit='AgentConfig.refresh()' role='form'>\n      <div class='form-group'>\n        <div class='btn-group btn-group-lg btn-group-justified btn-grid select-agent' ng-show='AgentConfig.agents.length'>\n          <a class='btn btn-default' href='/accounts/{{currentAccount.id}}/manage/add_data{{queryStr(a)}}' ng-class='{\"btn-primary\": (agent.id == a.id)}' ng-repeat='a in AgentConfig.agents'>\n            <i class='icon icon-lg' ng-class=\"'{{a.icon}}'\"></i>\n            <span class='agent-name'>\n              {{a.name}}\n            </span>\n          </a>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n<div class='row guide-step tldr' ng-if='agent'>\n  <div class='col-md-12'>\n    <pre class='clickable' nr-select-all><code>{{AgentConfig.code}}&#x000A;</code></pre>\n  </div>\n</div>\n\x3c!-- // agent language config include /// --\x3e\n<div ng-include='agentLanguageConfigTemplates[agent.id]'></div>\n\x3c!-- // agent language config include /// --\x3e\n<div class='row guide-step'>\n  <div class='col-md-12'>\n    <p>\n      Read the full docs for more details on\n      <a href='https://docs.newrelic.com/docs/features/collecting-custom-parameters' target='_blank'>collecting custom attributes</a>.\n    </p>\n  </div>\n</div>\n")}]),e.exports=t},1044:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[t(156),t(43)]);return i.controller("DashboardImportController",["$scope","$rootScope","$location","Dashboards","Accounts",function(e,n,t,a,o){e.importDashboard=function(i){a.importJson({account_id:o.currentAccount.id,editable:i},e.dashboardJson,function(e){n.$broadcast("dashboardsChanged"),t.path(e.path)})}}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1045:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[t(46),t(553),t(156),t(69)]);return i.controller("DashboardsController",["$scope","$location","$rootScope","$routeParams","DashboardStore","Dashboards","TrackUser",function(e,n,t,a,o,i,r){r.pageView("Dashboards"),e.accountId=a.account_id,o.subscribe(function(n){e.dashboards=n,setTimeout(e.$digest.bind(e))}),e.textFilter=n.search().filter,e.$watch("textFilter",function(e){return n.search("filter",""===e?null:e)});var s={name:{name:"name",order:"title",reverse:!1},popular:{name:"popular",order:"views",reverse:!0},updated:{name:"updated",order:"updated_at",reverse:!0}},l={all:{name:"all",filter:{}},favorites:{name:"favorites",filter:{favorited:!0}},mine:{name:"mine",filter:{is_mine:!0}}};e.setSort=function(n){e.sort=s[n]},e.setSort("popular"),e.setFilter=function(n){e.filter=l[n]},e.setFilter("all"),e.titleOwner=function(e){var n=e?e.toLowerCase():"";return function(e){return-1!==e.title.toLowerCase().indexOf(n)||-1!==e.owner.email.toLowerCase().indexOf(n)}},e.clearFilter=function(){e.textFilter=""},e.favoriteDashboard=function(n){n.$favorite(function(n){t.$broadcast("navChanged"),e.dashboards[e.dashboards.indexOf(n)]=n})},e.unfavoriteDashboard=function(n){n.$unfavorite(function(n){t.$broadcast("navChanged"),e.dashboards[e.dashboards.indexOf(n)]=n})},e.createDashboard=function(a){var o=new i({account_id:e.accountId,title:a});o.$save(function(){t.$broadcast("dashboardsChanged"),n.path(o.path).search("editing","true")})}}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1047:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(e,n,t,a,o,i,r){function s(){a.error=!1,a.loading=!0,a.eventTypes=o.get(a.accountId),e.all([a.eventTypes.$promise,i.loaded]).then(function(){a.loading=!1},function(){a.error=!0,a.loading=!1})}r.pageView("Data Explorer"),a.accountId=n.account_id,a.loadEventTypes=s,s()}return o.$inject=["$q","$routeParams","$location","$scope","EventTypes","FeatureFlags","TrackUser"],t(4).module(a.i,[t(157),t(556),t(69),t(101)]).controller("EventTypesController",o).name}.call(n,t,n,e))&&(e.exports=a)},1048:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(22),i=t(4),r=i.module(a.i,[t(157)]);return r.controller("FormatterController",["$scope","$location","$routeParams","EventTypes",function(e,n,t,a){e.accountId=t.account_id,e.setEventType=function(t){e.eventType=t,n.search({eventType:t.name})},e.eventTypes=a.get(e.accountId),e.eventTypes.$promise.then(function(n){if(n.length&&!e.eventType){var t=o.find(n,{name:"PageView"});e.setEventType(t||n[0])}})}]),r.name}.call(n,t,n,e))&&(e.exports=a)},1049:function(e,n,t){"use strict";var a=t(4),o=t(24),i=a.module(e.i,["mgcrea.ngStrap.collapse",t(557),t(177),t(1171),t(178),t(934),t(1173),t(1174)]),r=t(1175);t(1176),t(558),t(1177),t(1178),t(1179),t(1180);var s={analyze:t(1181),collect:t(1182),manage:t(1183),overview:t(1184),present:t(1185)},l={dotnet:t(1186),java:t(1187),nodejs:t(1188),php:t(1189),python:t(1190),ruby:t(1191)};i.controller("Hello2Controller",["$controller","$scope","$routeParams","TopApps",function(e,n,t,a){n.accountId=t.account_id,n.pagination={},n.loading=!0,n.nodata=!1,n.eventType="PageView",n.topApps=[],n.topApp=void 0,n.eventCount=void 0,n.timeUnit=void 0,n.loadAppData=function(){return a.data.promise.then(function(e){n.eventType=e.eventType,n.topApps=e.topApps,n.topApp=e.topApps[0].name,n.eventCount=e.topApps[0].results[0].count,n.timeUnit=e.timeUnit,n.nodata=!1,n.loading=!1},function(e){n.nodata=!0,n.loading=!1}),a.data}}]),i.controller("HelloStep2Controller",["$controller","$scope","$location","$routeParams","OnboardingSteps2",function(e,n,t,a,o){var i=-1,l=a.hello;n.paginationTemplateUrl=r,n.steps=o,n.routeParams=a,n.loadStep=function(a){var r=s[a];if(n.steps.some(function(e,n){return e.name===a&&(i=n,!0)}),-1===i||!r)return n.loadStep(o[0].name),t.search("hello",o[0].name),t.replace();l=a,n.pagination.step=n.steps[i],n.pagination.index=i,i<n.steps.length-1&&(n.pagination.next=n.steps[i+1]),i>0&&(n.pagination.prev=n.steps[i-1]),n.pagination.step.controller&&e(n.pagination.step.controller,{$scope:n}),n.stepTemplateUrl=r},n.$watch("routeParams",function(e){e.hello&&e.hello!=l&&n.loadStep(e.hello)},!0),n.loadStep(l)}]),i.controller("OverviewHelloStepController",[function(){}]),i.controller("CustomAttributesHelloStepController",["$scope","$location","$routeParams","$interpolate","NRAgents","UserPrefs",function(e,n,t,o,i,r){var s;e.attributes=[],e.queryStr=function(e){var n=[];return e&&n.push("agent="+e.id),s.attrInput.length&&n.push("attrs="+encodeURIComponent(s.attrInput)),"?"+n.join("&")},e.agentLanguageConfigTemplates=l,e.AgentConfig=s={agents:i,defaults:[{name:"user_id",val:"123"},{name:"pay_level",val:'"pro"'}],attrInput:[],get attributes(){return this.attrInput.length?this.attrInput.map(function(e){var n=e.split("="),t=e.replace(/(^['":]+)|(['"]+$)/g,"")||"my_attr",a=t.replace(/[\s-]+/g,"_")+"_value";return 2===n.length&&(t=n[0].replace(/(^['"]+)|(['"]+$)/g,""),a=(n[1]||t).replace(/[\s-]+/g,"_")),{name:t,val:a}}):[]},get code(){var n=this.attributes.length?this.attributes:this.defaults;return e.config.code(n)},configs:{ruby:{code:function(e){function n(e){return o("NewRelic::Agent.add_custom_parameters({{attrs}})")({attrs:e})}function t(e){if(e){var n=e.name.replace(/[\s-]+/g,"_"),t=e.val;return o(":{{name}} => {{val}}")({name:n,val:t})}}return n(a.isArray(e)?"{"+e.map(function(e){return t(e)}).join(", ")+"}":"{"+t(e)+"}")}},java:{code:function(e){function n(e){return o('NewRelic.addCustomParameter("{{attr.name}}", {{attr.val | camelize}});')({attr:e})}return a.isArray(e)||(e=[e]),e.map(function(e){return n(e)},this).join("\n")}},dotnet:{code:function(e){function n(e){return o('NewRelic.Api.Agent.NewRelic.AddCustomParameter("{{attr.name}}", {{typecast}}{{attr.val | camelize}});')({attr:e,typecast:isNaN(e.val)?"":"(Single)"})}return a.isArray(e)||(e=[e]),e.map(function(e){return n(e)},this).join("\n")}},php:{code:function(e){function n(e){return o('newrelic_add_custom_parameter("{{attr.name}}", {{attr.val}});')({attr:e})}return a.isArray(e)||(e=[e]),e.map(function(e){return/^[^"'$\d]/.test(e.val)&&(e.val="$"+e.val),n(e)},this).join("\n")}},python:{code:function(e){function n(e){return o('newrelic.agent.add_custom_parameter("{{attr.name}}", {{attr.val}})')({attr:e})}return a.isArray(e)||(e=[e]),e.map(function(e){return n(e)},this).join("\n")}},nodejs:{code:function(e){function n(e){return o('newrelic.addCustomParameter("{{attr.name}}", {{attr.val}})')({attr:e})}return a.isArray(e)||(e=[e]),e.map(function(e){return n(e)},this).join("\n")}}}},e.placeholder=s.defaults.map(function(e){return e.name+"="+e.val}).join(", "),t.agent?i.some(function(n){return n.id===t.agent&&(e.agent=n,!0)}):e.agent=i[0],e.examples={},e.toggleExample=function(n){e.examples[n]=!a.isDefined(e.examples[n])||!e.examples[n]},t.attrs&&(s.attrInput=decodeURIComponent(t.attrs).split(",")),e.agent&&(e.config=s.configs[e.agent.id]),r.set("is_onboarded",!0)}]),i.controller("CollectHelloStepController",["$scope","$location","$routeParams","$interpolate","NRAgents","UserPrefs",function(e,n,t,i,r,s){var c;e.agentLanguageConfigTemplates=l,e.attributes=[],e.queryStr=function(e){var t=a.copy(n.search());return e&&(t.agent=e.id),c.attrInput.length&&(t.attrs=c.attrInput),"?"+o.param(t)},e.agentPanels={activePanel:-1},e.AgentConfig=c={agents:r,defaults:[{name:"cart_size",val:"4"},{name:"user_id",val:"123"},{name:"pay_level",val:'"pro"'}],attrInput:[],get attributes(){return this.attrInput.length?this.attrInput.map(function(e){var n=e.split("="),t=e.replace(/(^['":]+)|(['"]+$)/g,"")||"my_attr",a=t.replace(/[\s-]+/g,"_")+"_value";return 2===n.length&&(t=n[0].replace(/(^['"]+)|(['"]+$)/g,""),a=(n[1]||t).replace(/[\s-]+/g,"_")),{name:t,val:a}}):[]},get code(){var n=this.attributes.length?this.attributes:this.defaults;return e.config.code(n)},configs:{ruby:{code:function(e){function n(e){return i("NewRelic::Agent.add_custom_attributes({{attrs}})")({attrs:e})}function t(e){if(e){var n=e.name.replace(/[\s-]+/g,"_"),t=e.val;return i(":{{name}} => {{val}}")({name:n,val:t})}}return n(a.isArray(e)?"{"+e.map(function(e){return t(e)}).join(", ")+"}":"{"+t(e)+"}")}},java:{code:function(e){function n(e){return i('NewRelic.addCustomParameter("{{attr.name}}", {{attr.val | camelize}});')({attr:e})}return a.isArray(e)||(e=[e]),e.map(function(e){return n(e)},this).join("\n")}},dotnet:{code:function(e){function n(e){return i('NewRelic.Api.Agent.NewRelic.AddCustomParameter("{{attr.name}}", {{typecast}}{{attr.val | camelize}});')({attr:e,typecast:isNaN(e.val)?"":"(Single)"})}return a.isArray(e)||(e=[e]),e.map(function(e){return n(e)},this).join("\n")}},php:{code:function(e){function n(e){return i('newrelic_add_custom_parameter("{{attr.name}}", {{attr.val}});')({attr:e})}return a.isArray(e)||(e=[e]),e.map(function(e){return/^[^"'$\d]/.test(e.val)&&(e.val="$"+e.val),n(e)},this).join("\n")}},python:{code:function(e){function n(e){return i('newrelic.agent.add_custom_parameter("{{attr.name}}", {{attr.val}})')({attr:e})}return a.isArray(e)||(e=[e]),e.map(function(e){return n(e)},this).join("\n")}},nodejs:{code:function(e){function n(e){return i('newrelic.addCustomParameter("{{attr.name}}", {{attr.val}})')({attr:e})}return a.isArray(e)||(e=[e]),e.map(function(e){return n(e)},this).join("\n")}}}},e.placeholder=c.defaults.map(function(e){return e.name+"="+e.val}).join(", "),e.hidePageViewInstructions=!0,e.examplesNotCollapsable=!0,e.loadAgent=function(n){n?r.some(function(t){return t.id===n&&(e.agent=t,!0)}):e.agent=r[0],e.examples={},e.toggleExample=function(n){e.examples[n]=!a.isDefined(e.examples[n])||!e.examples[n]},t.attrs&&(c.attrInput=decodeURIComponent(t.attrs).split(",")),e.agent&&(e.config=c.configs[e.agent.id],e.agentConfigTemplateUrl=l[e.agent.id])},e.loadAgent(t.agent),s.set("is_onboarded",!0)}]),i.controller("AnalyzeHelloStepController",["$controller","$scope","Vidgets2",function(e,n,t){n.loading=!0,(new t).promise.then(function(e){n.sampleQueries=e.examples}).finally(function(e){n.loading=!1}),n.nrqlPanels={activePanel:-1},n.queryType="basic",n.changeQueryType=function(e){n.nrqlPanels.activePanel=-1,n.queryType=e},n.topApp||n.loadAppData(),n.$watch("topApp",function(e){})}]),i.controller("PresentHelloStepController",["$controller","$scope",function(e,n){n.presentPanels={activePanel:-1}}]),i.controller("ManageHelloStepController",["$controller","$scope","UserPrefs",function(e,n,t){n.managePanels={activePanel:-1},t.set("is_onboarded",!0)}]),e.exports=i.name},1050:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(e,n){var t=this;t.saving=!1,t.popupContent="Use the data-content attribute when binding the popup contents. (Try it!)",t.startSaving=i.debounce(function(){t.saving=!0,e.$apply(),n(function(){t.saving=!1},1e3)},2e3)}a.exports=t(4).module(a.i,[]).controller("PlaybookController",o).name;var i=t(22);o.$inject=["$scope","$timeout"]}.call(n,t,n,e))&&(e.exports=a)},1061:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(e,n,t,a,o,r,s,l,c,d,u){function p(n){g=n,e.queryfilter={search:"",collection:a.hello?"tutorials":g,filtered:Object.create({},{all:{get:function(){return[].concat(e.queryfilter.filtered.history,e.queryfilter.filtered.favorites)},enumerable:!0},history:{get:function(){return e.queryfilter.search&&e.queryfilter.search.length?s.history.filter(function(n){return-1!==n.nrql.toLowerCase().indexOf(e.queryfilter.search)}):s.history},enumerable:!0},favorites:{get:function(){return e.queryfilter.search&&e.queryfilter.search.length?s.favorites.filter(function(n){return-1!==n.nrql.toLowerCase().indexOf(e.queryfilter.search)}):s.favorites},enumerable:!0}}),toggle:function(n){var a=this;e.clear();var o=n||"history",i=t.search();"tutorials"!==o?delete i.hello:i.hello=i.hello||!0,t.search(i),d.set("last_scrapbook_view",o),g=o,h(g),a.collection=o}},e.queries=s.history.$promise.finally(function(){e.loading=!1}),e.filter(),h(g)}function h(e){n.$emit("pageTitle:change","tutorials"===e?"Welcome to a new kind of analytics engine":"Home")}u.pageView("Query"),e.accountId=a.account_id,e.account=o.currentAccount,e.loading=!0,l.subscribe(function(n){e.dashboards=n,setTimeout(e.$digest.bind(e))}),e.sampleQueries=[],e.routeParams=a;var g;d.get("last_scrapbook_view",!0).then(p),e.filter=function(n){n=n||e.queryfilter;var t=n.collection;e.queryfilter=n,e.queries=n.filtered[t]},e.toggle=function(n,t){if(e.active&&e.active===n){if(t&&!i.element(t.target).closest(".well.sample-nrql").length)return;return e.clear()}return e.open(n)},e.open=function(n){e.$broadcast("presetQuery",{query:n.nrql}),e.active=n},e.clear=function(n){e.$broadcast("samplenrql:clear",n),e.active=void 0},e.$watch("queryfilter",function(n,t){n!==t&&e.filter()},!0),e.$on("samplenrql:run",function(n,t){e.$broadcast("samplenrql:clear",t)}),e.$on("querydrawer:querysubmitted",function(n,t){e.clear(t)}),e.$on("scrapbook:added",function(n,t,a){e.filter()}),e.$on("scrapbook:destroy",function(e,n,t){s.destroy(n,t)}),e.$on("scrapbook:removed",function(n,t,a){e.filter()}),e.$on("accountChanged",function(n,t){e.accountId!=t.id&&(e.accountId=t.id,e.queryfilter.search="",e.queryfilter.collection="history",e.queries.length=0)})}o.$inject=["$scope","$rootScope","$location","$routeParams","Accounts","Vidgets","ScrapbookQueries","DashboardStore","FeatureFlags","UserPrefs","TrackUser"];var i=t(4);return i.module(a.i,["mgcrea.ngStrap.collapse",t(46),t(1203),t(43),t(69),t(1064),t(101),t(964),t(1211),t(934)]).controller("ScrapbookController",o).name}.call(n,t,n,e))&&(e.exports=a)},1064:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[t(557)]);return i.constant("OnboardingSteps",[{step:1,name:"grid",controller:"GridHelloStepController"},{step:2,name:"data",controller:"DataHelloStepController"},{step:3,name:"attrs",controller:"CustomAttributesHelloStepController"}]),i.constant("NRAgents",[{id:"ruby",name:"Ruby",icon:"icon-ruby",apiDocs:"http://rubydoc.info/gems/newrelic_rpm/NewRelic/Agent#add_custom_parameters-instance_method",rumDocs:"https://docs.newrelic.com/docs/ruby/real-user-monitoring-in-ruby"},{id:"java",name:"Java",icon:"icon-java",apiDocs:"https://docs.newrelic.com/docs/agents/java-agent/custom-instrumentation/java-agent-api#api-add-custom-parameter",rumDocs:"https://docs.newrelic.com/docs/java/real-user-monitoring-in-java"},{id:"dotnet",name:".NET",icon:"icon-windows",apiDocs:"https://docs.newrelic.com/docs/agents/net-agent/features/net-agent-api#add_custom_conv",rumDocs:"https://docs.newrelic.com/docs/dotnet/real-user-monitoring-in-net"},{id:"php",name:"PHP",icon:"icon-php",apiDocs:"https://docs.newrelic.com/docs/php/the-php-api#api-custom-param",rumDocs:"https://docs.newrelic.com/docs/php/real-user-monitoring-in-php"},{id:"python",name:"Python",icon:"icon-python",apiDocs:"https://docs.newrelic.com/docs/agents/python-agent/customization-extension/python-transaction-api#add_custom_parameter",rumDocs:"https://docs.newrelic.com/docs/agents/python-agent/supported-features/page-load-timing-python"},{id:"nodejs",name:"Node",icon:"icon-nodejs",apiDocs:"https://docs.newrelic.com/docs/agents/nodejs-agent/supported-features/nodejs-agent-api#custom-params",rumDocs:"https://docs.newrelic.com/docs/agents/nodejs-agent/supported-features/page-load-timing-nodejs"}]),i.factory("Vidgets",["$q","TopApps",function(e,n){function t(t){var a=e.defer();t||(t=n.data),this.promise=a.promise,this.data=t,this.data.promise.then(o.bind(this,function(e){this.nodata=!1,this.appName=e.topApp,this.eventType=e.eventType,this.timeUnit=e.timeUnit,a.resolve(this)}),o.bind(this,function(e){this.nodata=!0,a.reject(e)}))}return t.prototype={get examples(){return this.nodata||this.data.loading?[]:[{title:"Unique sessions",nrql:"SELECT uniquecount(session) FROM "+this.eventType+" WHERE appName='"+this.appName+"' SINCE 1 "+this.timeUnit+" ago COMPARE WITH 1 "+this.timeUnit+" ago",process_as:"billboard_comparison",render_as:"billboard_comparison"},{title:"Load-time histogram, 15 seconds wide divided into 50 buckets",nrql:"SELECT histogram(duration, 15, 50) FROM "+this.eventType+" WHERE appName='"+this.appName+"' SINCE 1 "+this.timeUnit+" ago",process_as:"histogram",render_as:"histogram"},{title:"Top countries by visits",nrql:"SELECT count(*) FROM "+this.eventType+" WHERE appName='"+this.appName+"' FACET countryCode LIMIT 5 SINCE 1 "+this.timeUnit+" ago",process_as:"facet_pie_chart",render_as:"facet_pie_chart"},{title:"Top browsers",nrql:"SELECT count(*) FROM "+this.eventType+" WHERE appName='"+this.appName+"' FACET userAgentName TIMESERIES auto SINCE 1 "+this.timeUnit+" ago",process_as:"faceted_area_chart",render_as:"faceted_area_chart"}]}},t}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1065:function(e,n,t){"use strict";function a(e,n,t,a,o,i){var r=this;this.isLoaded=!1,this.isFailed=!1,a.subscribe(function(e){r.dashboards=e,setTimeout(n.$digest.bind(n))}),this.dashboard=o.get({account_id:t.currentAccountRef.id,id:e.id}),this.dashboard.$promise.then(function(){r.isLoaded=!0}).catch(function(e){r.isLoaded=!0,r.isFailed=!0}),n.$watch("view.dashboard.title",function(e){e&&(i.title=e)})}a.$inject=["$routeParams","$scope","Accounts","DashboardStore","Dashboards","PageTitle"];var o=t(4),i=function(e){return e&&e.__esModule?e:{default:e}}(o),r=i.default.module(e.i,[t(447),t(43),t(448),t(46),t(1066),t(156),t(1454)]);r.directive("dashboardV2Route",["$rootScope",function(e){return{restrict:"E",controller:a,controllerAs:"view",scope:{},template:"\n    <div>\n      \x3c!-- TODO: extract into 'query-drawer-container' directive --\x3e\n      <div class='nrql-bar' nr-scrolltrap nr-sticky nr-sticky-by-default='desktop-and-up'>\n        <query-drawer inline='!sticky' focus='true' ng-show='!view.timeLocked' dashboards='view.dashboards'></query-drawer>\n      </div>\n\n      <dashboard-v2-error ng-show='view.isFailed'></dashboard-v2-error>\n      <div class='page-header compact' ng-hide='view.isFailed'>\n        <nr-spinner loading='!view.isLoaded' size='large' align='center'></nr-spinner>\n        <nr-dashboard-v2 dashboard='view.dashboard' ng-if='view.isLoaded' allow-favoriting='true' show-footer='true' runnable='true'></nr-dashboard-v2>\n      </div>\n    </div>\n  "}}]),e.exports=r.name},1139:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[t(156),t(46),t(553)]);return i.directive("sideNavList",["$location","$rootScope",function(e,n){return{restrict:"A",scope:!0,controller:["$scope","Dashboards",function(t,a){function o(e){t.favoriteDashboards=e.favorites,t.dashboardListLimit=5,t.recentlyViewed=e.dashboards}function i(){t.account?a.nav({account_id:t.account.id},o):o({favorites:[],dashboards:[]})}o(window.Insights.nav),setTimeout(function(){t.$on("accountChanged",function(e,n){t.currentDashboardAccount&&n&&t.currentDashboardAccount.id==n.id||i(),t.currentDashboardAccount=n})}),t.toggleShowAllFavorites=function(){t.isShowAllFavorites=!t.isShowAllFavorites},t.createDashboard=function(o){var i=new a({account_id:t.account.id,title:o});i.$save(function(){n.$broadcast("dashboardsChanged"),e.path(i.path).search("editing","true")})},t.$on("navChanged",function(e){i()})}]}}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1140:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(e){return{restrict:"A",transclude:!0,scope:{accountId:"=",query:"@"},compile:function(n,t,a){return function(n,o,r){var s=n.$parent.$new();s[t.diracValue]="Loading...",n.$watch("query",function(){e.query(n.accountId,n.query).success(function(e){s[t.diracValue]=i(t.diracValue)(e.results[0])})}),a(s,function(e){o.append(e)})}}}}var i=t(123),r=t(4);a.exports=r.module(a.i,[t(177)]).directive("diracValue",o).name,o.$inject=["Query"]}.call(n,t,n,e))&&(e.exports=a)},1146:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,["ngResource","ngRoute"]);return i.factory("accountResource",["$resource","$routeParams",function(e,n){function t(){return n.account_id}function a(n,a,r,s){var l=o.copy(r);return o.forEach(l,function(e,n){e.url&&(e.url=i+e.url)}),e(i+n,o.extend({},a,{account_id:t}),l,s)}var i="/internal_api/1/accounts/:account_id/";return a}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1147:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(e,n,t,a,o,l){var c=t("join_data_sources/:id",{id:"@name"}),d=c.prototype;return d.preview=function(){return new o({name:this.name}).$get()},d.defaultLookups=function(){return new l({name:this.name}).$get()},d.setDefaultLookups=function(e){var n=new l({name:this.name});return n.lookups=e,n.$save()},d.formattedTimestamp=function(){return new Date(this.updated_at).toDateString()},d.upload=function(n,t){var o=n.file,i=n.lookups,r=n.delimiter;this.owner=n.user,this.progressText="Preparing",this.uploadStatus="processing",this.updated_at=new Date;var s=this;return new a(this).upload(o,r,i,t).then(function(e){return s.uploadStatus="success",s.progressText=e.message,e},function(n){return s.uploadStatus="failure",s.progressText=n.message,s.failureDetails=n.details,e.reject(n)},function(e){return s.progressText=e.message,e})},d.validate=function(e,t){var a=!0,o={};if("string"!=typeof this.name||this.name.length<1?(a=!1,o.name="Name is required."):this.name.length>=40?(a=!1,o.name="Name is too long, it should be 40 characters or less."):this.name.match(/^\d/)?(a=!1,o.name="Name cannot start with a number."):this.name.match(/^[A-Za-z_][\w_]*$/)||(a=!1,o.name="Name cannot contain non-alphanumeric characters (except underscore)."),e?e.name.match(/\.[ct]sv$/)||"text/csv"===e.type?e.size>1024*s*1024&&(a=!1,o.file=n("That file is too big. Try reducing it to less than {{max}}MB and upload it again.")({max:s})):(a=!1,o.file=n("This file has the wrong type. Upload a CSV file.")(e)):(a=!1,o.file="File is required."),t){if(0===t.length)return{valid:!1,messages:{lookups:"Specify at least one condition."}};o.lookup=new Array(t.length);var l=r.reduce(r.map(t,"eventType"),function(e,n){return e[n]|=0,e[n]++,e},{}),c=r.reduce(l,function(e,n,t){return n>1&&e.push(t),e},[]);t.forEach(function(e,n){if(r.includes(c,e.eventType))a=!1,o.lookup[n]="You cannot have multiple conditions on the same event type.";else{var t=[];e.lookupAttribute||t.push("lookup column"),e.eventType||t.push("event type"),e.eventAttribute||t.push("event attribute"),t.length>0&&(a=!1,o.lookup[n]="Missing "+i(t)+".",o.lookups="Default conditions are incomplete.")}})}return{valid:a,messages:o}},c}function i(e){if(e.length>2){var n=e.pop();return e.join(", ")+" and "+n}return e.join(" and ")}a.exports=t(4).module(a.i,[]).factory("JoinDataSource",o).factory("JoinDataPreview",["accountResource",function(e){return e("join_data_sources/:id/preview",{id:"@name"})}]).factory("DefaultLookups",["accountResource",function(e){return e("join_data_sources/:id/default_lookups",{id:"@name"})}]).name;var r=t(22),s=400;o.$inject=["$q","$interpolate","accountResource","JoinDataSourceUploader","JoinDataPreview","DefaultLookups"]}.call(n,t,n,e))&&(e.exports=a)},1148:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(e,n){var t=new FileReader;t.onprogress=t.onload=function(){var e=t.result.search(/\r\n?|\n/);if(-1!==e){t.readyState===FileReader.LOADING&&t.abort();var a=i.parse(t.result.slice(0,e));n&&n(a.data[0],a.meta.delimiter),n=null}},t.readAsText(e)}a.exports=t(4).module(a.i,[]).factory("extractColumnsFromCSV",function(){return o}).name;var i=t(1512)}.call(n,t,n,e))&&(e.exports=a)},1158:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function s(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),c=t(3),d=a(c),u=t(11),p=a(u),h=t(141),g=t(1497),f=a(g),m=t(5),v=a(m),b=t(1500),y=a(b),w=function(e){function n(){i(this,n);var e=r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.onModalClose=function(n){e.props.onModalClose(n),e.setState({isViewingModal:!1})},e.state={isViewingModal:!1},e}return s(n,e),l(n,[{key:"render",value:function(){var e=this,n=this.state.isViewingModal,t=this.props,a=t.accountId,i=t.current,r=t.onModalNext;return d.default.createElement("div",null,d.default.createElement("div",{className:y.default.header},d.default.createElement("div",null,d.default.createElement("span",{className:y.default.title},"Data Explorer"),d.default.createElement("span",{className:y.default.tabs},d.default.createElement("a",{className:(0,v.default)(y.default.tab,o({},y.default.current,"events"===i)),href:"/accounts/"+a+"/explorer"},"Events"),d.default.createElement("a",{className:(0,v.default)(y.default.tab,o({},y.default.current,"metrics"===i)),href:"/accounts/"+a+"/explorer/metrics"},"Metrics"))),d.default.createElement("a",{className:y.default.infoModalLink,onClick:function(){return e.setState({isViewingModal:!0})}},d.default.createElement("i",{className:(0,v.default)("icon-question-circle-o",y.default.notesIcon)}),"Events vs. Metrics")),n&&d.default.createElement(h.Modal,{title:"Events vs. Metrics",onClose:this.onModalClose},d.default.createElement(f.default,{onClose:this.onModalClose,onNext:r},d.default.createElement("div",null,d.default.createElement("h4",null,"Events"),d.default.createElement("p",null,"The New Relic agents instrumenting your applications and servers can collect and send anywhere from thousands to millions of unaggregated events into Insights every minute. You can enrich these events with ",d.default.createElement("a",{href:"https://docs.newrelic.com/docs/insights/new-relic-insights/decorating-events/insights-custom-attributes",target:"_blank",rel:"noopener noreferrer"},"custom attributes")," to add relevant context to your data as well as send your own events to Insights using the ",d.default.createElement("a",{href:"https://docs.newrelic.com/docs/insights/new-relic-insights/adding-querying-data/insert-custom-events-insights-api",target:"_blank",rel:"noopener noreferrer"},"custom event API"),". The granularity of events allows you to perform advanced filtering and exploration to answer specific questions about your software and your customers.")),d.default.createElement("div",null,d.default.createElement("h4",null,"Metrics"),d.default.createElement("p",null,"Metrics are aggregated data points sent by New Relic agents every minute. They are collected over 1-minute (or longer) intervals depending on how long ago the metric was measured. Metrics are very valuable for tracking trends over time, but because metric data is more rigid and predefined, it cannot be filtered like events can.")),d.default.createElement("div",null,d.default.createElement("h4",null,"Example"),d.default.createElement("p",null,"An application might report a metric for response time that is a single value (e.g., 283 milliseconds) whereas events give you a collection of transactions from which you can run queries to determine ad-hoc metrics (e.g., my application’s response time was 792 milliseconds for my key customers and 513 milliseconds for everyone else in the past 17 minutes)."),d.default.createElement("p",null,d.default.createElement("a",{href:"https://docs.newrelic.com/docs/data-analysis/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data",target:"_blank",rel:"noopener noreferrer"},"Learn more"))))))}}]),n}(c.Component);w.defaultProps={onModalClose:function(){},onModalNext:function(){}},n.default=w,w.propTypes={accountId:p.default.string,current:p.default.string,onModalClose:p.default.func,onModalNext:p.default.func}},1159:function(e,n,t){"use strict";t(263),t(264),t(1160);var a=t(24);a(document).ready(function(){a(document).on("click","#tabs a",function(e){e.stopPropagation(),e.preventDefault(),a(this).tab("show")})})},1160:function(e,n,t){"use strict";t(460),t(284),t(285),window._babelPolyfill||t(1161);var a=t(4),o=t(265);t(1041),t(551),t(1044),t(1045),t(1047),t(1048),t(1049),t(1050),t(935),t(1061),t(965),t(1140),t(992),t(1554),t(1558),t(1560),t(966),t(993),t(1561),t(994),t(1562),t(492),t(447);var i={"shared/blacklisted.html":t(1563),"scrapbook/index.html":t(1564),"data-summary/index.html":t(1565),"add-data/index.html":t(1566),"embeddable-widgets/index.html":t(1567),"join-data/index.html":t(1568),"api_keys/index.html":t(1569),"insert_keys/show.html":t(1570),"query_keys/show.html":t(1571),"formatter/index.html":t(1572),"explorer/index.html":t(1573),"metric_explorer/index.html":t(1574),"dashboards/index.html":t(1575),"dashboards/import.html":t(1576),"playbook/index.html":t(1577),"shared/404.html":t(510)};o.config(["$httpProvider","$compileProvider",function(e,n){e.interceptors.push("TimezoneInterceptor"),n.debugInfoEnabled(!0)}]),o.run(["$rootScope","$routeParams","Accounts",function(e,n,t){var o=e.$on("$routeChangeSuccess",function(e,n){o(),t.currentAccount=+n.params.account_id,window.utag_data={signup_submit:"",insigntera_account:""};var i=document.createElement("script");i.src="//tags.tiqcdn.com/utag/newrelic/insights/prod/utag.js",i.type="text/javascript",i.async=!0,a.element("body").append(i)})}]),o.config(["$routeProvider","$locationProvider",function(e,n){n.html5Mode({enabled:!0,requireBase:!1}),e.when("/",{redirectTo:function(){return"/accounts/"+window.Insights.account.id}}),e.when("/accounts/:account_id",{redirectTo:function(e,n,t){return n+"/query"}}),e.when("/accounts/:account_id/disabled",{templateUrl:i["shared/blacklisted.html"]}),e.when("/accounts/:account_id/hello/:step_name?",{controller:"HelloController",templateUrl:i["hello/index.html"],title:"Welcome to a new kind of analytics engine"}),e.when("/accounts/:account_id/query",{controller:"ScrapbookController",templateUrl:i["scrapbook/index.html"],reloadOnSearch:!1}),e.when("/accounts/:account_id/manage",{redirectTo:function(e,n,t){return n+"/summary"}}),e.when("/accounts/:account_id/manage/summary",{controller:"DataSummaryController",title:"Data summary",subnav:!0,templateUrl:i["data-summary/index.html"]}),e.when("/accounts/:account_id/manage/add_data",{controller:"AddDataController",title:"Add data",subnav:!0,templateUrl:i["add-data/index.html"]}),e.when("/accounts/:account_id/manage/embeddables",{controller:"EmbeddableWidgetsController",title:"Embeddables",subnav:!0,templateUrl:i["embeddable-widgets/index.html"]}),e.when("/accounts/:account_id/manage/lookup_tables",{title:"Lookup tables",subnav:!0,templateUrl:i["join-data/index.html"],feature:"join_data_sources"}),e.when("/accounts/:account_id/manage/api_keys",{subnav:!0,title:"API keys",templateUrl:i["api_keys/index.html"]}),e.when("/accounts/:account_id/manage/api_keys/insert/:id",{controller:"InsertKeyController",subnav:!0,title:"Edit insert key",templateUrl:i["insert_keys/show.html"]}),e.when("/accounts/:account_id/manage/api_keys/query/:id",{controller:"QueryKeyController",subnav:!0,title:"Edit query key",templateUrl:i["query_keys/show.html"]}),e.when("/accounts/:account_id/manage/formatter",{controller:"FormatterController",subnav:!0,title:"Formatter",templateUrl:i["formatter/index.html"],reloadOnSearch:!1}),e.when("/accounts/:account_id/explorer/events/:event_type",{controller:["$routeParams","$location",function(e,n){n.path("/accounts/"+e.account_id+"/explorer/events").search("eventType",e.event_type)}],template:"<div>\x3c!-- Apparently this has to be here --\x3e</div>"}),e.when("/accounts/:account_id/explorer/events",{controller:"EventTypesController",title:"Explorer",templateUrl:i["explorer/index.html"],reloadOnSearch:!1}),e.when("/accounts/:account_id/explorer/metrics",{title:"MetricExplorer",templateUrl:i["metric_explorer/index.html"],reloadOnSearch:!1}),e.when("/accounts/:account_id/explorer/:event_type",{redirectTo:"/accounts/:account_id/explorer/events/:event_type"}),e.when("/accounts/:account_id/metric_explorer",{redirectTo:"/accounts/:account_id/explorer/metrics"}),e.when("/accounts/:account_id/data_explorer",{redirectTo:"/accounts/:account_id/explorer/events"}),e.when("/accounts/:account_id/explorer",{redirectTo:"/accounts/:account_id/explorer/events"}),e.when("/accounts/:account_id/dashboards",{controller:"DashboardsController",title:"Dashboards",reloadOnSearch:!1,templateUrl:i["dashboards/index.html"]}),e.when("/accounts/:account_id/dashboards/import",{controller:"DashboardImportController",title:"Import dashboard",templateUrl:i["dashboards/import.html"],feature:"dashboard_import_export"}),e.when("/accounts/:account_id/dashboards/:id",{title:function(e,n){e.$watch("dashboard.title",function(e){e&&(n.title=e)})},controller:function(){},reloadOnSearch:!1,template:"<dashboard-v2-route></dashboard-v2-route>"}),e.when("/accounts/:account_id/dashboards_v2/:id",{redirectTo:"/accounts/:account_id/dashboards/:id"}),e.when("/accounts/:account_id/dashboards/:id/widgets",{redirectTo:"/accounts/:account_id/dashboards/:id"}),e.when("/accounts/:account_id/auto_instrument",{controller:"OtherwiseController",title:"Auto Instrumentation",template:""}),e.when("/accounts/:account_id/auto_instrument/:blah*",{controller:"OtherwiseController",title:"Auto Instrumentation",template:""}),e.when("/traces",{controller:"OtherwiseController",title:"Query traces",template:" "}),e.when("/traces/:id",{controller:"OtherwiseController",title:"Query trace",template:" "}),e.when("/accounts/:account_id/playbook",{controller:"PlaybookController",controllerAs:"playbook",title:"Design playbook",templateUrl:i["playbook/index.html"]}),e.otherwise({controller:"OtherwiseController",title:"Not found",templateUrl:i["shared/404.html"]})}]).run(["Dashboards","DashboardStore","Accounts","$rootScope",function(e,n,t,a){function o(){e.query({account_id:i}).$promise.then(function(e){n.set(e)})}var i=t.currentAccountRef.id;setTimeout(o),a.$on("accountChanged",function(e,t){i!=t.id&&(n.set([]),i=t.id,o())}),a.$on("dashboardsChanged",function(e){o()})}]),a.element(document).ready(function(){window.newrelic&&(window.newrelic.addRelease("InsightsApp",window.Insights.git_revision),window.newrelic.setCustomAttribute("git_revision",window.Insights.git_revision)),a.bootstrap(document,["Insights"],{strictDi:!0})})},1161:function(e,n){e.exports=_babelPolyfill},1163:function(e,n){!function(){var e=angular.module("toggle-switch",["ng"]);e.provider("toggleSwitchConfig",function(){this.onLabel="On",this.offLabel="Off",this.knobLabel=" ";var e=this;this.$get=function(){return{onLabel:e.onLabel,offLabel:e.offLabel,knobLabel:e.knobLabel}}}),e.directive("toggleSwitch",["toggleSwitchConfig",function(e){return{restrict:"EA",replace:!0,require:"ngModel",scope:{disabled:"@",onLabel:"@",offLabel:"@",knobLabel:"@"},template:'<div role="radio" class="toggle-switch" ng-class="{\'disabled\': disabled, \'switch-off\': !model, \'switch-on\': model}"><div class="toggle-switch-animate"><span class="switch-left" ng-bind="onLabel"></span><span class="knob" ng-bind="knobLabel"></span><span class="switch-right" ng-bind="offLabel"></span></div></div>',compile:function(n,t){return angular.isUndefined(t.onLabel)&&(t.onLabel=e.onLabel),angular.isUndefined(t.offLabel)&&(t.offLabel=e.offLabel),angular.isUndefined(t.knobLabel)&&(t.knobLabel=e.knobLabel),this.link},link:function(e,n,t,a){var o=!0;t.$observe("disabled",function(e){o="true"!==e}),n.on("click",function(){e.$apply(e.toggle)}),a.$formatters.push(function(e){return e}),a.$parsers.push(function(e){return e}),a.$render=function(){e.model=a.$viewValue},e.toggle=function(){o&&(e.model=!e.model,a.$setViewValue(e.model))}}}}])}()},1164:function(e,n,t){"use strict";function a(e,n,t,a,o,i){e.account_id=t.account_id,e.alertsUrl=i.alertsUrl()+"/accounts/"+e.account_id+"/policies",e.save=function(){e.key.$update(function(){o.path("/accounts/"+e.account_id+"/manage/api_keys")})},e.key=n.get({account_id:e.account_id,id:t.id}),e.deleteKey=function(){e.key.$remove(function(){o.path("/accounts/"+e.account_id+"/manage/api_keys")})},u(e,a)}function o(e,n,t,a,o){e.account_id=t.account_id,e.keys=[],n.prototype.isAllowed(function(t){e.showPane=t,t&&(e.keys=n.query({account_id:e.account_id})),e.$digest()}),e.create=function(){new n({account_id:e.account_id}).$save(function(e){o.path(e.url())})},e.requestDeleteKey=function(n){"I CONFIRM"===prompt('Are you sure you want to delete this key? Any clients using it will immediately stop working. \n\nPlease type "I CONFIRM" to confirm deletion.')&&e.deleteKey(n)},e.deleteKey=function(n){n.$remove(function(n){e.keys.splice(e.keys.indexOf(n),1)})},e.key={key:"YOUR_KEY_HERE"},u(e,a)}var i=t(527),r=t(4),s=r.module(e.i,["ngRoute","ngResource",t(62)]),l=t(550),c=t(1165),d=t(1166);s.factory("canManageQueryApiKeys",["FeatureFlags","$routeParams",function(e,n){return i.canManageQueryApiKeys.bind(null,e,n.account_id)}]),s.factory("canManageInsertApiKeys",["FeatureFlags","$routeParams",function(e,n){return i.canManageInsertApiKeys.bind(null,e,n.account_id)}]),s.factory("InsertKey",["$resource","canManageInsertApiKeys",function(e,n){var t=e("/internal_api/1/accounts/:account_id/insert_keys/:id",{account_id:"@account_id",id:"@id"},{update:{method:"PUT"}});return t.prototype.url=function(){return"/accounts/"+this.account_id+"/manage/api_keys/insert/"+this.id},t.prototype.isAllowed=function(e){n(e)},t}]),s.factory("QueryKey",["$resource","canManageQueryApiKeys",function(e,n){var t=e("/internal_api/1/accounts/:account_id/query_keys/:id",{account_id:"@account_id",id:"@id"},{update:{method:"PUT"}});return t.prototype.url=function(){return"/accounts/"+this.account_id+"/manage/api_keys/query/"+this.id},t.prototype.isAllowed=function(e){n(e)},t}]);var u=function(e,n){e.queryUrl="/v1/accounts/"+e.account_id+"/query",e.insertUrl="/v1/accounts/"+e.account_id+"/events",e.exampleQuery="SELECT average(duration) FROM PageView",e.queryKeysCurlTemplateUrl=l,e.insertKeysCurlTemplateUrl=c,e.apiKeysTableTemplateUrl=d;var t=n.Insights.env,a=t.INSERT_API_URL,o=t.QUERY_API_URL;e.insertHost=a,e.host=o};s.controller("InsertKeyController",["$scope","InsertKey","$routeParams","$window","$location","UrlHelper",a]),s.controller("QueryKeyController",["$scope","QueryKey","$routeParams","$window","$location","UrlHelper",a]),s.controller("InsertKeysController",["$scope","InsertKey","$routeParams","$window","$location",o]),s.controller("QueryKeysController",["$scope","QueryKey","$routeParams","$window","$location",o]),e.exports=s.name},1165:function(e,n){var t="/templates/insert_keys/_curl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<pre>gzip -c <a href="/example_events.json" target="_blank">example_events.json</a> | curl --data-binary @- -X POST -H "Content-Type: application/json" -H "X-Insert-Key: {{key.key}}" -H "Content-Encoding: gzip" {{insertHost}}{{insertUrl}}</pre>\n')}]),e.exports=t},1166:function(e,n){var t="/templates/api_keys/_table.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<table class='table' ng-show='keys.length > 0'>\n  <thead>\n    <th></th>\n    <th>Key</th>\n    <th>Notes</th>\n  </thead>\n  <tbody>\n    <tr ng-repeat='key in keys'>\n      <td>\n        <a class='btn btn-default btn-xs' href='{{key.url()}}' nr-track-click='apiKey:edit' nr-track-params='{api_key_id: key.id, api_key_path: key.url(), api_key_notes: key.notes}'>\n          <i class='icon-pencil'></i>\n          Edit\n        </a>\n        <a class='btn btn-danger btn-xs' ng-click='requestDeleteKey(key)'>\n          <i class='icon-trash-o'></i>\n          Delete\n        </a>\n      </td>\n      <td>\n        <a class='btn btn-default btn-xs' ng-click=\"onButton === 'Show' ? onButton = 'Hide' : onButton = 'Show'\" ng-init=\"onButton = 'Show'\">\n          <i class='icon-key'></i>\n          {{onButton}}\n        </a>\n        <div>\n          <span ng-if=\"onButton === 'Hide'\">{{key.key}}</span>\n          <span ng-if=\"onButton === 'Show'\">{{key.key | truncate:8}}..</span>\n        </div>\n      </td>\n      <td>{{key.notes}}</td>\n    </tr>\n  </tbody>\n</table>\n")}]),e.exports=t},1171:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[t(557),t(1172)]);return t(558),i.constant("OnboardingSteps2",[{step:1,name:"overview",displayName:"Overview",controller:"OverviewHelloStepController"},{step:2,name:"collect",displayName:"Collect",controller:"CollectHelloStepController"},{step:3,name:"analyze",displayName:"Analyze",controller:"AnalyzeHelloStepController"},{step:4,name:"present",displayName:"Present",controller:"PresentHelloStepController"},{step:5,name:"manage",displayName:"Manage",controller:"ManageHelloStepController"}]),i.constant("NRAgents",[{id:"ruby",name:"Ruby",icon:"icon-ruby",apiDocs:"http://rubydoc.info/gems/newrelic_rpm/NewRelic/Agent#add_custom_parameters-instance_method",rumDocs:"https://docs.newrelic.com/docs/ruby/real-user-monitoring-in-ruby"},{id:"java",name:"Java",icon:"icon-java",apiDocs:"https://docs.newrelic.com/docs/agents/java-agent/custom-instrumentation/java-agent-api#api-add-custom-parameter",rumDocs:"https://docs.newrelic.com/docs/java/real-user-monitoring-in-java"},{id:"dotnet",name:".NET",icon:"icon-windows",apiDocs:"https://docs.newrelic.com/docs/agents/net-agent/features/net-agent-api#add_custom_conv",rumDocs:"https://docs.newrelic.com/docs/dotnet/real-user-monitoring-in-net"},{id:"php",name:"PHP",icon:"icon-php",apiDocs:"https://docs.newrelic.com/docs/php/the-php-api#api-custom-param",rumDocs:"https://docs.newrelic.com/docs/php/real-user-monitoring-in-php"},{id:"python",name:"Python",icon:"icon-python",apiDocs:"https://docs.newrelic.com/docs/agents/python-agent/customization-extension/python-transaction-api#add_custom_parameter",rumDocs:"https://docs.newrelic.com/docs/agents/python-agent/supported-features/page-load-timing-python"},{id:"nodejs",name:"Node",icon:"icon-nodejs",apiDocs:"https://docs.newrelic.com/docs/agents/nodejs-agent/supported-features/nodejs-agent-api#custom-params",rumDocs:"https://docs.newrelic.com/docs/agents/nodejs-agent/supported-features/page-load-timing-nodejs"}]),i.factory("Vidgets2",["$q","$filter","TopApps","TopHosts",function(e,n,a,o){function i(n){var t=e.defer(),i=this;n||(n=a.data),this.now=new Date,this.threeDaysAgo=new Date(this.now),this.threeDaysAgo.setDate(this.threeDaysAgo.getDate()-2),this.promise=t.promise,this.appData=n,this.appData.promise.then(function(e){i.appName=e.topApp,i.eventType=e.eventType,i.timeUnit=e.timeUnit,i.topHostData=o.getData(i.appName),i.topHostData.promise.then(function(e){i.hostName=e.topHost,t.resolve(i)},function(e){t.resolve(i)})},function(e){t.resolve(i)})}return i.prototype={get examples(){var e="You don't have enough data to run this query";return this.appData.loading||this.topHostData&&this.topHostData.loading?[]:{basic:[{title:"What is our cross-application throughput in the last hour?",nrqlCategory:"Defaults and basics",nrqlDescription:["By default, if you do not declare a time range for the query, we only look at the last 1 hour of data.","This query would look at throughput across all applications and hosts, since no constraints were specified."],eventType:"Transaction",nrql:"SELECT count(*) from Transaction"},{title:"How much throughput are we experiencing for a specific application and host, in the last hour?",nrqlCategory:"WHERE, AND, OR",nrqlDescription:["This query is still only looking at data for the past 1 hour.","We are filtering down the data set to throughput for a specific host and a specific application.  We could just as easily put an 'OR' in the query as well."],eventType:"Transaction",nrql:"SELECT count (*) from Transaction WHERE host='"+(this.hostName||"EG.HOST")+"' AND appName = '"+(this.appName||"EG.APP")+"'",tryMeDisabledMessage:this.appName&&this.hostName?"":e},{title:"How much throughput has my app had in total in the last 12 hours until 1 hour ago?",nrqlCategory:"SINCE & UNTIL",nrqlDescription:["SINCE allows you to define the look back window for your query. You can set it to 'hours', 'days', 'weeks', and 'months', depending on the amount of data retention you have for your account.","Time ranges specified with 'SINCE' function as a sliding window, so as time passes, the query will consistently re-run and update in real-time, looking back 12 hours from the last time the query re-ran.","UNTIL allows you to choose the end time for the time range window. It is also “sliding” and will update as the query re-runs."],eventType:"Transaction",nrql:"SELECT count(*) FROM Transaction WHERE appName = '"+(this.appName||"EG.APP")+"' SINCE 12 hours ago UNTIL 1 hour ago",tryMeDisabledMessage:this.appName?"":e},{title:"How much throughput has my app had from 3 days ago to now?",nrqlCategory:"TIMESERIES & exact dates",nrqlDescriptionTemplate:t(558),eventType:"Transaction",nrql:"SELECT count(*) FROM Transaction WHERE appName = '"+(this.appName||"EG.APP")+"' SINCE '"+n("date")(this.threeDaysAgo,"yyyy-MM-dd")+"' UNTIL '"+n("date")(this.now,"yyyy-MM-dd")+"' TIMESERIES AUTO",tryMeDisabledMessage:this.appName?"":e},{title:"What is the breakdown of throughput by controller name?",nrqlCategory:"FACET, bars and pie chart",nrqlDescription:["In NRQL, we use the keyword FACET instead of GROUP BY. Functionally, they are the same."],eventType:"Transaction",nrql:"SELECT count(*) FROM Transaction FACET name"},{title:"How does my apps' throughput today compare to yesterday?",nrqlCategory:"Line charts & comparisons",nrqlDescription:["In this NRQL statement, we take a look at data over the past week and use the TIMESERIES keyword to visualize the data as a trend line.","You can specify the time buckets manually by replacing AUTO with minute, day, week, etc. If you specify AUTO, Insights determines the best fit time bucket for your range.","The COMPARE WITH function allows us to do comparative analysis of a given metric. You can use this on any trend line or single metric calculations in Insights."],eventType:"Transaction",nrql:"SELECT count(*) FROM Transaction SINCE 1 day ago TIMESERIES AUTO COMPARE WITH 1 day ago"},{title:"What are the average, max, and min durations for top transactions?",nrqlCategory:"Numerical aggregations (sum, avg, max, min)",nrqlDescription:["In this statement, we are going to get a tabular view of our top 50 transactions and get 4 metrics for each row in the table.","When you have a tabular view like this, the metrics are sorted largest to smallest by the first function in your SELECT statement, so in this case, we would have the the highest throughput transaction first, down to the 50th highest throughput transaction (due to the LIMIT statement)."],eventType:"Transaction",nrql:"SELECT count(*), average(duration), max(duration),  min(duration), sum(duration) FROM Transaction FACET name LIMIT 50"},{title:"How many unique controllers have made requests in the last day?",nrqlCategory:"uniqueCount",nrqlDescription:["This function takes a unique count of the string values in your data set for a specific application, over the last week.","This function is the same as DISTINCT in SQL. It can be very helpful for tracking the unique number of usernames, emails, or IDs in your application, once you add those data points as custom attributes."],eventType:"Transaction",nrql:"SELECT uniqueCount(name) FROM Transaction WHERE appName = '"+(this.appName||"EG.APP")+"' SINCE 1 day ago",tryMeDisabledMessage:this.appName?"":e},{title:"What is the list of names for all my hosts generating requests in the last day?",nrqlCategory:"UNIQUES",nrqlDescription:["Use this function to return a list of unique values recorded for an attribute over the time range specified.","This can be helpful if you add in some custom attributes, for example, username, and want to get a unique list of all users."],eventType:"Transaction",nrql:"SELECT uniques(host) FROM Transaction SINCE 1 day ago"},{title:"What are the latest hosts that delivered a specific request in the last day?",nrqlCategory:"LATEST",nrqlDescription:["The latest function returns the most recent value for an attribute over a specified time range.","If used in conjunction with a FACET, it will return the most recent value for an attribute for each of the resulting facets.","Try this function out with errorMessage and errorType attributes (available for users on the PHP APM agent) or the httpResponseCode attribute (available for users on the PHP or Java APM agent)."],eventType:"Transaction",nrql:"SELECT latest(host) FROM Transaction FACET name SINCE 1 day ago"},{title:"What % of time is spent in the application processing the request, outside of database processing?",nrqlCategory:"Math functions in NRQL",nrqlDescription:["You can apply math in NRQL to calculate new metrics from different numerical values you are tracking in New Relic Insights. Math does not work with String values.","NRQL supports addition, subtraction, multiplication, and division.","In the example query, we wanted to calculate what % of time for a given transaction is spent in database processing, which may indicate that a database query needs to be optimized.","This query also makes use of aliasing your column name so it is more user-friendly, by using the AS 'String' syntax."],eventType:"Transaction",nrql:"SELECT (1-(average(duration)-average(databaseDuration))/average(duration))*100 AS '% of time in DB' FROM Transaction FACET name WHERE appName = '"+(this.appName||"EG.APP")+"'",tryMeDisabledMessage:this.appName?"":e}],adv:[{title:"What does the user funnel look like from my homepage, to signup, to checkout?",nrqlCategory:"Funnels",nrqlDescription:["A funnel allows you to ask, “Of the people that did (A), how many also did (B), and of the people that did (A) and (B), how many also completed (C)?”","In this example, we also aliased each step, to make a cleaner looking funnel visualization.",'Funnels do require an attribute that is some sort of persistent user identifier. If you are using New Relic Browser, you can use the default "session" ID attribute. If you add custom attributes for users, such as username or userId, you can also funnel off of those attributes.'],eventType:"Transaction",nrql:"SELECT funnel(session, WHERE pageUrl = 'http://www.home.com' AS 'Home', WHERE pageUrl = 'http://www.home.com/signup' AS 'Signup', WHERE pageUrl = 'http://www.home.com/thankyou' AS 'Checkout') FROM PageView SINCE 1 week ago",tryMeDisabledMessage:"Try out your own application URLs for this query in the query bar"},{title:'What is the list of controller names and throughput for all controllers with "data" in their names?',nrqlCategory:"Wildcard searches",nrqlDescription:['Using LIKE and NOT LIKE in your NRQL clause will allow you to perform a search against a particular attribute string. In this example, we looked at all controller names, and saw if the string "data" was in any of transactions, and then showed a count of those names.','By using "%" before and after the string, we specified that data could be anywhere in the controller name, whether in the beginning, middle, or end.'],eventType:"Transaction",nrql:"SELECT count(*) FROM Transaction WHERE name LIKE '%data%' FACET name SINCE 1 day ago"},{title:"What is the throughput like by day of week for my application?",nrqlCategory:"Time-based cohorting",nrqlDescription:["Cohort analysis groups results together based on time stamps, separating them into buckets that cover a specified range of dates and times.","The cohort buckets we support are: yearOf(), quarterOf(), monthOf(), weekOf(), weekdayOf(), dateOf(), dayOfMonthOf(), and hourOf().",'By default, you can use these functions on the "timestamp" attribute. If you add any new timestamp based custom attributes, you can also use cohorts, e.g. timestamp of account creation, or timestamp of purchase date.'],eventType:"Transaction",nrql:"SELECT count(*) FROM Transaction WHERE appName = '"+(this.appName||"EG.APP")+"' SINCE 1 week ago FACET weekdayOf(timestamp)",tryMeDisabledMessage:this.appName?"":e},{title:"What percentage of my apps transactions have an average duration > 1 second?",nrqlCategory:"Percentages",nrqlDescription:["The percentage function returns the percentage of a target data set that matches some condition.",'You can also use this function with string values, if you wanted to see the % of transactions with "data" in their controller name, or if you wanted to see the percentage of users using different browsers based on New Relic Browser PageView data.'],eventType:"Transaction",nrql:"SELECT percentage(count(*), WHERE duration > 1) FROM Transaction WHERE appName = '"+(this.appName||"EG.APP")+"' SINCE 1 day ago",tryMeDisabledMessage:this.appName?"":e},{title:"What are the 5th, 50th, and 95th duration percentiles for my app?",nrqlCategory:"Percentiles",nrqlDescription:["The percentile function returns the count at a given percentile. It requires a numerical attribute and can have any number of arguments afterwards representing the percentile points.","By using TIMESERIES on this function, we get a graph over time of the percentiles."],eventType:"Transaction",nrql:"SELECT percentile(duration, 5, 50, 95) FROM Transaction WHERE appName = '"+(this.appName||"EG.APP")+"' TIMESERIES AUTO",tryMeDisabledMessage:this.appName?"":e},{title:"What is the distribution of response times for my app?",nrqlCategory:"Histograms",nrqlDescription:["Use the histogram function to generate histogram with a customized time range and number of buckets to split up your data.","Start by putting in a numerical attribute, then specify the maximum range, and then the number of buckets across that range."],eventType:"Transaction",nrql:"SELECT histogram(duration, width: 2, buckets: 20) FROM Transaction WHERE appName = '"+(this.appName||"EG.APP")+"' SINCE 1 day ago",tryMeDisabledMessage:this.appName?"":e},{title:"What is the breakdown of my database duration against my overall duration?",nrqlCategory:"Bucketing numerical data",nrqlDescription:["Bucketing allows you to segment one set of numerical data into buckets over a range. Segments group results together based on numerical values.","In the example query, we want to see what the average database duration is like against the overall duration, and see if there is a correlation between the average duration and overall duration, as the overall duration increases.","For more powerful analyses, it is useful to add business-level custom attributes, such as revenue_tier, which then allow you to see how you perform against different sets of customers based on their revenue tier."],eventType:"Transaction",nrql:"SELECT average(databaseDuration) FROM Transaction FACET buckets(duration, width: 5, buckets: 10) WHERE appName = '"+(this.appName||"EG.APP")+"' SINCE 1 day ago",tryMeDisabledMessage:this.appName?"":e}]}}},i}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1172:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[t(43),t(177)]);return i.factory("TopHosts",["$rootScope","$q","Accounts","Query",function(e,n,t,a){function i(){return p.loading&&s.reject("Reset"),o.copy({accountId:void 0,topHosts:[],topHost:void 0,eventCount:void 0,eventType:void 0,timeUnit:void 0,loading:!1},p)}function r(e,i,h){var g,f,m=u;return p.promise&&p.loading||(s=n.defer(),p.accountId=t.currentAccountId,p.promise=s.promise,p.loading=!0),o.isDefined(i)||(i=o.copy(c)),o.isDefined(h)||(h=o.copy(d)),g=i[0],f=h.shift(),g?f?(a.query(p.accountId,"SELECT count(*) FROM "+g+" FACET host WHERE appName = '"+e+"' SINCE 1 "+f+" ago LIMIT "+m).success(function(n){if(!n.facets||!n.facets.length)return r(e,i,h);p.eventType=g,p.topHosts=n.facets,p.topHost=p.topHosts[0].name,p.eventCount=p.topHosts[0].results[0],p.timeUnit=f,p.loading=!1,s.resolve(p)}).error(function(n){r(e,i,h)}),p):(i.shift(),h=o.copy(d),r(e,i,h)):(l.reset(),s.reject("No host data"),p)}var s,l,c=["PageView","Transaction"],d=["hour","day"],u=3,p={};return l={getData:function(e){return p.loading||p.topHosts.length?p:l.load(e)},load:r,reset:i},l.reset(),e.$on("accountChanged",function(e,n){n.id!==p.accountId&&l.reset()}),l}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1173:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[]);return i.filter("camelize",function(){return function(e,n){var t=e.replace(/[-_\s]$/,"").replace(/[-_\s]+(.)/g,function(e,n){return n.toUpperCase()});return n&&(t=t[0].toUpperCase()+t.slice(1)),t}}),i.name}.call(n,t,n,e))&&(e.exports=a)},1174:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[]);return i.filter("indent",function(){return function(e,n,t){return n=n||1,t=t||"  ",e.replace(/\n/g,"\n"+Array(n).join(t))}}),i.name}.call(n,t,n,e))&&(e.exports=a)},1175:function(e,n){var t="/templates/hello2/_pagination.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='welcome-pagination2 disable-select'>\n  <div class='pagination-container'>\n    <div class='pagination btn-group btn-group-lg pagination-pages'>\n      <a class='btn btn-default' href='/accounts/{{accountId}}/query?hello={{s.name}}' ng-class='{active: (pagination.step.name == s.name)}' ng-repeat='s in steps' nr-track-click='Tutorial:Nav:{{s.displayName}}' role='button'>{{s.displayName}}</a>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1176:function(e,n){var t="/templates/hello2/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='hello' ng-class='{\"with-pagination\": pagination}'>\n  <div class='hello-step-container' ng-controller='HelloStep2Controller'>\n    <div ng-include='paginationTemplateUrl'></div>\n    <div class='hello-step' ng-include='stepTemplateUrl'></div>\n  </div>\n</div>\n")}]),e.exports=t},1177:function(e,n){var t="/templates/hello2/_step_collect_apm_forward.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='row'>\n  <div class='col-md-12'>\n    <p>\n      You can also forward attributes from APM transactions to Browser (PageView) events. This allows you to\n      capture custom attributes such as username for both client-side and server-side events.\n    </p>\n    <p>\n      To forward attributes follow these instructions for your specific language agent:\n    </p>\n    <p>\n      1) Insert custom attributes by following the agent-specific instructions detailed above.\n    </p>\n    <p>\n      2) Enable attribute forwarding in your agent configuration file:\n      <ul>\n        <li>Java: Add the attributes.enabled option in the browser_monitoring stanza and set it to True.</li>\n        <li>\n          .NET: Add the &lt;attributes enabled=&quot;true&quot;&gt; element as a child of the browserMonitoring element.\n        </li>\n        <li>Node.js: Not currently supported.</li>\n        <li>PHP: Enable the browser_monitoring.capture_attributes option and set it to true.</li>\n        <li>Python: Enable the browser_monitoring.capture_attributes setting and set it to true.</li>\n        <li>Ruby: Add the browser_monitoring.capture_attributes option and set it to true.</li>\n      </ul>\n    </p>\n  </div>\n</div>\n")}]),e.exports=t},1178:function(e,n){var t="/templates/hello2/_step_collect_client_side.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='row'>\n  <div class='col-md-12'>\n    <p>\n      With our JavaScript API, you can instrument your code to track attributes and custom events as PageActions.\n    </p>\n    <p>\n      The Insights Browser agent API allows New Relic Browser users to capture events, actions, route\n      changes, or basically anything that an end user might do on your site or application. With just a\n      couple lines of code, you can instrument your JavaScript application to send custom events—called\n      PageActions—to Insights.\n      <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-insights-javascript-api#requirements' target='_blank'>\n        Read more about the compatibility and requirements here.\n      </a>\n    </p>\n    <form class='form learnboarding' name='browserConfigForm' role='form'>\n      <div class='form-group'>\n        <div class='btn-group btn-group-lg btn-group-justified btn-grid select-agent'>\n          <a class='btn btn-default' ng-class='{\"btn-primary\": (!browserAttr || browserAttr === \"trackButton\")}' ng-click=\"browserAttr = 'trackButton'\" nr-track-click='Tutorial:Collect:Expand:Browser:Clicks'>\n            <span class='agent-name in-panel'>\n              Track button or link clicks\n            </span>\n          </a>\n          <a class='btn btn-default' ng-class='{\"btn-primary\": (browserAttr === \"trackForm\")}' ng-click=\"browserAttr = 'trackForm'\" nr-track-click='Tutorial:Collect:Expand:Browser:FieldData'>\n            <span class='agent-name in-panel'>\n              Track form field data\n            </span>\n          </a>\n          <a class='btn btn-default' ng-class='{\"btn-primary\": (browserAttr === \"trackRoute\")}' ng-click=\"browserAttr = 'trackRoute'\" nr-track-click='Tutorial:Collect:Expand:Browser:RouteChange'>\n            <span class='agent-name in-panel'>\n              Track route changes (e.g. Angular)\n            </span>\n          </a>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n<div class='row'>\n  <div class='col-md-12'>\n    <dl>\n      <div ng-show=\"!browserAttr || browserAttr === 'trackButton'\">\n        <dt class='list-header'>\n          Recording link clicks\n        </dt>\n        <dd>\n          <p>\n            This example records a PageAction event whenever a user selects the\n            <b>Try Me!</b>\n            link. The event is recorded with an\n            <code>actionName</code>\n            of\n            <code>clickedTryMe</code>:\n          </p>\n          <div class='panel panel-default'>\n            <div class='panel-body'>\n              <pre><code>&lt;a href=\"/demo\" id=\"try-me\"&gt;Try Me!&lt;/a&gt;&#x000A;&lt;script&gt;&#x000A;    document.getElementById('try-me').addEventListener('click',function (e) {&#x000A;        newrelic.addPageAction('clickedTryMe');&#x000A;    })&#x000A;&lt;/script&gt;&#x000A;</code></pre>\n            </div>\n          </div>\n          <p>\n            You could then query the number of times the\n            <b>Try Me!</b>\n            button was clicked with the following NRQL query:\n          </p>\n          <div class='panel panel-default'>\n            <div class='panel-body'>\n              <pre><code>SELECT count(*) FROM PageAction WHERE actionName='clickedTryMe' SINCE 1 hour ago</code></pre>\n            </div>\n          </div>\n        </dd>\n      </div>\n      <div ng-show=\"browserAttr === 'trackForm'\">\n        <dt class='list-header'>\n          Capturing user input\n        </dt>\n        <dd>\n          <p>\n            This example captures user input (email addresses) from a form called\n            <b>Signup.</b>\n            The event is recorded with an\n            <code>actionName</code>\n            of\n            <code>userSignup</code>:\n          </p>\n          <div class='panel panel-default'>\n            <div class='panel-body'>\n              <pre><code>&lt;form action=\"/signup\" id=\"myform\"&gt;&#x000A;    &lt;input id=\"email\" name=\"email\"&gt;&#x000A;    &lt;input type=\"submit\" value=\"Signup\"&gt;&#x000A;&lt;/form&gt;&#x000A;&lt;script type=\"text/javascript\"&gt;&#x000A;    document.getElementById('myform').addEventListener('submit', function (e) {&#x000A;        var email = e.target.elements['email'].value;&#x000A;        newrelic.addPageAction('userSignup', {email: email});&#x000A;    })&#x000A;&lt;/script&gt;&#x000A;</code></pre>\n            </div>\n          </div>\n          <p>\n            You could then see the emails that you gathered with the following NRQL query:\n          </p>\n          <div class='panel panel-default'>\n            <div class='panel-body'>\n              <pre><code>SELECT uniques(email) FROM PageAction WHERE actionName='userSignup' SINCE 1 HOUR ago</code></pre>\n            </div>\n          </div>\n        </dd>\n      </div>\n      <div ng-show=\"browserAttr === 'trackRoute'\">\n        <dt class='list-header'>\n          Instrumenting route changes\n        </dt>\n        <dd>\n          <p>\n            In some Single-Page Application (SPA) frameworks, page actions may take the form of a route change, in\n            which a stage change occurs on the page but the page does not reload. For these apps, you can instrument\n            these route changes with the PageAction API.\n          </p>\n          <p>\n            For example, to instrument route changes in an Angular app:\n          </p>\n          <div class='panel panel-default'>\n            <div class='panel-body'>\n              <pre><code>angular.module('MyApp').run(['$rootScope', '$location',&#x000A;function($rootScope, $location) {&#x000A;    $rootScope.$on('$routeChangeSuccess', function() {&#x000A;        newrelic.addPageAction('angularRouteChange', { url: $location.url() })&#x000A;    });&#x000A;}]);</code></pre>\n            </div>\n          </div>\n        </dd>\n      </div>\n    </dl>\n  </div>\n</div>\n")}]),e.exports=t},1179:function(e,n){var t="/templates/hello2/_step_collect_custom.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='row'>\n  <div class='col-md-12'>\n    <p>\n      You can insert any 3rd party or external data into Insights via the Insert Data API. These new data sets are\n      stored as custom events, which can be queried along side your other New Relic data. You can also record custom\n      events directly from supported agents using the appropriate agent API.\n    </p>\n    <p>\n      To get started with sending custom events into Insights via the Insert Data API, you need to take 3 steps:\n    </p>\n    <p>\n      1) Register an Insights Insert Data API key.\n    </p>\n    <p>\n      2) Generate JSON for the event by instrumenting your application, querying an API, or some other method.\n    </p>\n    <p>\n      3) Submit the JSON file to the Insights HTTPS endpoint using cURL in a POST request.\n    </p>\n    <p>\n      Here is what a sample request would look like with the correct information to send a single custom event into\n      Insights.\n    </p>\n    <div class='panel panel-default'>\n      <div class='panel-body'>\n        <pre><code>cat example_events.json | curl -d @- -X&#x000A;  POST -H \"Content-Type: application/json\" -H \"X-Insert_Key: YOUR_KEY_HERE\"&#x000A;  https://insights-collector.newrelic.com/v1/accounts/(your account id)/events&#x000A;</code></pre>\n      </div>\n    </div>\n    <p>\n      When generating the HTTP request, make sure it is properly formatted.\n    </p>\n    <p>\n      * The X-Insert-Key must contain the correct Insert Key.\n    </p>\n    <p>\n      * The Content-Type must be application/json\n    </p>\n    <p>\n      * Use POST, not PUT or GET\n    </p>\n    <p>\n      For a quick start way to get up and running with custom events from PagerDuty, please refer to the GitHub repo\n      here:\n      <a href='https://github.com/newrelic/insights-about-pagerduty' target='_blank'>\n        https://github.com/newrelic/insights-about-pagerduty\n      </a>\n    </p>\n  </div>\n</div>\n")}]),e.exports=t},1180:function(e,n){var t="/templates/shared/_custom_attrs_code2.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='row'>\n  <div class='col-md-12'>\n    <h5 class='guide-heading'>\n      Example adding user ID, cart size and pay level to transactions\n    </h5>\n    <form class='form learnboarding' name='agentConfigForm' ng-submit='AgentConfig.refresh()' role='form'>\n      <div class='form-group'>\n        <div class='btn-group btn-group-lg btn-group-justified btn-grid select-agent' ng-show='AgentConfig.agents.length'>\n          <a class='btn btn-default' href='/accounts/{{accountId}}/query{{queryStr(a)}}' ng-class='{\"btn-primary\": (agent.id == a.id)}' ng-click='loadAgent(a.id)' ng-repeat='a in AgentConfig.agents' nr-track-click='Tutorial:Collect:Expand:APM:{{a.name}}' nr-track-params='{agent: a.name}'>\n            <i class='icon icon-lg' ng-class=\"'{{a.icon}}'\"></i>\n            <span class='agent-name in-panel'>\n              {{a.name}}\n            </span>\n          </a>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n<div class='row guide-step tldr' ng-if='agent'>\n  <div class='col-md-12'>\n    <pre class='clickable' nr-select-all><code>{{AgentConfig.code}}&#x000A;</code></pre>\n  </div>\n</div>\n\x3c!-- // agent language config include /// --\x3e\n<div ng-include='agentConfigTemplateUrl'></div>\n\x3c!-- // agent language config include /// --\x3e\n<div class='row' ng-if='!agent'>\n  <div class='col-md-12'>\n    <hr>\n    <h3>Select your agent language for a detailed guide</h3>\n  </div>\n</div>\n")}]),e.exports=t},1181:function(e,n){var t="/templates/hello2/step_analyze.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='col-md-12 step-analyze'>\n  <h2>Analyze and visualize data in real-time</h2>\n  <div class='row step-description'>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <div class='highlight-block'>\n        <p>\n          New Relic Insights allows you to query your data with familiar SQL-like syntax (we call it New Relic Query\n          Language, or NRQL).\n        </p>\n        <p>\n          Once you run a query, you can choose different visualization options from the query panel, and your query\n          will continue to update in real-time.\n        </p>\n        <p>\n          We provide a few features which make querying even easier for users:\n        </p>\n        <ul>\n          <li>\n            Auto-complete: as you type in the NRQL bar, we suggest relevant syntax to make querying even faster. Use TAB\n            to fly through building queries.\n          </li>\n          <li>\n            Auto-listing attributes: no longer rely on looking back at column names in your data tables.  We list out the\n            various functions and attributes you can use in your query.\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <img class='img-highlight' nr-src='hello/analyze_main.png'>\n    </div>\n  </div>\n  <div class='row'>\n    <div class='col-md-12 highlight-block-container'>\n      <div class='highlight-block'>\n        <h3>Follow the tutorials below to explore querying in Insights</h3>\n        <div class='btn-group btn-group-lg btn-group-justified btn-grid query-type-toggle'>\n          <a class='btn btn-default' ng-class='{\"btn-primary\": (!queryType || queryType === \"basic\")}' ng-click=\"changeQueryType('basic')\">\n            Basic\n          </a>\n          <a class='btn btn-default' ng-class='{\"btn-primary\": (queryType === \"adv\")}' ng-click=\"changeQueryType('adv')\">\n            Advanced\n          </a>\n        </div>\n        <nr-spinner align='center' loading='loading' size='xl'></nr-spinner>\n        <div ng-if='!loading'>\n          <section class='sample-queries' ng-show=\"!queryType || queryType === 'basic'\">\n            <div bs-collapse class='panel-group' ng-model='nrqlPanels.activePanel' role='tablist'>\n              <div class='panel panel-default' ng-repeat='s in sampleQueries.basic'>\n                <sample-nrql account-id='accountId' expanded='$index == nrqlPanels.activePanel' nrql-category='s.nrqlCategory' nrql-description-template='s.nrqlDescriptionTemplate' nrql-description='s.nrqlDescription' nrql='s.nrql' tip='s.title' try-me-disabled-message='s.tryMeDisabledMessage'></sample-nrql>\n              </div>\n            </div>\n          </section>\n          <section class='sample-queries' ng-show=\"queryType === 'adv'\">\n            <div bs-collapse class='panel-group' ng-model='nrqlPanels.activePanel' role='tablist'>\n              <div class='panel panel-default' ng-repeat='s in sampleQueries.adv'>\n                <sample-nrql account-id='accountId' expanded='$index == nrqlPanels.activePanel' nrql-category='s.nrqlCategory' nrql-description-template='s.nrqlDescriptionTemplate' nrql-description='s.nrqlDescription' nrql='s.nrql' tip='s.title' try-me-disabled-message='s.tryMeDisabledMessage'></sample-nrql>\n              </div>\n            </div>\n          </section>\n          <p class='next-step text-center action pull-left'>\n            <a class='btn btn-lg btn-primary btn-action' href='/accounts/{{accountId}}/query?hello={{pagination.next.name}}' nr-scroll-top nr-track-click='Tutorial:Analyze:NextStep'>\n              Next section\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1182:function(e,n){var t="/templates/hello2/step_collect.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='col-md-12 step-collect'>\n  <h2>Getting data into Insights</h2>\n  <div class='row step-description'>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <div class='highlight-block'>\n        <p>\n          New Relic Insights automatically collects and stores data for analysis from our other products for more\n          advanced and custom analysis.  Learn about the exact data below:\n        </p>\n        <ul>\n          <li>\n            APM data:\n            <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/decorating-events/insights-attributes#transaction-defaults' nr-track-click='Tutorial:Collect:Link:transaction-defaults' target='_blank'>\n              Transactions\n            </a>\n          </li>\n          <li>\n            Browser data:\n            <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/decorating-events/insights-attributes#browser-defaults' nr-track-click='Tutorial:Collect:Link:browser-defaults' target='_blank'>\n              PageView and PageAction\n            </a>\n          </li>\n          <li>\n            Mobile data:\n            <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/decorating-events/insights-attributes#mobile-defaults' nr-track-click='Tutorial:Collect:Link:mobile-defaults' target='_blank'>\n              Mobile\n            </a>\n          </li>\n          <li>\n            Synthetics data:\n            <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/decorating-events/insights-attributes#synthetics-attributes' nr-track-click='Tutorial:Collect:Link:synthetics-attributes' target='_blank'>\n              SyntheticCheck and SyntheticRequest\n            </a>\n          </li>\n        </ul>\n        <p>\n          You can enrich your existing data with\n          <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/decorating-events/insights-custom-attributes' nr-track-click='Tutorial:Collect:Link:insights-custom-attributes' target='_blank'>\n            custom attributes.\n          </a>\n          You can also import any other JSON data to our\n          Insert Data API via\n          <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-insights-api' nr-track-click='Tutorial:Collect:Link:inserting-custom-events' target='_blank'>custom events.</a>\n        </p>\n        <p>\n          Checkout your own data in the\n          <a href='/accounts/{{accountId}}/explorer' nr-track-click='Tutorial:Collect:Link:insights-data-explorer' target='_blank'>Data Explorer</a>\n          in the top left navigation!\n        </p>\n      </div>\n    </div>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <embed class=\"header-video\" src=\"https://embed-ssl.wistia.com/flash/embed_player_v2.0.swf?2015-02-27\"\n      name=\"wistia_13\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\"\n      wmode=\"opaque\"\n      flashvars=\"controlsVisibleOnLoad=false&amp;customColor=4cb0bd&amp;endVideoBehavior=reset&amp;mediaDuration=500.665&amp;playButtonVisible=true&amp;referrer=https%3A%2F%2Fdocs.newrelic.com%2Fnru&amp;showAbout=true&amp;showVolume=true&amp;stillUrl=https%3A%2F%2Fembed-ssl.wistia.com%2Fdeliveries%2Fe4e4d403c3682fcae45e2d3f56581bd2381527de.jpg%3Fimage_crop_resized%3D640x360&amp;allowSwitchToHtml5=true&amp;trackingTransmitInterval=20&amp;unbufferedSeek=true&amp;videoUrl=https%3A%2F%2Fembed-ssl.wistia.com%2Fdeliveries%2Fe79fa517b6623809b1b49d749b812f21c1d4f68a.bin&amp;wmode=opaque&amp;hdUrl=https%3A%2F%2Fembed-ssl.wistia.com%2Fdeliveries%2F479740163bd9a2c9398321cf990d6fc776395257.bin\"\n      bgcolor=\"#f8f8f8\">\n    </div>\n  </div>\n  <div class='row'>\n    <div class='col-md-12 highlight-block-container'>\n      <div class='highlight-block'>\n        <h3>Follow the tutorials below to get started with enriching data in Insights</h3>\n        <div aria-multiselectable='true' bs-collapse class='panel-group' ng-model='agentPanels.activePanel' role='tablist'>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Collect:Expand:APM'>\n                  <i ng-class=\"{'icon-chevron-right': agentPanels.activePanel != 0, 'icon-chevron-down': agentPanels.activePanel == 0}\"></i>\n                  How do I track additional server-side application information?\n                  <div class='pull-right'>\n                    APM custom attributes\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='agent-config-container in-panel' ng-include='\"/templates/shared/_custom_attrs_code2.html\"'></div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Collect:Expand:Forwarding'>\n                  <i ng-class=\"{'icon-chevron-right': agentPanels.activePanel != 1, 'icon-chevron-down': agentPanels.activePanel == 1}\"></i>\n                  How do I forward APM custom attributes to my Browser PageViews?\n                  <div class='pull-right'>\n                    Forwarding APM attributes to PageView\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='agent-config-container in-panel' ng-include='\"/templates/hello2/_step_collect_apm_forward.html\"'></div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Collect:Expand:Browser'>\n                  <i ng-class=\"{'icon-chevron-right': agentPanels.activePanel != 2, 'icon-chevron-down': agentPanels.activePanel == 2}\"></i>\n                  How do I track additional client-side application information?\n                  <div class='pull-right'>\n                    Browser custom attributes\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='agent-config-container in-panel' ng-include='\"/templates/hello2/_step_collect_client_side.html\"'></div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Collect:Expand:Custom-Events-via-API'>\n                  <i ng-class=\"{'icon-chevron-right': agentPanels.activePanel != 3, 'icon-chevron-down': agentPanels.activePanel == 3}\"></i>\n                  How do I track data from PagerDuty or another 3rd party service?\n                  <div class='pull-right'>\n                    Custom events via API\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='agent-config-container in-panel' ng-include='\"/templates/hello2/_step_collect_custom.html\"'></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p class='next-step text-center action pull-left'>\n          <a class='btn btn-lg btn-primary btn-action' href='/accounts/{{accountId}}/query?hello={{pagination.next.name}}' nr-scroll-top nr-track-click='Tutorial:Collect:NextStep'>\n            Next section\n          </a>\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1183:function(e,n){var t="/templates/hello2/step_manage.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='col-md-12 step-manage'>\n  <h2>Understand and manage your data in Insights</h2>\n  <div class='row step-description'>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <div class='highlight-block'>\n        <p>\n          Getting the most out of Insights means understanding and managing your data. The “Manage data” section in the\n          left navigation bar gives you information on:\n        </p>\n        <ul>\n          <li>Which applications are reporting data?</li>\n          <li>How much data do you currently have stored in Insights?</li>\n          <li>What are my API keys for inserting or querying data?</li>\n        </ul>\n        <p>\n          In this section of the tutorial, we'll help you better understand how much data Insights stores, how to\n          manage the amount of data in your account, how Insights is priced, and where to find API keys.\n        </p>\n      </div>\n    </div>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <img class='img-highlight' nr-src='hello/manage_main.png'>\n    </div>\n  </div>\n  <div class='row'>\n    <div class='col-md-12 highlight-block-container'>\n      <div class='highlight-block'>\n        <h3>Follow the tutorials below to get started with managing your data</h3>\n        <div bs-collapse class='panel-group' ng-model='managePanels.activePanel' role='tablist'>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Manage:Expand:Data-summary'>\n                  <i ng-class=\"{'icon-chevron-right': managePanels.activePanel != 0, 'icon-chevron-down': managePanels.activePanel == 0}\"></i>\n                  How much data do I have stored in Insights?\n                  <div class='pull-right'>\n                    Data summary\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      For Insights Free customers, 1 day's worth of historical data from APM and Browser is stored in\n                      Insights at no additional charge and with no limit to the number of events per day.\n                    </p>\n                    <p>\n                      For Insights Pro customers, all the events collected over the specified data retention, which is\n                      set in weeks.\n                    </p>\n                    <p>\n                      To see your current data retention, click the “Manage data” link in the navigation to the left of\n                      your screen and view the gauges in the upper right corner with both current and projected data\n                      storage levels.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' nr-src='hello/data_summary.png'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Manage:Expand:Manage-data-collection'>\n                  <i ng-class=\"{'icon-chevron-right': managePanels.activePanel != 1, 'icon-chevron-down': managePanels.activePanel == 1}\"></i>\n                  How do I control which apps send and store data in Insights?\n                  <div class='pull-right'>\n                    Manage data collection\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      Insights allows customers to manage their data storage by disabling or re-enabling data\n                      collection at the application and event type level.\n                    </p>\n                    <p>\n                      To manage these options, click the “Manage data” link in the navigation to the left of your\n                      screen. You'll be taken to a summary page that lists each application being monitored by New\n                      Relic agents, with a\n                      <i class='icon-check text-success'></i>\n                      if data is being collected in Insights or a\n                      <i class='icon-times-circle text-danger'></i>\n                      if it is not.\n                    </p>\n                    <p>\n                      To change the state of any application/event type combination, simply click the “Configure Data\n                      Sources” button at the top of the application list and use the toggles to manage your preferences.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' nr-src='hello/manage_data.png'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Manage:Expand:Pricing-information'>\n                  <i ng-class=\"{'icon-chevron-right': managePanels.activePanel != 2, 'icon-chevron-down': managePanels.activePanel == 2}\"></i>\n                  How is Insights priced?\n                  <div class='pull-right'>\n                    Pricing information\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      Insights is priced based on the number of events in storage, which is directly impacted by the\n                      length of historical data you would like available to query.\n                    </p>\n                    <p>\n                      Storage tiers begin at 75 million events and range all the way up to 140 billion.\n                    </p>\n                    <p>\n                      If your use-case requires analysis on 7 weeks history from your software, and you are currently\n                      sending 10 million events to Insights each week, you'll need to purchase enough storage for 70\n                      million events, which corresponds to the first tier at 75 million.\n                    </p>\n                    <p>\n                      Contact a sales representative to find out more details on pricing and potential packages that\n                      are available.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' nr-src='hello/manage_pricing.png'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Manage:Expand:API-Keys'>\n                  <i ng-class=\"{'icon-chevron-right': managePanels.activePanel != 3, 'icon-chevron-down': managePanels.activePanel == 3}\"></i>\n                  When do I need API keys and where can I find them?\n                  <div class='pull-right'>\n                    Insert & query API Keys\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      API keys are used to authenticate users that intend to insert or query data.\n                    </p>\n                    <p>\n                      To generate a new key, click the “Manage data” link in the navigation bar to the left of your\n                      screen, and then click “API Keys” in the top navigation bar.\n                    </p>\n                    <p>\n                      Then, next to the type of key you'd like to generate, click the blue and white “plus sign” icon.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' nr-src='hello/api_keys.png'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p class='next-step text-center action pull-left'>\n          <a class='btn btn-lg btn-primary btn-action' href='/accounts/{{accountId}}/query' ng-click='queryfilter.toggle(\"history\")' nr-scroll-top nr-track-click='Tutorial:Manage:Button:GetStarted'>\n            Get started with Insights\n          </a>\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1184:function(e,n){var t="/templates/hello2/step_overview.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='col-md-12'>\n  <h2>A real-time platform for software analytics</h2>\n  <div class='row step-description'>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <div class='highlight-block'>\n        <p>\n          New Relic Insights is a real-time analytics platform that collects events directly from your live production\n          software and transforms them into actionable insights about your business, customers, and applications.\n        </p>\n        <p>\n          This tutorial provides you with a brief overview of New Relic Insights and gives usable code samples, queries,\n          and walkthroughs of the feature set.  We'll also cover these fundamental concepts in Insights:\n        </p>\n        <ul>\n          <li>Collect additional attributes and data points from your software</li>\n          <li>Analyze and beautifully visualize real-time data from your apps</li>\n          <li>Create powerful dashboards and data apps for your teams</li>\n        </ul>\n        <p class='next-step desktop-only text-center action pull-left'>\n          <a class='btn btn-lg btn-primary btn-action' href='/accounts/{{accountId}}/query?hello={{pagination.next.name}}' nr-scroll-top nr-track-click='Tutorial:Overview:Begin'>\n            Begin tutorial\n          </a>\n        </p>\n      </div>\n    </div>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <embed class=\"header-video\" src=\"https://embed-ssl.wistia.com/flash/embed_player_v2.0.swf?2015-02-27\"\n      name=\"wistia_13\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\"\n      wmode=\"opaque\" flashvars=\"controlsVisibleOnLoad=false&amp;customColor=4cb0bd&amp;endVideoBehavior=reset&amp;mediaDuration=202.405&amp;playButtonVisible=true&amp;referrer=https%3A%2F%2Fdocs.newrelic.com%2Fnru&amp;showAbout=true&amp;showVolume=true&amp;stillUrl=https%3A%2F%2Fembed-ssl.wistia.com%2Fdeliveries%2F8b5b39c3e940a0d6b11b52e3236e67150e4327e0.jpg%3Fimage_crop_resized%3D640x360&amp;allowSwitchToHtml5=true&amp;trackingTransmitInterval=20&amp;unbufferedSeek=true&amp;videoUrl=https%3A%2F%2Fembed-ssl.wistia.com%2Fdeliveries%2F5e80ea3fe54d697e58c9046df7ac4a16e36c89da.bin&amp;wmode=opaque&amp;hdUrl=https%3A%2F%2Fembed-ssl.wistia.com%2Fdeliveries%2Fb172e6fcd3961e7111b2eb8a74c35d936e0b2801.bin\"\n      bgcolor=\"#f8f8f8\">\n    </div>\n    <p class='next-step mobile-only text-center action'>\n      <a class='btn btn-lg btn-primary btn-action' href='/accounts/{{accountId}}/query?hello={{pagination.next.name}}' nr-scroll-top nr-track-click='Tutorial:Overview:Begin'>\n        Begin tutorial\n      </a>\n    </p>\n  </div>\n</div>\n")}]),e.exports=t},1185:function(e,n){var t="/templates/hello2/step_present.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='col-md-12 step-present'>\n  <h2>Building dashboards and sharing information</h2>\n  <div class='row step-description'>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <div class='highlight-block'>\n        <p>\n          At the heart of New Relic Insights is building dashboards for your consumption and for sharing with others.\n        </p>\n        <ul>\n          <li>Create powerful dashboards that tell a story</li>\n          <li>Filter and link multiple dashboards, to create drill down reports</li>\n          <li>Share and simplify reports into Data apps for your extended teams</li>\n        </ul>\n        <p>\n          This section of the tutorial intends to introduce you to the fundamentals of dashboards and powerful\n          features like filters and linking.\n        </p>\n      </div>\n    </div>\n    <div class='col-md-6 highlight-block-container new-learnboarding'>\n      <embed class=\"header-video\" src=\"https://embed-ssl.wistia.com/flash/embed_player_v2.0.swf?2015-02-27\" name=\"wistia_13\"\n      type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\" wmode=\"opaque\"\n      flashvars=\"controlsVisibleOnLoad=false&amp;customColor=4cb0bd&amp;endVideoBehavior=reset&amp;mediaDuration=257.901&amp;playButtonVisible=true&amp;referrer=https%3A%2F%2Fdocs.newrelic.com%2Fnru&amp;showAbout=true&amp;showVolume=true&amp;stillUrl=https%3A%2F%2Fembed-ssl.wistia.com%2Fdeliveries%2F500d20c19d7e4c8a1c64231f54467caa6b7b9c7b.jpg%3Fimage_crop_resized%3D640x360&amp;allowSwitchToHtml5=true&amp;trackingTransmitInterval=20&amp;unbufferedSeek=true&amp;videoUrl=https%3A%2F%2Fembed-ssl.wistia.com%2Fdeliveries%2Fd23ac05b5f97a59c34e4575a10eb3d05836a39b1.bin&amp;wmode=opaque&amp;hdUrl=https%3A%2F%2Fembed-ssl.wistia.com%2Fdeliveries%2F71c57a0c2002ec91ac04f07b47aee6f4ff9a776e.bin\"\n      bgcolor=\"#f8f8f8\">\n    </div>\n  </div>\n  <div class='row'>\n    <div class='col-md-12 highlight-block-container'>\n      <div class='highlight-block'>\n        <h3>Follow the tutorials below to get started with creating dashboards</h3>\n        <div bs-collapse class='panel-group' ng-model='presentPanels.activePanel' role='tablist'>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Present:Expand:Adding-widgets-to-dashboards'>\n                  <i ng-class=\"{'icon-chevron-right': presentPanels.activePanel != 0, 'icon-chevron-down': presentPanels.activePanel == 0}\"></i>\n                  How do I create a dashboard?\n                  <div class='pull-right'>\n                    Adding widgets to dashboards\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      The easiest way to create a dashboard is by clicking the green plus sign next to Account\n                      Dashboards in the Insights navigation.\n                    </p>\n                    <p>\n                      From there, give your new dashboard a title, select an icon, and set the permissions for that\n                      dashboard.\n                    </p>\n                    <p>\n                      When you are ready to save your dashboard, click “Done Editing” in the upper right hand corner.\n                      Now, add your first widget by writing a query in the NRQL bar at top, run it, and click\n                      “Add to this dashboard” button.\n                    </p>\n                    <p>\n                      You can also create a new dashboard after running any query, just click the blue “add to” button\n                      and select “New Dashboard” from the resulting list.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' ng-if='presentPanels.activePanel == 0' nr-src='hello/create_dashboards.gif'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Present:Expand:Widget-annotations'>\n                  <i ng-class=\"{'icon-chevron-right': presentPanels.activePanel != 1, 'icon-chevron-down': presentPanels.activePanel == 1}\"></i>\n                  How do I add contextual notes to my widgets for future reference?\n                  <div class='pull-right'>\n                    Widget annotations\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      When creating or editing a widget, notes can be left to offer additional information to anyone\n                      viewing the widget in the future.\n                    </p>\n                    <p>\n                      To add a note to a widget, type into the “Notes” field when creating or editing a widget.\n                    </p>\n                    <p>\n                      When a widget has a note, an icon will display on the widget and hovering your mouse over it will\n                      display the note's contents.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' ng-if='presentPanels.activePanel == 1' nr-src='hello/annotating_widgets.gif'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Present:Expand:Dashboard-filters'>\n                  <i ng-class=\"{'icon-chevron-right': presentPanels.activePanel != 2, 'icon-chevron-down': presentPanels.activePanel == 2}\"></i>\n                  How can I filter all the widgets on my dashboard by a single filter?\n                  <div class='pull-right'>\n                    Dashboard filters\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      Once you've created a dashboard, you can filter the results of every widget on that dashboard by\n                      applying filter values.\n                    </p>\n                    <p>\n                      To get started, enables Filters by clicking “Edit” on a dashboard, and then gear icon next to the\n                      text “Filter disabled.” Select one or more event types and one or more attributes.\n                    </p>\n                    <p>\n                      Click save and you'll now have a search box at the top of your dashboard to use when filtering\n                      all the widgets to specific attribute values.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' ng-if='presentPanels.activePanel == 2' nr-src='hello/filtering_dashboards.gif'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Present:Expand:Facet-linking'>\n                  <i ng-class=\"{'icon-chevron-right': presentPanels.activePanel != 3, 'icon-chevron-down': presentPanels.activePanel == 3}\"></i>\n                  How do I link one dashboard to another?\n                  <div class='pull-right'>\n                    Facet linking\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      Faceted tables, bar charts, pie charts, and histogram widgets can be linked to other dashboards\n                      for deeper analysis.\n                    </p>\n                    <p>\n                      To enable a link, put your dashboard into edit mode and navigate to the widget you want to\n                      link to another dashboard.\n                    </p>\n                    <p>\n                      Click the link icon and from the drop down menu, select another dashboard. Now, when you click a\n                      facet in this widget, you'll be redirected to another dashboard with the selected facet value\n                      applied as a filter.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' ng-if='presentPanels.activePanel == 3' nr-src='hello/linking_dashboards.gif'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Present:Expand:Dashboard-editing'>\n                  <i ng-class=\"{'icon-chevron-right': presentPanels.activePanel != 4, 'icon-chevron-down': presentPanels.activePanel == 4}\"></i>\n                  How do I change the size, order, and layout of widgets in a dashboard?\n                  <div class='pull-right'>\n                    Dashboard editing\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      All Insights dashboards have a grid layout, enabling 3 columns and unlimited rows of widgets.\n                      Widgets can sized at 1, 2, or 3 columns wide and 1, 2, or 3 rows tall.\n                    </p>\n                    <p>\n                      To edit widgets, view a dashboard and click the “Edit” button in the upper right hand corner of\n                      the screen. Now, click and hold on a widget to drag and place in a new location before releasing\n                      the mouse button.\n                    </p>\n                    <p>\n                      To resize, click and hold in the bottom right of the widget and drag until the widget is the\n                      size you desire and release the mouse button.\n                    </p>\n                    <p>\n                      When you are finished, click the “Done” button in the upper right corner of the dashboard to save\n                      and return to viewing the dashboard.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' ng-if='presentPanels.activePanel == 4' nr-src='hello/managing_dashboards.gif'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class='panel panel-default'>\n            <div class='panel-heading panel-heading-collapse' role='tab'>\n              <h4 class='panel-title'>\n                <a bs-collapse-toggle nr-track-click='Tutorial:Present:Expand:Data-apps'>\n                  <i ng-class=\"{'icon-chevron-right': presentPanels.activePanel != 5, 'icon-chevron-down': presentPanels.activePanel == 5}\"></i>\n                  How do I create a Data app?\n                  <div class='pull-right'>\n                    Data apps\n                  </div>\n                </a>\n              </h4>\n            </div>\n            <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n              <div class='panel-body'>\n                <div class='row'>\n                  <div class='col-md-6'>\n                    <p>\n                      Data apps are collections of dashboards that utilize dashboard linking to create a\n                      click-based experience for users that don't want to write queries.\n                    </p>\n                    <p>\n                      To create a Data app for yourself or others, click the green plus sign icon next to the Data apps\n                      link in the navigation bar to the left of your screen.\n                    </p>\n                    <p>\n                      Give your Data app a name, an icon, a URL, and set the permissions.\n                    </p>\n                    <p>\n                      Then, add dashboards by creating new ones or copying a dashboard that already exists in Insights.\n                    </p>\n                  </div>\n                  <div class='col-md-6'>\n                    <img class='img-highlight' ng-if='presentPanels.activePanel == 5' nr-src='hello/data_apps.gif'>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p class='next-step text-center action pull-left'>\n          <a class='btn btn-lg btn-primary btn-action' href='/accounts/{{accountId}}/query?hello={{pagination.next.name}}' nr-scroll-top nr-track-click='Tutorial:Present:NextStep'>\n            Next section\n          </a>\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1186:function(e,n){var t="/templates/agent_language_configs/_dotnet.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='guide-step' ng-hide='hidePageViewInstructions'>\n  <hr>\n  <h4>2. Forward custom attributes to the browser (PageViews)</h4>\n  <p>\n    <em>\n      <a href='{{agent.rumDocs}}' target='_blank'>Real user monitoring</a>\n      should be enabled and reporting data back to New Relic.\n    </em>\n  </p>\n  <p>\n    Once enabled, custom attributes are injected into the server response and collected along with page view data.\n  </p>\n  <p class='note'>\n    <i class='icon-warning text-warning'></i>\n    Be aware that custom attributes/values will be obfuscated in the page source.\n  </p>\n</div>\n<div class='guide-step agent-config' ng-hide='hidePageViewInstructions'>\n  <div class='panel panel-default'>\n    <div class='panel-heading'>\n      <code>%ALLUSERSPROFILE%\\New Relic\\.NET Agent</code>\n    </div>\n    <div class='panel-body'>\n      <pre><code class='yml'>&lt;configuration xmlns=\"urn:newrelic-config\" agentEnabled=\"true\" maxStackTraceLines=\"50\" timingPrecision=\"high\"&gt;&#x000A;  ...&#x000A;  &lt;browserMonitoring autoInstrument=\"true\" captureAttributes=\"true\"/&gt;&#x000A;  ...&#x000A;&lt;/configuration&gt;</code></pre>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1187:function(e,n){var t="/templates/agent_language_configs/_java.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='guide-step guide-examples'>\n  <div class='guide-example framework-example'>\n    <div ng-if='examplesNotCollapsable'>\n      Example: How to add custom attributes in a Play (2.x) app\n    </div>\n    <a class='clickable' ng-click='toggleExample(\"java-play\")' ng-if='!examplesNotCollapsable'>\n      <i ng-class='{\"icon-plus-square-o\": !examplesNotCollapsable && !examples[\"java-play\"], \"icon-minus-square-o\": !examplesNotCollapsable && examples[\"java-play\"]}'></i>\n      Example: How to add custom attributes in a Play (2.x) app\n    </a>\n    <div class='details' ng-show='examplesNotCollapsable || examples[\"java-play\"]'>\n      <div class='panel panel-default'>\n        <div class='panel-heading'>\n          <code>eg. myplayapp/app/controllers/Application.java</code>\n        </div>\n        <div class='panel-body'>\n          <pre><code>...&#x000A;public class Application extends Controller {&#x000A;&#x000A;  public static Result index() {&#x000A;&#x000A;    // Collect custom attributes&#x000A;    {{AgentConfig.code | indent:3}}&#x000A;&#x000A;    ...&#x000A;    return ok(index.render(\"That was easy.\"));&#x000A;  }&#x000A;  ...&#x000A;}&#x000A;</code></pre>\n        </div>\n      </div>\n      <span class='label label-warning'>Heads up</span>\n      Don't forget to change the values in the above example.\n    </div>\n  </div>\n</div>\n<div class='guide-step' ng-hide='hidePageViewInstructions'>\n  <hr>\n  <h4>2. Forward custom attributes to the browser (PageViews)</h4>\n  <p>\n    <em>\n      <a href='{{agent.rumDocs}}' target='_blank'>Real user monitoring</a>\n      should be enabled and reporting data back to New Relic.\n    </em>\n  </p>\n  <p>\n    Once enabled, custom attributes are injected in the response from the server and collected along with page view data.\n  </p>\n  <p>\n    There are a few different ways to configure a Java agent, be sure to check your specific application server in the\n    <a href='https://docs.newrelic.com/docs/java/new-relic-for-java#h2-installation' target='_blank'>installation docs</a>\n    (the crux is enabling <code>browser_monitoring.attributes.enabled</code>).\n  </p>\n  <p class='note'>\n    <i class='icon-warning text-warning'></i>\n    Be aware that custom attributes/values will be obfuscated in the page source.\n  </p>\n</div>\n<div class='guide-step agent-config' ng-hide='hidePageViewInstructions'>\n  <div class='panel panel-default'>\n    <div class='panel-heading'>\n      <code>myjavaapp/newrelic/newrelic.yml</code>\n    </div>\n    <div class='panel-body'>\n      <pre><code class='yml'>...&#x000A;common: &default_settings&#x000A;  ...&#x000A;  browser_monitoring:&#x000A;    ...&#x000A;    enabled: true&#x000A;&#x000A;    # This adds custom attributes to PageView events&#x000A;    attributes.enabled: true&#x000A;  ...</code></pre>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1188:function(e,n){var t="/templates/agent_language_configs/_nodejs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='guide-step guide-examples'>\n  <div class='guide-example framework-example'>\n    <div ng-if='examplesNotCollapsable'>\n      Example: How to add custom attributes in an Express app\n    </div>\n    <a class='clickable' ng-click='toggleExample(\"node\")' ng-if='!examplesNotCollapsable'>\n      <i ng-class='{\"icon-plus-square-o\": !examplesNotCollapsable && !examples[\"node\"], \"icon-minus-square-o\": !examplesNotCollapsable && examples[\"node\"]}'></i>\n      Example: How to add custom attributes in an Express app\n    </a>\n    <div class='details' ng-show='examplesNotCollapsable || examples[\"node\"]'>\n      <div class='panel panel-default'>\n        <div class='panel-heading'>\n          <code>eg. my_node_app/app.js</code>\n        </div>\n        <div class='panel-body'>\n          <pre><code>var newrelic = require('newrelic')&#x000A;var app = require('express')()&#x000A;&#x000A;app.get('/', function(req, res, next) {&#x000A;  // Collect custom attributes&#x000A;  {{AgentConfig.code | indent:2}}&#x000A;&#x000A;  res.send('That was easy.')&#x000A;})&#x000A;</code></pre>\n        </div>\n      </div>\n      <span class='label label-warning'>Heads up</span>\n      Don't forget to change the values in the above example.\n    </div>\n  </div>\n</div>\n<div class='guide-step' ng-hide='hidePageViewInstructions'>\n  <hr>\n  <h4>2. Forward custom attributes to the browser (PageViews)</h4>\n  <p>\n    <em>\n      <a href='{{agent.rumDocs}}' target='_blank'>Real user monitoring</a>\n      should be enabled and reporting data back to New Relic.\n    </em>\n  </p>\n  <p>\n    Once enabled, custom attributes are injected into the server response and collected along with page view data.\n  </p>\n  <p class='note'>\n    <i class='icon-warning text-warning'></i>\n    Be aware that custom attributes/values will be obfuscated in the page source.\n  </p>\n</div>\n<div class='guide-step agent-config' ng-hide='hidePageViewInstructions'>\n  <div class='panel panel-default'>\n    <div class='panel-heading'>\n      <code>my_node_app/config/newrelic.yml</code>\n    </div>\n    <div class='panel-body'>\n      <pre><code class='yml'>...&#x000A;browser_monitoring:&#x000A;  ...&#x000A;  enabled: true&#x000A;&#x000A;  # This adds custom attributes to PageView events&#x000A;  capture_attributes: true&#x000A;...</code></pre>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1189:function(e,n){var t="/templates/agent_language_configs/_php.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='guide-step' ng-hide='hidePageViewInstructions'>\n  <hr>\n  <h4>2. Forward custom attributes to the browser (PageViews)</h4>\n  <p>\n    <em>\n      <a href='{{agent.rumDocs}}' target='_blank'>Real user monitoring</a>\n      should be enabled and reporting data back to New Relic.\n    </em>\n  </p>\n  <p>\n    Once enabled, custom attributes are injected into the server response and collected along with page view data.\n  </p>\n  <p class='note'>\n    <i class='icon-warning text-warning'></i>\n    Be aware that custom attributes/values will be obfuscated in the page source.\n  </p>\n</div>\n<div class='guide-step agent-config' ng-hide='hidePageViewInstructions'>\n  <div class='panel panel-default'>\n    <div class='panel-heading'>\n      <code>path/to/newrelic.ini</code>\n    </div>\n    <div class='panel-body'>\n      <pre><code class='yml'>...&#x000A;[newrelic]&#x000A;...&#x000A;; This adds custom attributes to PageView events&#x000A;newrelic.browser_monitoring.capture_attributes = true&#x000A;...</code></pre>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1190:function(e,n){var t="/templates/agent_language_configs/_python.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='guide-step' ng-hide='hidePageViewInstructions'>\n  <hr>\n  <h4>2. Forward custom attributes to the browser (PageViews)</h4>\n  <p>\n    <em>\n      <a href='{{agent.rumDocs}}' target='_blank'>Real user monitoring</a>\n      should be enabled and reporting data back to New Relic.\n    </em>\n  </p>\n  <p>\n    Once enabled, custom attributes are injected into the server response and collected along with page view data.\n  </p>\n  <p class='note'>\n    <i class='icon-warning text-warning'></i>\n    Be aware that custom attributes/values will be obfuscated in the page source.\n  </p>\n</div>\n<div class='guide-step agent-config' ng-hide='hidePageViewInstructions'>\n  <div class='panel panel-default'>\n    <div class='panel-heading'>\n      <code>path/to/newrelic.ini</code>\n    </div>\n    <div class='panel-body'>\n      <pre><code class='yml'>...&#x000A;[newrelic]&#x000A;...&#x000A;# This adds custom attributes to PageView events&#x000A;browser_monitoring.capture_attributes = true&#x000A;...</code></pre>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1191:function(e,n){var t="/templates/agent_language_configs/_ruby.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='guide-step guide-examples'>\n  <div class='guide-example framework-example'>\n    <div ng-if='examplesNotCollapsable'>\n      Example: How to add custom attributes in a Rails app\n    </div>\n    <a class='clickable' ng-click='toggleExample(\"ruby-rails\")' ng-if='!examplesNotCollapsable'>\n      <i ng-class='{\"icon-plus-square-o\": !examplesNotCollapsable && !examples[\"ruby-rails\"], \"icon-minus-square-o\": !examplesNotCollapsable && examples[\"ruby-rails\"]}'></i>\n      Example: How to add custom attributes in a Rails app\n    </a>\n    <div class='details' ng-show='examplesNotCollapsable || examples[\"ruby-rails\"]'>\n      <div class='panel panel-default'>\n        <div class='panel-heading'>\n          <code>eg. my_rails_app/controllers/application_controller.rb</code>\n        </div>\n        <div class='panel-body'>\n          <pre><code>...&#x000A;class ApplicationController < ActionController::Base&#x000A;  def index&#x000A;&#x000A;    # Collect custom attributes&#x000A;    {{AgentConfig.code}}&#x000A;&#x000A;    ...&#x000A;  end&#x000A;...&#x000A;end&#x000A;</code></pre>\n        </div>\n      </div>\n      <span class='label label-warning'>Heads up</span>\n      Don't forget to change the values in the above example.\n    </div>\n  </div>\n</div>\n<div class='guide-step' ng-hide='hidePageViewInstructions'>\n  <hr>\n  <h4>2. Forward custom attributes to the browser (PageViews)</h4>\n  <p>\n    <em>\n      <a href='{{agent.rumDocs}}' target='_blank'>Real user monitoring</a>\n      should be enabled and reporting data back to New Relic.\n    </em>\n  </p>\n  <p>\n    Once enabled, custom attributes are injected into the server response and collected along with page view data.\n  </p>\n  <p class='note'>\n    <i class='icon-warning text-warning'></i>\n    Be aware that custom attributes/values will be obfuscated in the page source.\n  </p>\n</div>\n<div class='guide-step agent-config' ng-hide='hidePageViewInstructions'>\n  <div class='panel panel-default'>\n    <div class='panel-heading'>\n      <code>my_ruby_app/config/newrelic.yml</code>\n    </div>\n    <div class='panel-body'>\n      <pre><code class='yml'>...&#x000A;browser_monitoring:&#x000A;  ...&#x000A;  enabled: true&#x000A;&#x000A;  # This adds custom attributes to PageView events&#x000A;  capture_attributes: true&#x000A;...</code></pre>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1203:function(e,n,t){"use strict";var a=t(4),o={sampleNrql:t(1204),nrqlTutorial:t(1205),nrqlInline:t(1206),queryResults:t(1207)},i=t(155),r=a.module(e.i,[t(937),t(444),t(1062),t(1063)]);r.directive("sampleNrql",["$location","$interpolate",function(e,n){return{restrict:"E",templateUrl:o.sampleNrql,scope:{accountId:"=",tip:"=",nrql:"=",nrqlCategory:"=",nrqlDescription:"=",nrqlDescriptionTemplate:"=",tryMeDisabledMessage:"=",expanded:"=",query:"=",heading:"=",actionLabel:"=",actionClass:"=",active:"=",pinned:"=",dashboards:"=",validator:"&",action:"&"},controller:["$rootScope","$scope","$location",function(e,n,t){n.templateUrl=o.nrqlTutorial,n.sourceAccount={id:+n.accountId},n.queryResultsTemplateUrl=o.queryResults,n.showHeading=!0,n.hover=!1,n.pinQuery=!0,!1===n.actionLabel&&(n.hideAction=!0),!1===n.heading&&(n.showHeading=!1),"inline"===n.action()&&(n.inline=!0,n.templateUrl=o.nrqlInline),"redirect"===n.action()&&(n.redirect=!0),n.run=function(){if(n.inline)return n.$emit("samplenrql:run",n.nrql),e.$broadcast("presetQuery",{query:n.nrql}),void n.$broadcast("runQuery",{query:n.nrql});if(n.redirect){var a="/accounts/"+n.accountId+"/query?query="+i(n.nrql);return t.url(a)}!1!==n.action({nrql:n.nrql})&&e.$broadcast("runQuery",{query:n.nrql,global:!0})},n.deleteQuery=function(e,t){e.stopPropagation(),n.$emit("scrapbook:destroy","history",t)},n.clear=function(){n.$broadcast("queryrunner:reset",{defaultQuery:n.nrql})}}],link:function(e,n,t){void 0!==e.pinned&&(e.pinQuery=e.pinned),e.$watch("pinned",function(n,t){e.pinQuery=void 0===n||!!n}),e.$watch("nrql",function(n,t){if(n!==t){var a=e.validator(e);a&&(e.valid=a(n)),e.pinned&&e.$broadcast("pinQuery",n),e.active&&e.run()}}),e.$watch("active",function(n,t){return void 0!==n&&n&&!t?void setTimeout(e.run,200):!n&&t?e.clear():void 0}),e.inline&&e.$on("samplenrql:clear",function(n){e.clear()})}}}]),e.exports=r.name},1204:function(e,n){var t="/templates/shared/_sample_nrql.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='sample-nrql' ng-class='{\"nrql-viewer\": !tip, \"nrql-tip\": tip}' ng-include='templateUrl'></div>\n")}]),e.exports=t},1205:function(e,n){var t="/templates/shared/_nrql_tutorial.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='nrql-tip sample-nrql'>\n  <div class='panel-heading panel-heading-collapse' role='tab'>\n    <h4 class='panel-title'>\n      <a bs-collapse-toggle nr-track-click='Tutorial:Analyze:Expand:{{nrqlCategory}}'>\n        <i ng-class=\"{'icon-chevron-right': !expanded, 'icon-chevron-down': expanded}\"></i>\n        {{tip}}\n        <div class='pull-right'>\n          {{nrqlCategory}}\n        </div>\n      </a>\n    </h4>\n  </div>\n  <div bs-collapse-target class='panel-collapse' role='tabpanel'>\n    <div class='panel-body'>\n      <div class='row'>\n        <div class='col-md-7'>\n          <div class='btn-group pull-right'>\n            <div class='controls text-right'>\n              <span>\n                <nr-favorite-query account-id='accountId' nr-track-click='Tutorial:Analyze:Favorite:{{nrqlCategory}}' nrql='nrql' query='query'></nr-favorite-query>\n              </span>\n              <button bs-popover class='btn btn-default btn-sm open-drawer' data-container='body' data-content='{{tryMeDisabledMessage}}' data-placement='bottom' data-trigger=\"{{!!tryMeDisabledMessage ? 'hover' : 'manual'}}\" ng-class=\"{'look-disabled': !!tryMeDisabledMessage}\" ng-click='!tryMeDisabledMessage && run()' ng-hide='hideAction' nr-track-click='Tutorial:Analyze:TryMe:{{nrqlCategory}}'>\n                {{actionLabel || 'Try Me!'}}\n              </button>\n            </div>\n          </div>\n          <div class='nrql'>\n            <code class='code-wrap'>{{nrql}}</code>\n          </div>\n        </div>\n        <div class='col-md-5'>\n          <p class='nrql-description' ng-if='!nrqlDescriptionTemplate' ng-repeat='paragraph in nrqlDescription track by $index'>\n            {{paragraph}}\n          </p>\n          <div ng-if='nrqlDescriptionTemplate' ng-include='nrqlDescriptionTemplate'></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1206:function(e,n){var t="/templates/shared/_nrql_inline.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='nrql-viewer' ng-class='{open: (inline && (loading || resultReturned))}'>\n  <h4 ng-if='showHeading'>{{heading || 'NRQL'}}</h4>\n  <div class='well sample-nrql' ng-class='{\"has-error\": (valid == false), \"has-success\": (valid == true)}'>\n    <div class='controls'>\n      <div class='btn-group'>\n        <button class='btn btn-link btn-icon btn-delete' ng-click='deleteQuery($event, query)' type='button'>\n          <span class='icon-lg icon-trash-o'></span>\n        </button>\n        <span>\n          <nr-favorite-query account-id='accountId' nrql='nrql' query='query'></nr-favorite-query>\n        </span>\n      </div>\n      <button class='btn btn-default btn-run btn-sm {{actionClass}}' ng-click='run()' ng-if='!(hideAction || (inline && resultReturned))' type='button'>\n        {{actionLabel || 'Try Me!'}}\n      </button>\n      <button class='btn btn-default btn-sm btn-close' ng-click='clear()' ng-if='!hideAction && (inline && resultReturned)' type='button'>\n        Close\n      </button>\n    </div>\n    <div class='nrql' ng-class='{\"with-button\": !hideAction}'>\n      <code class='code-wrap'>{{nrql}}</code>\n    </div>\n  </div>\n  <div class='query-results' ng-if='inline && active' ng-include='queryResultsTemplateUrl'></div>\n</div>\n")}]),e.exports=t},1207:function(e,n){var t="/templates/shared/_query_results.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='row query-runner' ng-controller='QueryRunnerController'>\n  <div class='col-lg-12'>\n    <nr-spinner align='center' loading='runner.loading' size='l'></nr-spinner>\n    <div class='query_results' ng-controller='QueryResultController'>\n      <div ng-class='{show: widgets.length}' ng-show='widgets.length'>\n        <widget-switcher>\n          <div class='col-lg-12'>\n            <div class='widget-container item' ng-class=\"[currentWidget.render_as, currentTab == 0 ? 'first-tab' : '']\">\n              <div not-feature-flagged='react_lowcharts' class='widget-header'>\n                <h5>{{currentWidget.tab_title}}</h5>\n              </div>\n              <h6 not-feature-flagged='react_lowcharts'>\n                <clipped-warning widget='currentWidget'></clipped-warning>\n                {{currentWidget.time_window}}\n              </h6>\n              <div not-feature-flagged='react_lowcharts' class='widget' render-widget='currentWidget'></div>\n              <widget-v2-visualization-container feature-flagged='react_lowcharts' class='drawer-widget-content' messages='metadataMessages' widget='currentWidget' data='currentWidget'></widget-v2-visualization-container>              \n            </div>\n          </div>\n        </widget-switcher>\n        <div class='menu flyout-menu' ng-class='[currentWidget.render_as]'>\n          <nr-share-widget placement='inline' widget='currentWidget'></nr-share-widget>\n          <nr-csv-button ng-show=\"currentWidget.tab_title === 'Table' || currentWidget.tab_title === 'List'\" placement='inline' widget='currentWidget'></nr-csv-button>\n          <a class=\"query-drawer-widget-action\" ng-show=\"currentWidget.tab_title === 'JSON'\"  clipboard text=\"currentWidgetJson\"><nr-icon name='JSON'></nr-icon> Copy JSON</a>\n          <button class='btn btn-primary dropdown-toggle' ng-disabled=\"currentWidget.render_as == 'error'\" type='button' ng-click='toggleDashboardPicker($event, currentWidget, true)'>\n            <span>Add to a dashboard</span>\n          </button>\n          <ul class='dropdown-menu' ng-if='active'>\n            <li class='new-dashboard'>\n              <a href dashboard-create create='addToNewDashboard(currentWidget, title)'>\n                New dashboard&hellip;\n              </a>\n            </li>\n            <li class='divider' ng-if='dashboards.length'></li>\n            <li ng-repeat='dashboard in dashboards'>\n              <a href ng-click='addToDashboard(dashboard, currentWidget)' ng-show='dashboard.editable'>\n                <i class='icon-{{dashboard.icon}}'></i>\n                {{dashboard.title}}\n              </a>\n            </li>\n          </ul>\n        </div>\n        <div class='results-widget-footer' ng-if='currentWidget && isUniqueCountPieChart(currentWidget)'>\n          * This pie chart uses <a href=\"https://docs.newrelic.com/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#func-uniqueCount\" target=\"_blank\">uniqueCount</a>, which may result in the facet sum exceeding 100%. Learn more in our <a href=\"https://docs.newrelic.com/docs/insights/nrql-new-relic-query-language/troubleshooting/pie-chart-uniquecount-adds-more-100\" target=\"_blank\">documentation.</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1211:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[]);return i.factory("SampleQueries",[function(){var e=[{nrql:"SELECT uniquecount(session) FROM PageView FACET appName SINCE 1 hour AGO",tip:"Unique sessions by application over the last hour",widget:"facet_table"},{nrql:"SELECT histogram(duration) FROM PageView SINCE 1 hour AGO",tip:"PageView load-time histogram over the last hour",widget:"histogram"},{nrql:"SELECT count(*) FROM PageView FACET countryCode LIMIT 5 SINCE 1 hour AGO",tip:"Top countries over the last hour",widget:"facet_pie_chart"},{nrql:"SELECT count(*) FROM PageView FACET userAgentName TIMESERIES auto SINCE 1 hour AGO",tip:"Top user-agents over the last hour",widget:"faceted_area_chart"},{nrql:"SELECT uniqueCount(session) FROM PageView WHERE countryCode != 'US' SINCE 1 day ago",tip:"Number of sessions outside the US since this time yesterday",widget:"billboard"},{nrql:"SELECT uniqueCount(session), average(duration), percentile(duration, 99) FROM PageView FACET countryCode LIMIT 10 SINCE 7 days ago",tip:"Top 10 countries by session count, with average and 99% response time",widget:"facet_pie_chart"},{nrql:"SELECT count(*), average(duration), average(backendDuration) FROM PageView WHERE userAgentOS = 'iPhone' FACET name SINCE 1 day ago",tip:"Most popular web transactions for iPhone users, with average frontend and backend response time",widget:"facet_pie_chart"},{nrql:"SELECT uniqueCount(session), count(*), average(duration) FROM PageView FACET userAgentName SINCE 1 day ago",tip:"Top browsers by session count with PageView count and average response time",widget:"facet_pie_chart"},{nrql:"SELECT uniqueCount(session) FROM PageView SINCE 1 week ago TIMESERIES day",tip:"Number of sessions over the last week, in a time series of daily values",widget:"line_chart"},{nrql:"SELECT histogram(duration, 15, 40) FROM PageView where countryCode IN ('CA', 'US') SINCE 1 day ago",tip:"Response time histogram (max 15 seconds, 40 buckets) for Canada and the US",widget:"histogram"},{nrql:"SELECT uniqueCount(session), average(duration) FROM PageView WHERE countryCode = 'US' FACET name LIMIT 20",tip:"Top 20 transactions in the US by session count, with average response times",widget:"facet_pie_chart"},{nrql:"SELECT average(duration), average(backendDuration) FROM PageView WHERE userAgentOS = 'Windows' AND countryCode = 'US' SINCE 1 week ago TIMESERIES 3 hours",tip:"Windows end-user and app response time in the US over the last week",widget:"line_chart"}],n={get:function(n){(n=parseInt(n,10))>=e.length&&(n=0);var t=o.copy(e[n]);return t.index=n,t},next:function(e){return void 0!==e?n.get(e.index+1):n.get(n.randomSample())},randomSample:function(){return Math.floor(Math.random()*e.length)},samples:e};return n}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1212:function(e,n,t){"use strict";var a=t(4),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=o.default.module(e.i,[t(1065)]);i.controller("DashboardV2RouteController",function(){}),e.exports=i.name},13:function(e,n){e.exports=ReactDOM},1454:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=t(4),i=a(o),r=t(1455),s=a(r),l=i.default.module(e.i,[]);l.directive("dashboardV2Error",function(){return{restrict:"E",scope:{},templateUrl:s.default}}),e.exports=l.name},1455:function(e,n){var t="/dashboard-v2/dashboard-error/dashboard-error.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div>\n  <div class='row'></div>\n  <div class='col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-12'>\n    <div class='jumbotron error'>\n      <h1>\n        Oops!\n      </h1>\n      <p>\n        It seems like the dashboard you're looking for couldn't be found. We're sorry about that. Please select another dashboard from the menu on the left to continue.\n      </p>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1456:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(4),c=a(l),d=t(3),u=a(d),p=t(11),h=a(p),g=t(13),f=a(g),m=t(39),v=t(125),b=c.default.module(e.i,[t(43),t(62),t(504),t(991),t(447)]);b.directive("manageDataV2",function(){return{restrict:"E",controller:_,template:"<div class='manage-data-v2-spinner'>\n    <nr-spinner size='xl' align='center' loading='true'></nr-spinner>\n  </div>",controllerAs:"view",scope:{}}});var y={APM:"APM Transactions",Browser:"Browser PageViews","Browser:EventLog":"Browser SPA Events",Mobile:"Mobile Events",Default:"Custom Events","APM Errors":"APM Transaction Errors",Synthetics:null,Infrastructure:null,"APM Internal":null,"Trace Storage":null,"Browser Internal":null};b.factory("ManageDataSummary",["$resource",function(e){return e("/internal_api/1/accounts/:id/manage_data_summary",{id:"@id"},{get:{method:"GET",responseType:"json"}})}]);var w=function(e){function n(){var e,t,a,r;o(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=a=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),a.propTypes={url:h.default.string},r=t,i(a,r)}return r(n,e),s(n,[{key:"render",value:function(){var e=this.props.url,n={padding:"0 15px"},t={background:"white",padding:"2em",marginTop:"1em",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},a={padding:"8px",borderRadius:"3px",color:"#5F86CC",fontSize:"small",fontWeight:"600",border:"1px solid #5F86CC"},o={paddingBottom:"25px",maxWidth:"330px",textAlign:"center"},i={height:"80px",width:"80px",color:"#F2BC56"};return u.default.createElement("div",{className:"data-summary-section",style:n},u.default.createElement("div",{style:t},u.default.createElement(m.Icon,{name:"chart-bars",style:i}),u.default.createElement("h5",{style:{padding:0}},"Data usage has moved!"),u.default.createElement("h6",{style:o},"We have improved the view into your Insights data usage. You can now see subscription usage for all your accounts and know which ones are using the most data. Then dive into an individual account to see a breakdown of your usage by event type."),u.default.createElement("a",{href:e,style:a},"Check out our new Data usage page!")))}}]),n}(d.Component),_=function(){function e(n,a,i,r,s){var l=this;o(this,e),(0,v.subscriptionUsageFeature)(function(e){e?setTimeout(function(){f.default.render(u.default.createElement(w,{url:s.subscriptionUsageUrl()}),a[0])}):r.get({id:i.currentAccountId}).$promise.then(function(e){var n=l.getEventCountByType(e.event_count_by_category),o=Object.keys(n).map(function(e){return n[e]}).reduce(function(e,n){return e+n},0);t.e(2).then(function(){var i=t(1603).default;f.default.render(u.default.createElement(i,{eventCount:o,eventLimit:e.event_limit,planName:e.plan_name,eventCountByType:n,retentionTimePeriodSec:e.retention_time_period_sec,retentionLimitByProduct:l.getRetentionLimitByType(e.retention_limit_by_product)}),a[0])}.bind(null,t)).catch(t.oe)})}),n.$on("$destroy",function(){f.default.unmountComponentAtNode(a[0])})}return e.$inject=["$scope","$element","Accounts","ManageDataSummary","UrlHelper"],s(e,[{key:"getRetentionLimitByType",value:function(e){var n=this.getEventCountByType(e);return n["Browser SPA Events"]=e.Browser,n}},{key:"getEventCountByType",value:function(e){return Object.keys(e).reduce(function(n,t){return y[t]&&(n[y[t]]=e[t]),n},{})}}]),e}();e.exports=b.name},1457:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){var t={};for(var a in e)n.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(){(0,d.default)("html, body").animate({scrollTop:0},100)}var s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),c=t(24),d=a(c),u=t(22),p=a(u),h=t(4),g=a(h),f=t(3),m=a(f),v=t(13),b=a(v),y=t(1458),w=function(){},_=g.default.module(e.i,[t(43)]);_.directive("dashboardListV2",function(){return{restrict:"E",controller:k,template:"<div></div>",controllerAs:"view",scope:{}}}),_.factory("ListDashboards",["$http","$q","Accounts",function(e,n,t){var a=void 0;return function(o,i){var r=o.params,s=t.currentAccountId;return a&&a.resolve(),a=n.defer(),e.get("/internal_api/2/accounts/"+s+"/dashboards",{responseType:"json",params:r},{timeout:a.promise}).then(function(e){var n=e.data;return i(n)})}}]),_.factory("FavoriteDashboard",["$http","Accounts",function(e,n){return function(t,a){var o=t.id,i=t.params,r=n.currentAccountId;return e.post("/internal_api/1/accounts/"+r+"/dashboards/"+o+"/favorite",{responseType:"json",params:i}).then(function(e){var n=e.data;return a(n)})}}]),_.factory("UnfavoriteDashboard",["$http","Accounts",function(e,n){return function(t,a){var o=t.id,i=t.params,r=n.currentAccountId;return e.delete("/internal_api/1/accounts/"+r+"/dashboards/"+o+"/favorite",{responseType:"json",params:i}).then(function(e){var n=e.data;return a(n)})}}]);var k=function(){function e(n,t,a,o,r,s,l,c){var d=this;i(this,e),this.$rootScope=n,this.element=a[0],this.$location=o,this.FavoriteDashboard=l,this.UnfavoriteDashboard=c,this.ListDashboards=p.default.debounce(s,250).bind(this),this.props={accountId:r.currentAccountId,dashboards:[],sortBy:o.search().sort||"Name",filterBy:o.search().filterBy||"all",filterText:o.search().filter||"",currentPage:parseInt(o.search().page,10)||1,currentPageSize:0,totalDashboardCount:0,isLoading:!0},this.update(),t.$on("$destroy",function(){b.default.unmountComponentAtNode(d.element)})}return e.$inject=["$rootScope","$scope","$element","$location","Accounts","ListDashboards","FavoriteDashboard","UnfavoriteDashboard"],l(e,[{key:"update",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,a=s({},this.props,n),i=a.currentPage,r=o(a,["currentPage"]),l=this.props.currentPage,c=r.sortBy,d=r.filterBy,u=r.filterText;this.props=s({},r,{currentPage:l});var p={per_page:60,page:i,sort:c,filter:d,search:u},h={page:i||void 0,sort:c||void 0,filterBy:d||void 0,filter:u||void 0};this.$location.search(h),this.props.isLoading=!0,this.render(),this.ListDashboards({params:p},function(n){var a=n.dashboards,o=n.total_count,r=a.length;e.props=s({},e.props,{dashboards:a,currentPageSize:r,currentPage:i,totalDashboardCount:o,isLoading:!1,disablePaginator:!1}),t(),e.render()})}},{key:"onSort",value:function(e){this.update({sortBy:e,currentPage:1})}},{key:"onFilter",value:function(e){this.update({filterBy:e,currentPage:1})}},{key:"onFilterTextChanged",value:function(e){this.update({filterText:e,currentPage:1}),this.render()}},{key:"favoritingCallback",value:function(e){var n=this,t=this.props.dashboards;return function(a){t[t.findIndex(function(n){return e.id===n.id})].favorited=a.favorited,n.render(),n.$rootScope.$broadcast("navChanged")}}},{key:"onFavoriteDashboard",value:function(e){this.FavoriteDashboard({id:e.id},this.favoritingCallback(e))}},{key:"onUnfavoriteDashboard",value:function(e){this.UnfavoriteDashboard({id:e.id},this.favoritingCallback(e))}},{key:"onPrevPage",value:function(){var e=this.props.currentPage-1;this.update({currentPage:e,disablePaginator:!0},function(){return r()})}},{key:"onNextPage",value:function(){var e=this.props.currentPage+1;this.update({currentPage:e,disablePaginator:!0},function(){return r()})}},{key:"render",value:function(){var e=this,n=this.element,t=this.props,a=t.accountId,o=t.filterBy,i=t.filterText,r=t.sortBy,s=t.currentPage,l=t.totalDashboardCount,c=t.dashboards,d=t.currentPageSize,u=t.isLoading,p=t.disablePaginator;b.default.render(m.default.createElement(y.DashboardListContainer,{accountId:a,dashboards:c,filterBy:o,filterText:i,sortBy:r,isLoading:u,disablePaginator:p,onSort:function(n){return e.onSort(n)},onFilter:function(n){return e.onFilter(n)},onFilterTextChanged:function(n){return e.onFilterTextChanged(n)},onFavoriteDashboard:function(n){return e.onFavoriteDashboard(n)},onUnfavoriteDashboard:function(n){return e.onUnfavoriteDashboard(n)},currentPage:s,currentPageSize:d,totalDashboardCount:l,maxPageSize:60,onPrevPage:function(){return e.onPrevPage()},onNextPage:function(){return e.onNextPage()}}),n)}}]),e}();e.exports=_.name},1458:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardListContainer=void 0;var s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),c=t(3),d=a(c),u=t(11),p=a(u),h=t(5),g=a(h),f=t(1459),m=t(1463),v=t(1466),b=t(1469),y=t(1472),w=t(1475),_=t(1478),k=t(1484),x=a(k);(n.DashboardListContainer=function(e){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),l(n,[{key:"renderPaginator",value:function(){var e=this.props,n=e.currentPage,t=e.currentPageSize,a=e.totalDashboardCount,o=e.onPrevPage,i=e.maxPageSize,r=e.onNextPage,s=e.isLoading,l=e.disablePaginator;return 0!==a&&d.default.createElement(w.DashboardListPaginator,{currentPage:n,currentPageSize:t,totalItemCount:a,isDisabled:s||l,onPrevPage:o,maxPageSize:i,onNextPage:r})}},{key:"renderEmptyView",value:function(){var e=this.props,n=e.filterText,t=e.filterBy;return n?d.default.createElement(_.EmptySearch,null):"mine"===t?d.default.createElement(_.EmptyMine,null):"favorite"===t?d.default.createElement(_.EmptyFavorite,null):d.default.createElement(_.EmptyAll,null)}},{key:"render",value:function(){var e=this.props,n=e.accountId,t=e.dashboards,a=e.filterBy,o=e.filterText,i=e.sortBy,r=e.onSort,l=e.onFilter,c=e.onFilterTextChanged,u=e.onFavoriteDashboard,p=e.onUnfavoriteDashboard,h=e.isLoading;return d.default.createElement("div",{className:x.default.dashboardListContainer},d.default.createElement("div",{className:(0,g.default)("form-inline filter",x.default.filterControls)},d.default.createElement(m.DashboardListFilter,null,d.default.createElement(v.DashboardListFilterItem,{onClick:function(){return l("all")},isSelected:"all"===a},d.default.createElement("i",{className:"icon-asterisk"})," All"),d.default.createElement(v.DashboardListFilterItem,{onClick:function(){return l("favorite")},isSelected:"favorite"===a},d.default.createElement("i",{className:"icon-star"})," Favorites"),d.default.createElement(v.DashboardListFilterItem,{onClick:function(){return l("mine")},isSelected:"mine"===a},d.default.createElement("i",{className:"icon-user"})," Mine")),d.default.createElement(b.DashboardListFilterTextBox,{filterText:o,onChange:c}),d.default.createElement(y.DashboardListSortDropdown,{selectedOption:i,onSelect:r}),d.default.createElement("div",{className:x.default.spacer}),this.renderPaginator()),(0!==t.length||h)&&d.default.createElement(f.DashboardList,s({accountId:n,dashboards:t},{isLoading:h,showViewedAt:"Recently Viewed"===i,favoriteDashboard:u,unfavoriteDashboard:p})),0===t.length&&!h&&this.renderEmptyView(),d.default.createElement("div",{className:x.default.footerPaginator},this.renderPaginator()))}}]),n}(c.Component)).propTypes={accountId:p.default.number.isRequired,dashboards:p.default.array.isRequired,onSort:p.default.func.isRequired,onFilter:p.default.func.isRequired,onFilterTextChanged:p.default.func.isRequired,sortBy:p.default.string.isRequired,filterBy:p.default.string.isRequired,filterText:p.default.string.isRequired,onFavoriteDashboard:p.default.func.isRequired,onUnfavoriteDashboard:p.default.func.isRequired,currentPage:p.default.number.isRequired,currentPageSize:p.default.number.isRequired,totalDashboardCount:p.default.number.isRequired,maxPageSize:p.default.number.isRequired,onPrevPage:p.default.func.isRequired,onNextPage:p.default.func.isRequired,disablePaginator:p.default.bool,isLoading:p.default.bool}},1459:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardList=void 0;var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(3),c=a(l),d=t(11),u=a(d),p=t(1460),h=t(489);(n.DashboardList=function(e){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),s(n,[{key:"render",value:function(){var e=this.props,n=e.accountId,t=e.dashboards,a=e.favoriteDashboard,o=e.unfavoriteDashboard,i=e.isLoading,r=e.showViewedAt;return i?c.default.createElement(h.LoadingSpinner,null):c.default.createElement("div",null,t.map(function(e){return c.default.createElement(p.DashboardCard,{key:e.id,accountId:n,dashboard:e,showViewedAt:r,favoriteDashboard:a,unfavoriteDashboard:o})}))}}]),n}(l.Component)).propTypes={accountId:u.default.number.isRequired,dashboards:u.default.array.isRequired,favoriteDashboard:u.default.func.isRequired,unfavoriteDashboard:u.default.func.isRequired,isLoading:u.default.bool,showViewedAt:u.default.bool}},1460:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function s(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function l(){(0,y.default)("html, body").animate({scrollTop:0},100)}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardCard=void 0;var c=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),d=t(3),u=a(d),p=t(11),h=a(p),g=t(5),f=a(g),m=t(278),v=a(m),b=t(24),y=a(b),w=t(1461),_=a(w);(n.DashboardCard=function(e){function n(e){i(this,n);var t=e.dashboard,a=e.favoriteDashboard,o=e.unfavoriteDashboard,s=r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return s.favoriteDashboard=a.bind(null,t),s.unfavoriteDashboard=o.bind(null,t),s}return s(n,e),c(n,[{key:"publishingOptions",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";return(e.publishing_options||{})[n]}},{key:"publicityString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short",t=this.publishingOptions(e,n);return t&&t[e.publicity]}},{key:"render",value:function(){var e=this.props,n=e.accountId,t=e.dashboard,a=e.showViewedAt,i=(0,v.default)(t.updated_at).fromNow(),r=(0,v.default)(t.viewed_at).fromNow(),s="/accounts/"+n+"/dashboards/"+t.id,c=t.viewed_at?"Viewed "+r:"Never viewed",d=a?c:"Edited "+i;return u.default.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6"},u.default.createElement("div",{className:t.favorited?_.default.favoritedCard:_.default.card},u.default.createElement("h4",{className:_.default.titleContainer},u.default.createElement("a",{className:_.default.title,href:s,onClick:l},u.default.createElement("i",{className:(0,f.default)("icon-fixed-width","icon-"+t.icon)}),t.title)),t.hasOwnProperty("owner")&&u.default.createElement("div",{className:_.default.owner},u.default.createElement("strong",null,"Owner:")," ",t.owner.email),u.default.createElement("div",{className:_.default.accessedAt},u.default.createElement("span",null,this.publicityString(t)),u.default.createElement("span",null,d)),t.hasOwnProperty("favorited")&&u.default.createElement("div",{className:(0,f.default)(_.default.star,o({},_.default.activeStar,t.favorited))},t.favorited&&u.default.createElement("i",{className:"icon-lg icon-star",onClick:this.unfavoriteDashboard}),!t.favorited&&u.default.createElement("i",{className:"icon-lg icon-star-o",onClick:this.favoriteDashboard}))))}}]),n}(d.Component)).propTypes={accountId:h.default.number.isRequired,dashboard:h.default.object.isRequired,showViewedAt:h.default.bool.isRequired,favoriteDashboard:h.default.func.isRequired,unfavoriteDashboard:h.default.func.isRequired}},1461:function(e,n,t){var a=t(1462);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1462:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".DashboardCard__card___3H7Mf {\n  padding: 10px 10px;\n  margin-bottom: 20px;\n  position: relative;\n  background: white;\n  border: 1px solid #e6e6e6; }\n\n.DashboardCard__titleContainer___1ovV8 {\n  color: #333;\n  margin-top: 0;\n  padding-right: 1em;\n  white-space: nowrap;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 500;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 9px; }\n\n.DashboardCard__title___1AV93 {\n  color: #333;\n  text-decoration: none; }\n\n.DashboardCard__owner___15qEH {\n  color: #555;\n  padding-bottom: 10px;\n  font-size: small; }\n  .DashboardCard__owner___15qEH strong {\n    font-weight: normal;\n    color: #999; }\n\n.DashboardCard__star___2J_D1 {\n  display: none;\n  color: #5F86CC;\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  right: 10px; }\n\n.DashboardCard__activeStar___1Xivt {\n  display: inline; }\n\n.DashboardCard__card___3H7Mf:hover .DashboardCard__star___2J_D1 {\n  display: inline; }\n\n.DashboardCard__favoritedCard___1WD9W {\n  background: #f2f5fb;\n  border-color: #d7e1f2; }\n  .DashboardCard__favoritedCard___1WD9W .DashboardCard__titleContainer___1ovV8 {\n    border-color: #d7e1f2; }\n\n.DashboardCard__accessedAt___1_BhG {\n  display: flex;\n  justify-content: flex-end;\n  font-size: small; }\n",""]),n.locals={card:"DashboardCard__card___3H7Mf",titleContainer:"DashboardCard__titleContainer___1ovV8",title:"DashboardCard__title___1AV93",owner:"DashboardCard__owner___15qEH",star:"DashboardCard__star___2J_D1",activeStar:"DashboardCard__activeStar___1Xivt",favoritedCard:"DashboardCard__favoritedCard___1WD9W DashboardCard__card___3H7Mf",accessedAt:"DashboardCard__accessedAt___1_BhG"}},1463:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardListFilter=void 0;var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(3),c=a(l),d=t(1464),u=a(d);n.DashboardListFilter=function(e){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),s(n,[{key:"render",value:function(){return c.default.createElement("div",{className:u.default.dashboardListFilter},c.default.createElement("div",{className:u.default.buttons},this.props.children))}}]),n}(l.Component)},1464:function(e,n,t){var a=t(1465);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1465:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".DashboardListFilter__dashboardListFilter___-i8HH {\n  margin-right: 12px;\n  margin-bottom: 0px; }\n\n.DashboardListFilter__buttons___moHVu {\n  display: flex;\n  white-space: nowrap; }\n",""]),n.locals={dashboardListFilter:"DashboardListFilter__dashboardListFilter___-i8HH",buttons:"DashboardListFilter__buttons___moHVu"}},1466:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function s(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardListFilterItem=void 0;var l=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),c=t(3),d=a(c),u=t(11),p=a(u),h=t(5),g=a(h),f=t(1467),m=a(f);(n.DashboardListFilterItem=function(e){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,e),l(n,[{key:"render",value:function(){var e=this.props,n=e.onClick,t=e.isSelected;return d.default.createElement("a",{className:(0,g.default)(m.default.button,o({},m.default.active,t)),onClick:n},this.props.children)}}]),n}(c.Component)).propTypes={isSelected:p.default.bool.isRequired,onClick:p.default.func.isRequired}},1467:function(e,n,t){var a=t(1468);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1468:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".DashboardListFilterItem__button___1ybUp {\n  margin-left: 0;\n  margin-bottom: 0;\n  padding: 6px 12px;\n  position: relative;\n  color: #333;\n  background: white;\n  border: 1px solid transparent;\n  border-color: #cccccc;\n  font-size: 14px;\n  cursor: pointer; }\n  .DashboardListFilterItem__button___1ybUp:hover {\n    text-decoration: none; }\n\n.DashboardListFilterItem__active___XDMb4 {\n  background: #5f86cc;\n  border-color: #577bba;\n  color: white; }\n  .DashboardListFilterItem__active___XDMb4:hover {\n    color: white;\n    cursor: default; }\n",""]),n.locals={button:"DashboardListFilterItem__button___1ybUp",active:"DashboardListFilterItem__active___XDMb4"}},1469:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardListFilterTextBox=void 0;var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(3),c=a(l),d=t(11),u=a(d),p=t(1470),h=a(p);(n.DashboardListFilterTextBox=function(e){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),s(n,[{key:"render",value:function(){var e=this.props,n=e.filterText,t=e.onChange;return c.default.createElement("div",{className:h.default.filterText},c.default.createElement("input",{className:h.default.input,value:n,placeholder:"Filter by title or owner",onChange:function(e){return t(e.target.value)}}),n&&c.default.createElement("button",{className:h.default.button,onClick:function(){return t("")}},"×"))}}]),n}(l.Component)).propTypes={filterText:u.default.string.isRequired,onChange:u.default.func.isRequired}},1470:function(e,n,t){var a=t(1471);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1471:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".DashboardListFilterTextBox__filterText___3Xo-R {\n  flex-shrink: 1;\n  width: 400px;\n  max-width: 100%;\n  margin-bottom: 15px;\n  display: flex; }\n\n.DashboardListFilterTextBox__input___2VCb4 {\n  width: 100%;\n  padding: 5px; }\n\n.DashboardListFilterTextBox__button___3aj9n {\n  width: 34px;\n  background: white;\n  border: 1px solid #dedede;\n  color: #333; }\n  .DashboardListFilterTextBox__button___3aj9n:hover, .DashboardListFilterTextBox__button___3aj9n:active {\n    border-color: #c9c9c9; }\n",""]),n.locals={filterText:"DashboardListFilterTextBox__filterText___3Xo-R",input:"DashboardListFilterTextBox__input___2VCb4",button:"DashboardListFilterTextBox__button___3aj9n"}},1472:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardListSortDropdown=n.SORT_OPTIONS=void 0;var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(3),c=a(l),d=t(11),u=a(d),p=t(5),h=a(p),g=t(1473),f=a(g),m=t(39),v=n.SORT_OPTIONS=["Name","Recently Viewed","Last Edited"],b=n.DashboardListSortDropdown=function(e){function n(){var e,t,a,r;o(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=a=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),y.call(a),r=t,i(a,r)}return r(n,e),s(n,[{key:"render",value:function(){var e=this,n=this.props.selectedOption;return c.default.createElement("div",{className:"form-group"},c.default.createElement("div",{className:(0,h.default)("btn-group",f.default.sort)},c.default.createElement(m.Dropdown,{className:f.default.dropdownList,ref:function(n){return e._dropdown=n},triggerRenderer:function(e){e.children;return c.default.createElement(m.DropdownTrigger,{label:c.default.createElement("span",null,c.default.createElement("span",{className:f.default.label},"Sort by: "),c.default.createElement("span",{className:f.default.selected},n))})}},c.default.createElement(m.ItemList,{selectedItems:[n],onSelectItem:this.onSelect,selectable:!0,width:200,items:v}))))}}]),n}(l.Component);b.propTypes={selectedOption:u.default.string.isRequired,onSelect:u.default.func.isRequired},b.defaultProps={selectedOption:v[0]};var y=function(){var e=this;this.onSelect=function(){var n;(n=e.props).onSelect.apply(n,arguments),e._dropdown.close()}}},1473:function(e,n,t){var a=t(1474);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1474:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".DashboardListSortDropdown__sort___3HMHu {\n  margin-left: 10px;\n  display: block;\n  padding: 2px 0;\n  background: white;\n  border: 1px solid lightgray;\n  border-radius: 4px; }\n\n.DashboardListSortDropdown__label___WRnD_ {\n  color: #999;\n  padding-left: 12px;\n  white-space: nowrap; }\n\n.DashboardListSortDropdown__selected___2-3gE {\n  font-weight: 700; }\n\n.DashboardListSortDropdown__dropdownList___3YBBg {\n  margin-left: -1px;\n  white-space: nowrap; }\n",""]),n.locals={sort:"DashboardListSortDropdown__sort___3HMHu",label:"DashboardListSortDropdown__label___WRnD_",selected:"DashboardListSortDropdown__selected___2-3gE",dropdownList:"DashboardListSortDropdown__dropdownList___3YBBg"}},1475:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function s(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardListPaginator=void 0;var l=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),c=t(3),d=a(c),u=t(11),p=a(u),h=t(5),g=a(h),f=t(1476),m=a(f);(n.DashboardListPaginator=function(e){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,e),l(n,[{key:"render",value:function(){var e=this.props,n=e.currentPage,t=e.currentPageSize,a=e.totalItemCount,i=e.maxPageSize,r=e.onNextPage,s=e.onPrevPage,l=e.isDisabled,c=0===t?0:(n-1)*i+1,u=0===t?0:c+t-1,p=c+" - "+u+" of "+a,h=1===n,f=u===a;return d.default.createElement("div",{className:"form-group"},d.default.createElement("div",{className:"btn-group"},d.default.createElement("div",{className:m.default.paginator},d.default.createElement("div",{className:(0,g.default)(m.default.pageText,o({},m.default.disabledText,l))},p),d.default.createElement("div",{className:(0,g.default)(m.default.button,o({},m.default.disabledButton,l||h)),onClick:s},"<"),d.default.createElement("div",{className:(0,g.default)(m.default.button,o({},m.default.disabledButton,l||f)),onClick:r},">"))))}}]),n}(c.Component)).propTypes={currentPage:p.default.number.isRequired,currentPageSize:p.default.number.isRequired,totalItemCount:p.default.number.isRequired,maxPageSize:p.default.number.isRequired,onNextPage:p.default.func.isRequired,onPrevPage:p.default.func.isRequired,isDisabled:p.default.bool}},1476:function(e,n,t){var a=t(1477);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1477:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".DashboardListPaginator__paginator___2kRCj {\n  padding-top: 5px;\n  display: flex; }\n\n.DashboardListPaginator__pageText___36nRy {\n  font-size: 14px;\n  margin-right: 10px;\n  align-self: center;\n  color: #999;\n  white-space: nowrap;\n  padding-left: 1em; }\n\n.DashboardListPaginator__button___1kIFg {\n  color: #999;\n  cursor: pointer;\n  border: 1px solid #999;\n  padding-left: 6px;\n  padding-right: 6px;\n  margin: 2px;\n  align-self: center;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.DashboardListPaginator__disabledText___2GhnF {\n  color: lightgray; }\n\n.DashboardListPaginator__disabledButton___1jEZ5 {\n  color: lightgray;\n  border: 1px solid lightgray;\n  pointer-events: none; }\n",""]),n.locals={paginator:"DashboardListPaginator__paginator___2kRCj",pageText:"DashboardListPaginator__pageText___36nRy",button:"DashboardListPaginator__button___1kIFg",disabledText:"DashboardListPaginator__disabledText___2GhnF",disabledButton:"DashboardListPaginator__disabledButton___1jEZ5"}},1478:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.EmptyFavorite=n.EmptyMine=n.EmptySearch=n.EmptyAll=void 0;var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(3),c=a(l),d=t(1479),u=a(d),p=t(1481),h=a(p),g=t(1482),f=a(g),m=t(1483),v=a(m);n.EmptyAll=function(e){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),s(n,[{key:"render",value:function(){return c.default.createElement("div",{className:u.default.emptyMessage},c.default.createElement("img",{className:u.default.image,src:v.default}),c.default.createElement("div",{className:u.default.header},"No dashboards found"),"There are no dashboards in your account yet. When you create dashboards, they'll appear here.")}}]),n}(l.Component),n.EmptySearch=function(e){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),s(n,[{key:"render",value:function(){return c.default.createElement("div",{className:u.default.emptyMessage},c.default.createElement("img",{className:u.default.image,src:v.default}),c.default.createElement("div",{className:u.default.header},"No search results found"),"No search results found. Try another search, and make sure that you aren't filtering by Favorites or Mine.")}}]),n}(l.Component),n.EmptyMine=function(e){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),s(n,[{key:"render",value:function(){return c.default.createElement("div",{className:u.default.emptyMessage},c.default.createElement("img",{className:u.default.image,src:f.default}),c.default.createElement("div",{className:u.default.header},"No personal dashboards yet!"),"Looks like you don't have any dashboards that belong to you. If you create a dashboard, it will appear here.")}}]),n}(l.Component),n.EmptyFavorite=function(e){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),s(n,[{key:"render",value:function(){return c.default.createElement("div",{className:u.default.emptyMessage},c.default.createElement("img",{className:u.default.image,src:h.default}),c.default.createElement("div",{className:u.default.header},"No favorites yet!"),"Looks like you don't have any Favorited dashboards yet. When you mark a dashboard as Favorite, it will appear here.")}}]),n}(l.Component)},1479:function(e,n,t){var a=t(1480);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1480:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".EmptyViews__emptyMessage___3DxJa {\n  align-self: center;\n  text-align: center;\n  margin-top: 2em;\n  max-width: 370px; }\n\n.EmptyViews__image___1NSjv {\n  width: 150px;\n  height: 150px; }\n\n.EmptyViews__header___q9BYT {\n  font-size: 30px;\n  font-weight: 200; }\n",""]),n.locals={emptyMessage:"EmptyViews__emptyMessage___3DxJa",image:"EmptyViews__image___1NSjv",header:"EmptyViews__header___q9BYT"}},1481:function(e,n,t){e.exports=t.p+"3b68b64ef76184ccc27b6d27a39105f9.svg"},1482:function(e,n,t){e.exports=t.p+"1be5bffb7d2ac676ef2e9ff3d2dca472.svg"},1483:function(e,n,t){e.exports=t.p+"7d206463b22ef41936a137d13679bbd2.svg"},1484:function(e,n,t){var a=t(1485);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1485:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".DashboardListContainer__dashboardListContainer___2rkUt {\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column; }\n\n.DashboardListContainer__filterControls___1BCk_ {\n  display: flex; }\n\n.DashboardListContainer__spacer___31J0N {\n  flex-grow: 1; }\n\n.DashboardListContainer__footerPaginator___unjmR {\n  display: flex;\n  justify-content: flex-end; }\n",""]),n.locals={dashboardListContainer:"DashboardListContainer__dashboardListContainer___2rkUt",filterControls:"DashboardListContainer__filterControls___1BCk_",spacer:"DashboardListContainer__spacer___31J0N",footerPaginator:"DashboardListContainer__footerPaginator___unjmR"}},1486:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){return t(4).module(a.i,[t(1487),t(1488),t(1490),t(1492),t(504)]).name}.call(n,t,n,e))&&(e.exports=a)},1487:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(e,n,t,a,o,r,s,l,c){function d(n){e.allAppsById={},e.webApps=[],e.editablePageViews={},e.editableTransactions={},e.hasPageViews={},e.hasTransactions={},e.mobileApps=[],i.forEach(n.webApps,function(t){var a=!1,o=!1;n.insightsApps[t.id]&&(a=n.insightsApps[t.id].PageView,o=n.insightsApps[t.id].Transaction),e.hasPageViews[t.id]=a,e.hasTransactions[t.id]=o,e.editablePageViews[t.id]=t.reporting&&(t.page_views_throughput>0||a||!t.page_views_enabled),e.editableTransactions[t.id]=t.reporting&&(t.transactions_throughput>0||o||!t.transactions_enabled),(e.editablePageViews[t.id]||e.editableTransactions[t.id])&&(e.webApps.push(t),e.allAppsById[t.id]=t)}),i.forEach(n.mobileApps,function(n){e.mobileApps.push(n),e.allAppsById[n.id]=n}),e.allApps=e.webApps.concat(e.mobileApps),e.hasWebApps=e.webApps.length>0,e.hasMobileApps=e.mobileApps.length>0,e.loading=!1}l.pageView("Manage Data"),e.loading=!0,e.accountId=a.currentAccountId,t.all({webApps:o.query({account_id:e.accountId}).$promise,mobileApps:r.query({account_id:e.accountId}).$promise,insightsApps:s.get(e.accountId)}).then(d)}o.$inject=["$scope","$http","$q","Accounts","Application","MobileApplication","ReportingApps","TrackUser","FeatureFlags"];var i=t(4),r=i.module(a.i,[t(43),t(504),t(69),t(991),t(101)]);r.controller("DataSummaryController",o),a.exports=r.name}.call(n,t,n,e))&&(e.exports=a)},1488:function(e,n,t){"use strict";var a,o=t(527);void 0!==(a=function(e,n,a){function i(e,n,t,a,o,i,s){function c(e,n){var t=new i(f);return e.forEach(function(e){var a=n[e.id];r.forEach(g,function(n,o){a[n]!=e[n]&&t.add(o,a[n],e)})}),t}function d(t,a){var o=e.$new();o.changes=t,o.confirmChanges=function(e){a(!0),e()},o.cancelChanges=function(e){a(!1),e()},n({scope:o,template:l,prefixEvent:"dataChanges"}),o.$on("dataChanges.hide",function(){o.$destroy()})}function u(n,t){var i=g[n.eventType],r=e.allAppsById[n.id];t[n.id]||("MobileSession"===n.eventType?t[n.id]=new o({account_id:r.account_id,id:r.id,name:r.name,mobile_sessions_enabled:r.mobile_sessions_enabled}):t[n.id]=new a({account_id:r.account_id,id:r.id,name:r.name,page_views_enabled:r.page_views_enabled,transactions_enabled:r.transactions_enabled})),t[n.id][i]=n.enabled}function p(n){function t(){if(0===v.pendingChanges){v.updateSuccess=0===o,v.updateStatus=v.updateSuccess?"Changes saved.":"Error saving changes. Please contact support if this error persists."}}var a={},o=0;n.forEachChange(function(n){e.allAppsById[n.id].pending=!0,u(n,a)}),v.pendingChanges=Object.keys(a).length,r.forEach(a,function(n){n.$update(function(a){e.allAppsById[n.id].pending=!1,m.forEach(function(t){e.allAppsById[n.id][t]=a[t]}),v.pendingChanges--,t()},function(){o++,v.pendingChanges--,t()})})}function h(){function n(e){v.state[e.id]={},m.forEach(function(n){v.state[e.id][n]=e[n]})}v.state={},v.pendingChanges=0,e.webApps.forEach(n),e.mobileApps.forEach(n)}var g={MobileSession:"mobile_sessions_enabled",PageView:"page_views_enabled",Transaction:"transactions_enabled"},f=Object.keys(g),m=f.map(function(e){return g[e]}),v=this;s(function(n){e.canConfigureDataSources=n,e.$digest()});var b=e.$watch("loading",function(){e.loading||(b(),h())});v.edit=function(){v.isEditing=!0,v.updateStatus=""},v.apply=function(){var n=c(e.allApps,v.state);n.count()?d(n,function(e){e&&p(n),v.cancel()}):v.cancel()},v.cancel=function(){if(v.isEditing=!1,v.pendingChanges)var n=e.$watch("pendingChanges",function(e){0===e&&(h(),n())});else h()}}i.$inject=["$scope","$modal","$q","Application","MobileApplication","AppChanges","canConfigureDataSources"];var r=t(4),s=r.module(a.i,["mgcrea.ngStrap.modal",t(504),t(991)]),l=t(1489);return s.factory("canConfigureDataSources",["FeatureFlags","$routeParams",function(e,n){return o.canConfigureDataSources.bind(null,e,n.account_id)}]),s.controller("DataEditController",i),s.name}.call(n,t,n,e))&&(e.exports=a)},1489:function(e,n){var t="/templates/data-summary/_confirm_data_changes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='modal modal-data-summary-confirm' role='dialog' tabindex='-1'>\n  <div class='modal-dialog'>\n    <div class='modal-content'>\n      <div class='container'>\n        <div class='row'>\n          <div class='col-lg-12 col-md-12'>\n            <h1>Please confirm</h1>\n            <div class='well'>\n              <div class='event-type-app-changes' ng-repeat='(eventType, apps) in changes.turnOff'>\n                <div ng-if='apps.length > 0'>\n                  <p>\n                    <b>\n                      <span class='text-danger'>Disable</span>\n                      {{ eventType }}\n                    </b>\n                    event data for:\n                  </p>\n                  <ul>\n                    <li ng-repeat='app in apps'>\n                      <p>\n                        {{ app.name }}\n                        <span class='label label-default'>App ID: {{ app.id }}</span>\n                      </p>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <div class='event-type-app-changes' ng-repeat='(eventType, apps) in changes.turnOn'>\n                <div ng-if='apps.length > 0'>\n                  <p>\n                    <b>\n                      <span class='text-success'>Enable</span>\n                      {{ eventType }}\n                    </b>\n                    event data for:\n                  </p>\n                  <ul>\n                    <li ng-repeat='app in apps'>\n                      <p>\n                        {{ app.name }}\n                        <span class='label label-default'>App ID: {{ app.id }}</span>\n                      </p>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <a class='btn btn-primary' ng-click='confirmChanges($hide)'>Confirm</a>\n            <a class='btn' ng-click='cancelChanges($hide)'>Cancel</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1490:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[]),r=t(1491);return i.directive("appStatus",[function(){return{restrict:"E",scope:{pending:"=",enabled:"=",hasInsightsData:"@"},templateUrl:r,link:function(e,n,t){function a(){return e.enabled&&e.hasInsightsData?"enabled-with-insights":e.enabled?"enabled-no-insights":"disabled"}e.iconClasses=function(){var n={"enabled-with-insights":"icon-check text-success","enabled-no-insights":"icon-question-circle text-warning",disabled:"icon-times-circle text-danger"};return e.pending?"icon-spinner icon-spin":n[a()]},e.tooltipText=function(){return{"enabled-with-insights":"Enabled in Insights","enabled-no-insights":"Insights is not receiving data; update your agent or contact support",disabled:"Data has been manually disabled."}[a()]}}}}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1491:function(e,n){var t="/templates/data-summary/_app_status.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<span bs-tooltip='tooltipText()' data-container='body'>\n  <i ng-class='iconClasses()'></i>\n</span>\n")}]),e.exports=t},1492:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(e){this.turnOff={},this.turnOn={},e.forEach(function(e){this.turnOff[e]=[],this.turnOn[e]=[]},this)}var i=t(4),r=i.module(a.i,[]);return r.factory("AppChanges",function(){return o}),o.prototype.add=function(e,n,t){(n?this.turnOn[e]:this.turnOff[e]).push({id:t.id,enabled:n,eventType:e,name:t.name})},o.prototype.forEachChangeSet=function(e){i.forEach(this.turnOff,e),i.forEach(this.turnOn,e)},o.prototype.forEachChange=function(e){this.forEachChangeSet(function(n){n.forEach(e)})},o.prototype.count=function(){var e=0;return this.forEachChangeSet(function(n){e+=n.length}),e},r.name}.call(n,t,n,e))&&(e.exports=a)},1494:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=t(4),i=a(o),r=t(1495),s=a(r);e.exports=i.default.module(e.i,[t(1139),t(62)]).directive("navbar",[function(){return{restrict:"E",templateUrl:s.default,scope:{},controller:["$scope","Accounts","UrlHelper",function(e,n,t){e.account=n.currentAccountRef,e.eventProfilerUrl=t.eventProfilerUrl(),e.hamburgerActive=!1,e.$on("$routeChangeStart",function(){e.hamburgerActive=!1})}]}}]).name},1495:function(e,n){var t="/templates/shared/navbar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<button class='hamburger-toggle icon-bars' ng-class=\"{'hamburger-active': hamburgerActive}\" ng-click='hamburgerActive = !hamburgerActive' title='Show full menu'></button>\n<nav class='navbar navbar-inverse' side-nav-list>\n  <div class='navbar-secondary-wrapper' fancy-show toggle='hamburgerActive'>\n    <div class='navbar-secondary'>\n      <ul class='nav navbar-nav'>\n        <li allow-prefix='true' class='query-nav nav-icon' custom-icon-class='nrql-home' nav-link='/accounts/{{account.id}}/query' title='Query' track-click='nav:clickQueryHistory'></li>\n        <li allow-prefix='true' class='nav-icon' custom-icon-class='explore' nav-link='/accounts/{{account.id}}/explorer' title='Data Explorer' track-click='nav:clickVisualDataExplorer'></li>\n        <li feature-flagged='event_profiler_enabled' allow-prefix='true' class='nav-icon' custom-icon-class='croissant' title-class='new-relic-only' nav-link='{{eventProfilerUrl}}/accounts/{{account.id}}/Transaction' title='Event Profiler' track-click='nav:clickProfileExplorer'></li>\n        <li class='nav-divider'></li>\n      </ul>\n      \x3c!-- Collections --\x3e\n      <ul class='nav navbar-nav'>\n        <li class='data-apps'>\n          <a href='/apps/accounts/{{account.id}}' nr-track-click='nav:clickDataApps' role='data-apps' target='_self'>\n            <i class='icon-fixed-width icon-cubes'></i>\n            Data apps\n          </a>\n          <nr-create-collection-button></nr-create-collection-button>\n        </li>\n        <li class='nav-divider'></li>\n      </ul>\n      \x3c!-- All Dashboards --\x3e\n      <ul class='nav navbar-nav all-dashboards'>\n        <li class='nav-icon' custom-icon-class='all-dashboards' nav-link='/accounts/{{account.id}}/dashboards' title='All dashboards' track-click='nav:clickAllDashboards'></li>\n        <div>\n          <a class='add-dashboard' dashboard-create create='createDashboard(title)' nr-track-click='nav:clickAddDashboard'>\n            <img height='27' nr-src='add-dash.png' width='27'>\n          </a>\n        </div>\n        <li class='nav-divider'></li>\n      </ul>\n      \x3c!-- Recent and Favorited Dashboards --\x3e\n      <ul class='nav navbar-nav'>\n        <li class='account-dashboards'>\n          <p class='navbar-text'>Recently Viewed</p>\n        </li>\n        <li ng-if='recentlyViewed.length == 0'>\n          <p class='navbar-placeholder-text'>When you view dashboards in your account, they will appear here!</p>\n        </li>\n        <li allow-prefix='true'\n            icon='{{dashboard.icon}}'\n            nav-link='/accounts/{{dashboard.account_id}}/dashboards/{{dashboard.id}}'\n            ng-repeat='dashboard in recentlyViewed | limitTo:dashboardListLimit'\n            prefix-path='/accounts/{{dashboard.account_id}}/dashboards/{{dashboard.id}}/'\n            title='{{dashboard.title}}'>\n        </li>\n        <li class='favorite-dashboards'>\n          <p class='navbar-text'>Favorite Dashboards</p>\n        </li>\n        <li ng-if='favoriteDashboards.length == 0'>\n          <p class='navbar-placeholder-text'>Mark dashboards as Favorite to populate this section.</p>\n        </li>\n        <li ng-if='isShowAllFavorites'\n            ng-repeat='dashboard in favoriteDashboards'\n            allow-prefix='true' icon='{{dashboard.icon}}'\n            nav-link='/accounts/{{dashboard.account_id}}/dashboards/{{dashboard.id}}'\n            prefix-path='/accounts/{{dashboard.account_id}}/dashboards/{{dashboard.id}}/'\n            title='{{dashboard.title}}'>\n        </li>\n        <li ng-if='!isShowAllFavorites'\n            ng-repeat='dashboard in favoriteDashboards| limitTo:dashboardListLimit'\n            allow-prefix='true'\n            icon='{{dashboard.icon}}'\n            nav-link='/accounts/{{dashboard.account_id}}/dashboards/{{dashboard.id}}'\n            prefix-path='/accounts/{{dashboard.account_id}}/dashboards/{{dashboard.id}}/'\n            title='{{dashboard.title}}'>\n        </li>\n        <li ng-if='favoriteDashboards.length > dashboardListLimit && !isShowAllFavorites'\n            ng-click='toggleShowAllFavorites()'\n            class='nav-dashboard-show-button test'>See all<i class='icon-caret-down nav-dashboard-show-button-caret'></i>\n        </li>\n        <li ng-if='favoriteDashboards.length > dashboardListLimit && isShowAllFavorites'\n            ng-click='toggleShowAllFavorites()'\n            class='nav-dashboard-show-button'>Collapse<i class='icon-caret-up nav-dashboard-show-button-caret'></i>\n        </li>\n        <li class='nav-divider'></li>\n      </ul>\n      \x3c!-- Administration --\x3e\n      <ul class='nav navbar-nav'>\n        <li>\n          <p class='navbar-text'>Administration</p>\n        </li>\n        <li allow-prefix='true' class='manage-data' icon='cogs' nav-link='/accounts/{{account.id}}/manage' title='Manage data' track-click='nav:clickManageData'></li>\n        <li class='nav-divider'></li>\n      </ul>\n      \x3c!-- Documentation --\x3e\n      <ul class='nav navbar-nav'>\n        <li>\n          <a class='ellipsis-overflow' href='http://docs.newrelic.com/docs/insights/' target='_blank' title='Documentation'>\n            <i class='icon-book icon-fixed-width'></i>\n            Documentation\n          </a>\n        </li>\n        <li>\n          <a class='ellipsis-overflow' href='https://discuss.newrelic.com/login' nr-track-click='nav:clickSupportForum' target='_blank' title='Support forum'>\n            <i class='icon-comments-o icon-fixed-width'></i>\n            Support forum\n          </a>\n        </li>\n      </ul>\n      \x3c!-- Special Dev Stuff --\x3e\n      <ul class='nav navbar-nav' feature-flagged='admin'>\n        <li class='nav-divider'></li>\n        <li>\n          <p class='navbar-text'>NR Only</p>\n        </li>\n        <li>\n          <a href='/admin' target='_self'>Admin</a>\n        </li>\n        <li icon='folder-open' nav-link='/accounts/{{account.id}}/playbook' title='Design playbook'></li>\n      </ul>\n      <a class='app-store-badge' href='https://itunes.apple.com/us/app/new-relic-insights/id891431652?mt=8&amp;uo=4' nr-track-click='nav:clickAppleStore' target='itunes_store'>\n        <img alt='Download on the App Store' nr-src='Download_on_the_App_Store_Badge_US-UK_135x40.svg'>\n      </a>\n      <a class='google-play-badge' href='https://play.google.com/store/apps/details?id=com.newrelic.insights&amp;utm_source=global_co&amp;utm_medium=prtnr&amp;utm_content=Mar2515&amp;utm_campaign=PartBadge&amp;pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>\n        <img alt='Get it on Google Play' src='https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png'>\n      </a>\n    </div>\n  </div>\n</nav>\n")}]),e.exports=t},1496:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o,i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},r=t(4),s=a(r),l=t(3),c=a(l),d=t(13),u=a(d),p=t(1158),h=a(p);void 0!==(o=function(e,n,t){var a=s.default.module(t.i,[]);return a.directive("nrDataExplorerHeader",["FeatureFlags","$routeParams","TrackUser",function(e,n,t){return{restrict:"E",link:function(e,a,o){var r={onModalClose:function(e){return t.action(e?"EventsMetricsCarousel:clickFinished":"EventsMetricsCarousel:clickSkip")},onModalNext:function(){return t.action("EventsMetricsCarousel:clickNext")}};u.default.render(c.default.createElement(h.default,i({accountId:n.account_id,current:"events"},r)),a[0]),e.$on("$destroy",function(){u.default.unmountComponentAtNode(a[0])})}}}]),a.name}.call(n,t,n,e))&&(e.exports=o)},1497:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(3),c=a(l),d=t(11),u=a(d),p=t(5),h=a(p),g=t(1498),f=a(g),m=function(e){function n(){o(this,n);var e=i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.state={page:0},e}return r(n,e),s(n,[{key:"hasNextPage",value:function(){var e=this.state.page+1;return this.props.children.length>e}},{key:"hasPrevPage",value:function(){return 0!==this.state.page}},{key:"nextPage",value:function(){this.props.onNext(),this.setState({page:this.state.page+1})}},{key:"prevPage",value:function(){this.setState({page:this.state.page-1})}},{key:"pageButton",value:function(e){var n=this,t=e===this.state.page?f.default.activePageButton:null;return c.default.createElement("i",{key:e,className:(0,h.default)(f.default.pageButton,t),onClick:function(){return n.setState({page:e})}})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:f.default.contents},this.props.children[this.state.page],c.default.createElement("div",{className:f.default.pageButtonContainer},this.props.children.map(function(n,t){return e.pageButton(t)})),c.default.createElement("div",{className:f.default.controls},this.hasNextPage()&&c.default.createElement("a",{className:f.default.skipButton,onClick:function(){return e.props.onClose(!1)}},"Skip"),this.hasNextPage()&&c.default.createElement("button",{className:(0,h.default)("btn btn-primary",f.default.controlButton),onClick:function(){return e.nextPage()}},"Next"),!this.hasNextPage()&&c.default.createElement("button",{className:(0,h.default)("btn btn-primary",f.default.controlButton),onClick:function(){return e.props.onClose(!0)}},"Finished!")))}}]),n}(l.Component);m.propTypes={onClose:u.default.func.isRequired,onNext:u.default.func,children:u.default.arrayOf(u.default.element).isRequired},m.defaultProps={onClose:function(){},onNext:function(){}},n.default=m},1498:function(e,n,t){var a=t(1499);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1499:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".Carousel__contents___2jF-P {\n  width: 800px; }\n\n.Carousel__pageButton___1ldKl {\n  background-color: #999;\n  border-radius: 50%;\n  width: 8px;\n  height: 8px;\n  cursor: pointer;\n  display: inline-block;\n  margin: 4px; }\n\n.Carousel__activePageButton___2qZ1m {\n  background-color: #666; }\n\n.Carousel__controls___2JZGO {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center; }\n\n.Carousel__controlButton___3ftzk {\n  margin-left: 1em;\n  width: 100px; }\n\n.Carousel__pageButtonContainer___Jiebu {\n  display: flex;\n  justify-content: center; }\n\n.Carousel__skipButton___30e50 {\n  width: 100px;\n  text-align: center;\n  cursor: pointer; }\n",""]),n.locals={contents:"Carousel__contents___2jF-P",pageButton:"Carousel__pageButton___1ldKl",activePageButton:"Carousel__activePageButton___2qZ1m",controls:"Carousel__controls___2JZGO",controlButton:"Carousel__controlButton___3ftzk",pageButtonContainer:"Carousel__pageButtonContainer___Jiebu",skipButton:"Carousel__skipButton___30e50"}},1500:function(e,n,t){var a=t(1501);"string"==typeof a&&(a=[[e.i,a,""]]);t(29)(a,{});a.locals&&(e.exports=a.locals)},1501:function(e,n,t){n=e.exports=t(28)(!1),n.push([e.i,".DataExplorerHeader__header___pfPQT {\n  margin-top: 41px;\n  display: flex;\n  align-items: flex-end;\n  border-bottom: 1px solid #ddd;\n  margin-bottom: 20px;\n  justify-content: space-between; }\n\n.DataExplorerHeader__title___1Ff-G {\n  color: #5f86cc;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  font-size: 30px;\n  font-weight: 300; }\n\n.DataExplorerHeader__tabs___MXrnG {\n  margin-left: 50px;\n  width: 200px; }\n\n.DataExplorerHeader__tab___3MTi5 {\n  display: inline-block;\n  width: 100px;\n  text-align: center;\n  padding: 6px;\n  color: #aaa; }\n\n.DataExplorerHeader__current___3p4SI {\n  cursor: none;\n  pointer-events: none;\n  border-bottom: 3px solid #5f86cc;\n  color: #5f86cc;\n  font-weight: 500; }\n\n.DataExplorerHeader__infoModalLink___R0i-L {\n  display: flex;\n  align-items: flex-end;\n  cursor: pointer;\n  margin-bottom: 10px;\n  text-decoration: none; }\n\n.DataExplorerHeader__infoModalLink___R0i-L:hover {\n  text-decoration: none; }\n\n.DataExplorerHeader__notesIcon___3Mz6v {\n  display: inline-block;\n  margin-right: 10px;\n  font-size: 20px !important; }\n\n@media (max-width: 1024px) {\n  .DataExplorerHeader__header___pfPQT {\n    margin-top: 0; } }\n",""]),n.locals={header:"DataExplorerHeader__header___pfPQT",title:"DataExplorerHeader__title___1Ff-G",tabs:"DataExplorerHeader__tabs___MXrnG",tab:"DataExplorerHeader__tab___3MTi5",current:"DataExplorerHeader__current___3p4SI",infoModalLink:"DataExplorerHeader__infoModalLink___R0i-L",notesIcon:"DataExplorerHeader__notesIcon___3Mz6v"}},1502:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(){return{restrict:"E",scope:{accountId:"=",sectionSlug:"@",tabs:"="},templateUrl:l,link:i,controller:r}}function i(e,n,t){}function r(e,n){}var s=t(4),l=t(1503);a.exports=s.module(a.i,[]).directive("nrTabbar",o).name,r.$inject=["$location","$scope"]}.call(n,t,n,e))&&(e.exports=a)},1503:function(e,n){var t="/templates/shared/tabbar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='btn-group'>\n  <a class='btn btn-default btn-toggle' ng-class='{\"active\": tab.isActive}' ng-href='/accounts/{{accountId}}/{{sectionSlug}}/{{tab.url}}' ng-repeat='tab in tabs'>\n    {{tab.title}}\n  </a>\n</div>\n")}]),e.exports=t},1504:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){return t(4).module(a.i,["ngResource",t(1146),t(1505),t(1508),t(1510),t(1148),t(1147),t(1513)]).name}.call(n,t,n,e))&&(e.exports=a)},1505:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(){return{restrict:"E",scope:{},templateUrl:d,controller:"LookupTableListCtrl",controllerAs:"listing"}}function i(e,n,t,a){var o=this;o.loading=!0,o.sources=[],o.reload=function(){return t.query().$promise.then(function(e){o.loading=!1,o.sources=e.sort(r),n.$emit("nrLookupTableList:fetchedSourceNames",l.map(o.sources,"name"))})},o.deleteSource=function(e){confirm('Are you sure you want to delete "'+e.name+'"? This cannot be undone.')&&e.$delete(function(){l.remove(o.sources,{name:e.name}),n.$emit("nrLookupTableList:removeSource",e)})},o.selectSource=function(e){n.$emit("nrLookupTableList:selectSource",e)},o.previewSource=function(e){e.preview().then(function(n){var t=s(n);t.table=e.name,t.totalRows=e.rows,a.runModal({backdrop:!1,scopeData:t,templateUrl:c})})},e.$on("$destroy",n.$on("nrLookupSettings:saving",function(e,n){l.find(o.sources,{name:n.name}).uploadStatus="saving"})),e.$on("$destroy",n.$on("nrLookupSettings:saved",function(e,n){l.find(o.sources,{name:n.name}).uploadStatus="success"})),e.$on("$destroy",n.$on("nrLookupSettings:saveFailed",function(e,n){var t=l.find(o.sources,{name:n.name});t.uploadStatus="failure",t.failureDetails="Failed to save lookup conditions."})),e.$on("$destroy",n.$on("nrLookupSettings:created",function(e,n){l.remove(o.sources,{name:n.name}),o.sources.push(n),o.sources.sort(r)})),e.$on("$destroy",n.$on("nrLookupSettings:uploaded",function(e,n){o.reload().then(function(){var e=l.find(o.sources,{name:n.name});e.progressText=n.progressText,e.uploadStatus="success"})})),o.reload()}function r(e,n){return e.name.localeCompare(n.name)}function s(e){var n=e.columns.map(function(e){return{name:e,title:e}}),t=e.rows.map(function(e){return n.reduce(function(n,t,a){return n[t.name]=e[a].value,n},{})});return{columns:n,events:t}}a.exports=t(4).module(a.i,[t(272),t(1147)]).directive("nrLookupTableList",o).controller("LookupTableListCtrl",i).name;var l=t(22),c=t(1506),d=t(1507);i.$inject=["$scope","$rootScope","JoinDataSource","Dialog"]}.call(n,t,n,e))&&(e.exports=a)},1506:function(e,n){var t="/templates/join-data/_preview.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='modal join-table-preview' role='dialog' tabindex='-1'>\n  <div class='modal-dialog'>\n    <div class='modal-content'>\n      <button class='btn-icon close' ng-click='$hide()' type='button'>&times;</button>\n      <h3>\n        {{table}}\n        <em>previewing {{events.length}} of {{totalRows}} total</em>\n      </h3>\n      <lookup-preview-table columns='columns' disable-scroll='false' events='events'></lookup-preview-table>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1507:function(e,n){var t="/templates/join-data/_join_data_source_listing.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<table class='table'>\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>Rows</th>\n      <th>Creator</th>\n      <th></th>\n      <th>Last updated</th>\n      <th>Actions</th>\n    </tr>\n  </thead>\n  <tbody ng-if='listing.sources.length > 0'>\n    <tr ng-repeat='source in listing.sources track by source.name'>\n      <td class='name' ng-bind='source.name'></td>\n      <td ng-bind='source.rows'></td>\n      <td class='creator' ng-bind='source.owner'></td>\n      <td class='upload-status'>\n        <nr-spinner loading='true' ng-show='source.uploadStatus === \"processing\"' size='1x'></nr-spinner>\n        <i class='loading-spinner icon-fixed-width icon-refresh icon-spin' ng-show='source.uploadStatus === \"saving\"'></i>\n        <div class='warning' ng-show='source.uploadStatus === \"failure\"' placement='top' popover trigger-content='&lt;i class=\"icon-warning\"&gt;&lt;/i&gt;' trigger='hover'>\n          {{source.failureDetails}}\n        </div>\n        <div class='success' ng-show='source.uploadStatus === \"success\"'>\n          <i class='icon-check'></i>\n        </div>\n      </td>\n      <td class='last-updated'>\n        <span class='timestamp' ng-bind='source.formattedTimestamp()'></span>\n        <span class='status' ng-bind='source.progressText' ng-show='source.progressText'></span>\n      </td>\n      <td class='actions'>\n        <button class='btn btn-icon btn-link' ng-click='listing.selectSource(source)' ng-disabled=\"source.uploadStatus === 'processing'||source.uploadStatus === 'failure'\" title='Configure'>\n          <i class='icon-cog'></i>\n        </button>\n        <button class='btn btn-icon btn-link btn-zoom' ng-click='listing.previewSource(source)' ng-disabled=\"source.uploadStatus === 'processing'||source.uploadStatus === 'failure'\" title='Preview'>\n          <i class='icon-search'></i>\n        </button>\n        <button class='btn btn-icon btn-link btn-delete' ng-click='listing.deleteSource(source)' ng-disabled=\"source.uploadStatus === 'processing'||source.uploadStatus === 'failure'\" title='Delete'>\n          <i class='icon-trash'></i>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n  <tbody ng-if='listing.loading'>\n    <tr>\n      <td colspan='6'>\n        <i class='icon-spinner icon-spin loading-spinner icon-4x text-center'></i>\n      </td>\n    </tr>\n  </tbody>\n  <tbody ng-if='!listing.loading && !listing.sources.length'>\n    <tr>\n      <td colspan='6'>\n        No lookup tables are available.\n      </td>\n    </tr>\n  </tbody>\n</table>\n")}]),e.exports=t},1508:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(){return{restrict:"E",scope:{eventTypes:"=",lookupColumns:"=",attrsByEventType:"=",lookup:"=",error:"=",disabled:"=",isRequired:"=",newSource:"=",allLookups:"="},controller:"LookupDefaultConditionCtrl",controllerAs:"condition",templateUrl:s}}function i(e,n){var t=this;t.lookup=e.lookup,t.editing=!t.lookup.lookupAttribute,t.removeLookup=function(){t.lookup&&n.$emit("nrLookupDefaultCondition:removeLookup",t.lookup)},t.unusedEventTypes=function(){return r.without.apply(r,[e.eventTypes].concat(r.map(e.allLookups,"eventType"))).concat([t.lookup.eventType]).sort()},t.update=function(e){n.$emit("nrLookupDefaultCondition:lookupChanged",t.lookup),"eventType"===e&&(t.lookup.eventAttribute=void 0,n.$emit("nrLookupDefaultCondition:selectedEventType",t.lookup.eventType))}}var r=t(22);a.exports=t(4).module(a.i,[]).directive("nrLookupDefaultCondition",o).controller("LookupDefaultConditionCtrl",i).name;var s=t(1509);i.$inject=["$scope","$rootScope"]}.call(n,t,n,e))&&(e.exports=a)},1509:function(e,n){var t="/templates/join-data/_lookup_default_condition.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<tr ng-show='condition.editing || error'>\n  <td>\n    <span class='nowrap'>\n      <button bs-options='type for type in condition.unusedEventTypes()' bs-select class='btn btn-default dropdown-toggle' ng-change=\"condition.update('eventType')\" ng-disabled='disabled' ng-model='lookup.eventType' placeholder='Choose event type' type='button'></button>\n      .\n    </span>\n    <span class='nowrap'>\n      <button bs-options='attr for attr in attrsByEventType[lookup.eventType]' bs-select class='btn btn-default dropdown-toggle' ng-change=\"condition.update('eventAttribute')\" ng-disabled='!lookup.eventType' ng-model='lookup.eventAttribute' ng-show='!attrsByEventType[lookup.eventType] || attrsByEventType[lookup.eventType].length > 0' placeholder='Which attribute?' type='button'></button>\n      <button class='btn btn-default dropdown-toggle' disabled='true' ng-show='attrsByEventType[lookup.eventType].length === 0' type='button'>Loading...</button>\n      <i class='loading-spinner icon-fixed-width icon-refresh icon-spin' ng-show='attrsByEventType[lookup.eventType].length === 0'></i>\n    </span>\n    <span class='nowrap'>\n      <span class='equals'> =</span>\n      <button bs-options='attr for attr in lookupColumns' bs-select class='btn btn-default dropdown-toggle' ng-change=\"condition.update('lookupAttribute')\" ng-disabled='disabled' ng-model='lookup.lookupAttribute' placeholder='Choose lookup column' type='button'></button>\n    </span>\n  </td>\n  <td class='actions'>\n    <i class='icon-warning' data-content='{{error}}' ng-show='error' placement='bottom' popover trigger='hover'></i>\n    <a class='btn btn-link btn-icon' ng-click='condition.editing = false' ng-hide='error || newSource'>\n      <i class='icon-pencil-square-o'></i>\n    </a>\n    <a class='btn btn-link btn-icon' ng-click='condition.removeLookup()' ng-hide='isRequired'>\n      <i class='icon-trash-o'></i>\n    </a>\n  </td>\n</tr>\n<tr ng-show='!condition.editing && !error'>\n  <td>\n    <span>{{lookup.eventType}}</span>.<span>{{lookup.eventAttribute}}</span> =\n    <span>{{lookup.lookupAttribute}}</span>\n  </td>\n  <td class='actions'>\n    <a class='btn btn-link btn-icon' ng-click='condition.editing = true'>\n      <i class='icon-pencil-square-o'></i>\n    </a>\n    <a class='btn btn-link btn-icon' ng-click='condition.removeLookup()' ng-hide='isRequired'>\n      <i class='icon-trash-o'></i>\n    </a>\n  </td>\n</tr>\n")}]),e.exports=t},1510:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(){return{restrict:"E",scope:{},controller:"LookupSettingsCtrl",controllerAs:"settings",templateUrl:l,link:function(e,n,t){e.settings.form=n.find("form")[0]}}}function i(e,n,t,a,o,i,l,c,d,u){function p(e){y.form&&y.form.reset(),y.dirtyStatus="clean",y.lookups=[],y.inputFile=null,y.lookupColumns=null,y.validationMessages={},y.successMessage=null,y.error=null,e?(y.source=e,y.newSource=!1,y.loading=!0,b()):(y.source=new c,y.newSource=!0,y.loading=!1)}function h(e){y.successMessage=e,a(function(){"saving"===y.dirtyStatus&&(y.dirtyStatus="clean")},800),a(function(){y.successMessage=null},5e3)}function g(e){e||(e={}),y.dirtyStatus="saving",n.$emit("nrLookupSettings:saving",y.source),y.source.setDefaultLookups(y.lookups).then(function(){b().then(function(){h("Saved!"),y.dirtyStatus="clean",y.error=null}),n.$emit("nrLookupSettings:saved",y.source)},function(e){h(),n.$emit("nrLookupSettings:saveFailed",y.source),y.error="Failed to update default conditions, please try again."})}function f(){var t={file:y.inputFile,lookups:y.lookups,user:y.user,delimiter:y.csvDelimiter};y.source.upload(t,e).then(function(e){b().then(function(){y.form&&y.form.reset(),n.$emit("nrLookupSettings:uploaded",y.source),h("Uploaded!"),y.dirtyStatus="clean",y.error=null})},function(e){y.error=e.message,y.loading=!1},function(e){r.isDefined(e.percent)&&(y.progressBar={width:e.percent})})}function m(e){e.forEach(function(e){y.attrsByEventType[e]||(y.attrsByEventType[e]=o.get(t.account_id,e))})}function v(e){return y.attrsByLookupTable[e]||(y.attrsByLookupTable[e]=o.getLookup(t.account_id,e)),y.attrsByLookupTable[e]}function b(){return y.lookupColumns=v(y.source.name),y.source.defaultLookups().then(function(e){y.loading=!1,y.lookups=e.lookups,y.error=null,m(s.map(y.lookups,"eventType"))},function(){y.lookups=null,y.loading=!1,y.error="Failed to load default conditions, please try again."})}var y=this;y.source=null,y.lookupColumns=null,y.csvDelimiter=",",y.inputFile=null,y.lookups=[],y.attrsByEventType={},y.attrsByLookupTable={},y.dirtyStatus="clean",y.lookupNames=[],y.loading=!1,y.error=null,y.newSource=null,y.validationMessages={},y.successMessage=null,y.user=null,y.eventTypes=[],e.$on("$destroy",n.$on("nrLookupTableList:selectSource",function(e,n){y.confirmClean()&&p(n)})),e.$on("$destroy",n.$on("nrLookupTableList:removeSource",function(e,n){s.remove(y.lookupNames,function(e){return e===n.name}),y.newSource||y.source.name!==n.name||y.close(!0)})),e.$on("$destroy",n.$on("nrLookupTableList:fetchedSourceNames",function(e,n){y.lookupNames=n})),e.$on("$destroy",n.$on("nrLookupDefaultCondition:lookupChanged",function(e,n){y.dirtyStatus="dirty"})),e.$on("$destroy",n.$on("nrLookupDefaultCondition:selectedEventType",function(e,n){m([n])})),e.$on("$destroy",n.$on("nrLookupDefaultCondition:removeLookup",function(e,n){s.remove(y.lookups,n)})),i.get(t.account_id).$promise.then(function(e){y.eventTypes=e.map(function(e){return e.name})}),l.promise.then(function(e){y.user=e.email}),y.confirmClean=function(){return"clean"===y.dirtyStatus||confirm('You have unsaved changes in "'+y.source.name+'", are you sure?')},y.confirmUniqueName=function(){return!y.newSource||-1===y.lookupNames.indexOf(y.source.name)||confirm('The lookup table "'+y.source.name+'" exists, do you want to overwrite it? This replaces the existing default conditions.')},y.fileInputChanged=function(n){y.dirtyStatus="dirty",y.inputFile=n.files[0];var t=y.inputFile.name.split(".")[0];if(!y.source.name){if(y.lookupNames)for(var a=2;-1!=y.lookupNames.indexOf(t)&&(t=t.replace(/\d+$/,"").concat(a++),!(a>10)););y.source.name=t}y.lookupColumns=[],u(y.inputFile,function(n,t){y.lookupColumns=n,y.csvDelimiter=t,y.lookups.length<1&&y.addCondition(),e.$apply()})},y.addCondition=function(){y.dirtyStatus="dirty",y.lookups.push({lookupTable:y.source.name})},y.validate=function(){var e=y.inputFile||{name:"iamvalid.csv",type:"text/csv",size:1},n=y.source.validate(e,y.lookups);y.validationMessages=n.messages,n.valid?y.error=null:y.error=[n.messages.name,n.messages.lookups].join(" ").trim()},y.close=function(e){if(e)return p();y.confirmClean()&&p()},y.save=function(){y.validate(),y.error||y.confirmUniqueName()&&(y.newSource&&(n.$emit("nrLookupSettings:created",y.source),y.newSource=!1),y.inputFile?f():g())},p()}var r=t(4);a.exports=r.module(a.i,[]).directive("nrLookupSettings",o).controller("LookupSettingsCtrl",i).name;var s=t(22),l=t(1511);i.$inject=["$scope","$rootScope","$routeParams","$timeout","Keysets","EventTypes","CurrentUser","JoinDataSource","JoinDataSourceUploader","extractColumnsFromCSV"]}.call(n,t,n,e))&&(e.exports=a)},1511:function(e,n){var t="/templates/join-data/_lookup_settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div ng-class='{details: !settings.newSource}'>\n  <button class='close btn-icon' ng-click='settings.close()' ng-show='!settings.newSource' type='button'>×</button>\n  <h3 ng-show='!settings.newSource'>\n    {{settings.source.name}}\n    <i class='loading-spinner icon-fixed-width icon-refresh icon-spin' ng-show=\"settings.dirtyStatus === 'saving'\"></i>\n  </h3>\n  <form>\n    <div class='form-group' ng-show='settings.newSource'>\n      <label for='table-name'>\n        Table name\n        <i class='icon-warning' data-content='{{settings.validationMessages.name}}' ng-show='settings.validationMessages.name' placement='bottom' popover trigger='hover'></i>\n      </label>\n      <input class='form-control' id='table-name' name='name' ng-change=\"settings.dirtyStatus = 'dirty'\" ng-disabled='pending' ng-model='settings.source.name' placeholder='Table name for NRQL queries' required type='text'>\n    </div>\n    <div class='form-group'>\n      <label for='data-file' ng-show='settings.newSource'>Choose CSV file</label>\n      <label for='data-file' ng-show='!settings.newSource'>Replace CSV file</label>\n      <input accept='text/csv' id='data-file' name='data' ng-disabled='settings.loading' onchange='angular.element(this).scope().settings.fileInputChanged(this)' type='file'>\n      <i class='icon-warning' data-content='{{settings.validationMessages.file}}' ng-show='settings.validationMessages.file' placement='bottom' popover trigger='hover'></i>\n    </div>\n    <nr-spinner loading='settings.loading' ng-show='settings.loading' size='s'></nr-spinner>\n    <div class='form-group lookup-conditions' ng-show='!settings.loading && settings.lookupColumns'>\n      <label>Default lookup conditions</label>\n      <nr-lookup-default-condition all-lookups='settings.lookups' attrs-by-event-type='settings.attrsByEventType' error='settings.validationMessages.lookup[$index]' event-types='settings.eventTypes' is-required='settings.lookups.length === 1' lookup-columns='settings.lookupColumns' lookup='lookup' new-source='settings.newSource' ng-repeat='lookup in settings.lookups'></nr-lookup-default-condition>\n      <a class='btn btn-link' ng-click='settings.addCondition()' ng-disabled='settings.invalid && settings.lookups.length > 0'>\n        <i class='icon-plus'></i>\n        Add a lookup condition\n      </a>\n    </div>\n    <div class='form-group'>\n      <button class='btn btn-primary' ng-click='settings.save()' ng-disabled=\"settings.loading || settings.dirtyStatus !== 'dirty'\">\n        <span ng-show='settings.newSource'>Upload File</span>\n        <span ng-show='!settings.newSource'>Save Changes</span>\n      </button>\n      &nbsp;\n      <a ng-click='settings.close()' ng-show='!settings.newSource'>cancel</a>\n      <span class='success' ng-show='settings.successMessage'>{{settings.successMessage}}</span>\n    </div>\n  </form>\n  <div class='error' ng-show='settings.error'>\n    {{settings.error}}\n  </div>\n</div>\n")}]),e.exports=t},1512:function(e,n,t){var a;!function(o){function i(e,n){var t=c(n),a=new s(t),o=a.parse(e);return u(t.complete)&&t.complete(o),o}function r(e,n){function t(e){if("object"!=typeof e)return[];var n=[];for(var t in e)n.push(t);return n}function a(e,n){var t="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof n&&(n=JSON.parse(n));var a=e instanceof Array&&e.length>0,i=!(n[0]instanceof Array);if(a){for(var r=0;r<e.length;r++)r>0&&(t+=s),t+=o(e[r],r);n.length>0&&(t+=l)}for(var c=0;c<n.length;c++){for(var d=a?e.length:n[c].length,u=0;u<d;u++){u>0&&(t+=s);var p=a&&i?e[u]:u;t+=o(n[c][p],u)}c<n.length-1&&(t+=l)}return t}function o(e,n){return void 0===e||null===e?"":(e=e.toString().replace(/"/g,'""'),"boolean"==typeof r&&r||r instanceof Array&&r[n]||i(e,h.BAD_DELIMITERS)||e.indexOf(s)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1)?'"'+e+'"':e)}function i(e,n){for(var t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return!0;return!1}var r=!1,s=",",l="\r\n";if(function(){"object"==typeof n&&("string"==typeof n.delimiter&&1==n.delimiter.length&&-1==h.BAD_DELIMITERS.indexOf(n.delimiter)&&(s=n.delimiter),("boolean"==typeof n.quotes||n.quotes instanceof Array)&&(r=n.quotes),"string"==typeof n.newline&&(l=n.newline))}(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return a(null,e);if("object"==typeof e[0])return a(t(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:t(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),a(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function s(e){function n(){if(_&&f&&(c("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),f=!1),e.skipEmptyLines)for(var n=0;n<_.data.length;n++)1==_.data[n].length&&""==_.data[n][0]&&_.data.splice(n--,1);return t()&&a(),o()}function t(){return e.header&&0==w.length}function a(){if(_){for(var e=0;t()&&e<_.data.length;e++)for(var n=0;n<_.data[e].length;n++)w.push(_.data[e][n]);_.data.splice(0,1)}}function o(){if(!_||!e.header&&!e.dynamicTyping)return _;for(var n=0;n<_.data.length;n++){for(var t={},a=0;a<_.data[n].length;a++){if(e.dynamicTyping){var o=_.data[n][a];_.data[n][a]="true"==o||"TRUE"===o||"false"!=o&&"FALSE"!==o&&s(o)}e.header&&(a>=w.length?(t.__parsed_extra||(t.__parsed_extra=[]),t.__parsed_extra.push(_.data[n][a])):t[w[a]]=_.data[n][a])}e.header&&(_.data[n]=t,a>w.length?c("FieldMismatch","TooManyFields","Too many fields: expected "+w.length+" fields but parsed "+a,n):a<w.length&&c("FieldMismatch","TooFewFields","Too few fields: expected "+w.length+" fields but parsed "+a,n))}return e.header&&_.meta&&(_.meta.fields=w),_}function i(n){for(var t,a,o,i=[",","\t","|",";",h.RECORD_SEP,h.UNIT_SEP],r=0;r<i.length;r++){var s=i[r],c=0,d=0;o=void 0;for(var u=new l({delimiter:s,preview:10}).parse(n),p=0;p<u.data.length;p++){var g=u.data[p].length;d+=g,void 0!==o?g>1&&(c+=Math.abs(g-o),o=g):o=g}d/=u.data.length,(void 0===a||c<a)&&d>1.99&&(a=c,t=s)}return e.delimiter=t,{successful:!!t,bestDelimiter:t}}function r(e){e=e.substr(0,1048576);var n=e.split("\r");if(1==n.length)return"\n";for(var t=0,a=0;a<n.length;a++)"\n"==n[a][0]&&t++;return t>=n.length/2?"\r\n":"\r"}function s(e){return m.test(e)?parseFloat(e):e}function c(e,n,t,a){_.errors.push({type:e,code:n,message:t,row:a})}var p,g,f,m=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,v=this,b=0,y=!1,w=[],_={data:[],errors:[],meta:{}};if(u(e.step)){var k=e.step;e.step=function(a){if(_=a,t())n();else{if(n(),0==_.data.length)return;b+=a.data.length,e.preview&&b>e.preview?g.abort():k(_,v)}}}this.parse=function(t){if(e.newline||(e.newline=r(t)),f=!1,!e.delimiter){var a=i(t);a.successful?e.delimiter=a.bestDelimiter:(f=!0,e.delimiter=h.DefaultDelimiter),_.meta.delimiter=e.delimiter}var o=d(e);return e.preview&&e.header&&o.preview++,p=t,g=new l(o),_=g.parse(p),n(),!u(e.complete)||y||v.streamer&&!v.streamer.finished()||e.complete(_),y?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.pause=function(){y=!0,g.abort(),p=p.substr(g.getCharIndex())},this.resume=function(){y=!1,g=new l(e),g.parse(p),y||(v.streamer&&!v.streamer.finished()?v.streamer.resume():u(e.complete)&&e.complete(_))},this.abort=function(){g.abort(),u(e.complete)&&e.complete(_),p=""}}function l(e){e=e||{};var n=e.delimiter,t=e.newline,a=e.comments,o=e.step,i=e.preview,r=e.fastMode;if(("string"!=typeof n||1!=n.length||h.BAD_DELIMITERS.indexOf(n)>-1)&&(n=","),a===n)throw"Comment character same as delimiter";!0===a?a="#":("string"!=typeof a||h.BAD_DELIMITERS.indexOf(a)>-1)&&(a=!1),"\n"!=t&&"\r"!=t&&"\r\n"!=t&&(t="\n");var s=0,l=!1;this.parse=function(e){function c(){return w.push(e.substr(s)),b.push(w),s=h,v&&p(),u()}function d(n){b.push(w),w=[],s=n,C=e.indexOf(t,s)}function u(e){return{data:b,errors:y,meta:{delimiter:n,linebreak:t,aborted:l,truncated:!!e}}}function p(){o(u()),b=[],y=[]}if("string"!=typeof e)throw"Input must be a string";var h=e.length,g=n.length,f=t.length,m=a.length,v="function"==typeof o;s=0;var b=[],y=[],w=[];if(!e)return u();if(r){for(var _=e.split(t),k=0;k<_.length;k++)if(!a||_[k].substr(0,m)!=a){if(v){if(b=[_[k].split(n)],p(),l)return u()}else b.push(_[k].split(n));if(i&&k>=i)return b=b.slice(0,i),u(!0)}return u()}for(var x=e.indexOf(n,s),C=e.indexOf(t,s);;)if('"'!=e[s])if(a&&0===w.length&&e.substr(s,m)===a){if(-1==C)return u();s=C+f,C=e.indexOf(t,s),x=e.indexOf(n,s)}else if(-1!==x&&(x<C||-1===C))w.push(e.substring(s,x)),s=x+g,x=e.indexOf(n,s);else{if(-1===C)break;if(w.push(e.substring(s,C)),d(C+f),v&&(p(),l))return u();if(i&&b.length>=i)return u(!0)}else{var T=s;for(s++;;){var T=e.indexOf('"',T+1);if(-1===T)return y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:s}),c();if(T===h-1)return w.push(e.substring(s,T).replace(/""/g,'"')),b.push(w),v&&p(),u();if('"'!=e[T+1]){if(e[T+1]==n){w.push(e.substring(s,T).replace(/""/g,'"')),s=T+1+g,x=e.indexOf(n,s),C=e.indexOf(t,s);break}if(e.substr(T+1,f)===t){if(w.push(e.substring(s,T).replace(/""/g,'"')),d(T+1+f),x=e.indexOf(n,s),v&&(p(),l))return u();if(i&&b.length>=i)return u(!0);break}}else T++}}return c()},this.abort=function(){l=!0},this.getCharIndex=function(){return s}}function c(e){"object"!=typeof e&&(e={});var n=d(e);return("string"!=typeof n.delimiter||1!=n.delimiter.length||h.BAD_DELIMITERS.indexOf(n.delimiter)>-1)&&(n.delimiter=p.delimiter),"\n"!=n.newline&&"\r"!=n.newline&&"\r\n"!=n.newline&&(n.newline=p.newline),"boolean"!=typeof n.header&&(n.header=p.header),"boolean"!=typeof n.dynamicTyping&&(n.dynamicTyping=p.dynamicTyping),"number"!=typeof n.preview&&(n.preview=p.preview),"function"!=typeof n.step&&(n.step=p.step),"function"!=typeof n.complete&&(n.complete=p.complete),"boolean"!=typeof n.skipEmptyLines&&(n.skipEmptyLines=p.skipEmptyLines),"boolean"!=typeof n.fastMode&&(n.fastMode=p.fastMode),n}function d(e){if("object"!=typeof e)return e;var n=e instanceof Array?[]:{};for(var t in e)n[t]=d(e[t]);return n}function u(e){return"function"==typeof e}var p={delimiter:"",newline:"",header:!1,dynamicTyping:!1,preview:0,step:void 0,comments:!1,complete:void 0,skipEmptyLines:!1,fastMode:!1},h={};h.parse=i,h.unparse=r,h.RECORD_SEP=String.fromCharCode(30),h.UNIT_SEP=String.fromCharCode(31),h.BYTE_ORDER_MARK="\ufeff",h.BAD_DELIMITERS=["\r","\n",'"',h.BYTE_ORDER_MARK],h.DefaultDelimiter=",",h.Parser=l,h.ParserHandle=s,void 0!==e&&e.exports?e.exports=h:void 0!==(a=function(){return h}.call(n,t,n,e))&&(e.exports=a)}("undefined"!=typeof window&&window)},1513:function(e,n,t){"use strict";(function(a){var o;void 0!==(o=function(e,n,a){function o(e,n,t,a,o,s,l,c){function d(e){var n=e.name;this.source=e,this.lookups=[],this.baseUrl=s("/internal_api/1/accounts/{{account_id}}/join_data_sources/{{id}}/")({id:n,account_id:o.account_id}),this.pending=!1,this.message="",this.details=null,this.percent=null,this.result=a.defer(),this.info={tableName:n},this.intervalTimer=null,this.timeoutTimer=null}var u=d.prototype;return u.upload=function(e,n,t,a){var o=this;return o.instrumentFile(e),o.lookups=t,i.isDefined(a)&&a.$on("$destroy",function(){o.finish()}),o.pending=!0,o.notify("Preparing to upload"),o.get("request_upload").then(function(t){o.notify("Upload in progress"),o.performUpload(t.data.url,e).then(function(){o.notifyUploaded(t.data.objectKey,n)},function(e,n){o.details="Encountered an error during file upload.",o.failUpload("File upload failed")})},function(){o.failUpload("Upload request failed")}),o.result.promise},u.finish=function(){this.pending=!1,n.cancel(this.intervalTimer),t.cancel(this.timeoutTimer)},u.notify=function(e,n){this.message=e,this.percent=n,this.result.notify(this)},u.failUpload=function(e){return this.finish(),this.notify(e),l.action("lookup:uploadTableFailure",i.extend({uploadError:this.details||e},this.info)),this.result.reject(this)},u.notifyUploaded=function(e,a){var o=this;o.post("complete_upload",{object_key:e,delimiter:a}).then(function(){o.notify("Processing upload"),o.intervalTimer=n(function(){o.checkUpload(e)},4e3),o.timeoutTimer=t(function(){o.failUpload("Processing timed out")},6e4)},function(){o.failUpload("Failed to complete upload")})},u.checkUpload=function(e){var n=this;n.get("upload_status",{object_key:e}).then(function(e){if(e.data.complete)return n.finish(),e.data.error?(n.details=e.data.error,n.failUpload("Processing failed")):n.setDefaultLookups()},function(){})},u.setDefaultLookups=function(){var e=this;e.source.setDefaultLookups(e.lookups).then(function(){e.notify("Upload completed"),l.action("lookup:uploadTable",e.info),e.result.resolve(e)},function(n){e.details="Upload was successful, but there was a problem setting default conditions.",e.failUpload("Upload completed")})},u.performUpload=function(e,n){function t(e){var n=Math.round(e.loaded/e.total*100);a.notify(n+"% Uploaded",n+"%")}var a=this;return r.ajax(e,{type:"PUT",data:n,contentType:n.type,processData:!1,timeout:18e4,xhr:function(){var e=new XMLHttpRequest;return e.upload?e.upload.addEventListener("progress",t):e.addEventListener("progress",t),e}})},u.get=function(n,t){return e.get(this.baseUrl+n,{params:t})},u.post=function(n,t){return e.post(this.baseUrl+n,t)},u.instrumentFile=function(e){this.info.uploadBytes=e.size,this.info.uploadType=e.type,this.info.uploadName=e.name},d}var i=t(4);a.exports=i.module(a.i,[t(69),t(1148)]).factory("JoinDataSourceUploader",o).name;var r=t(24);o.$inject=["$http","$interval","$timeout","$q","$routeParams","$interpolate","TrackUser","extractColumnsFromCSV"]}.call(n,t,n,e))&&(e.exports=o)}).call(n,t(24))},1519:function(e,n,t){"use strict";var a,o;a=[e,t(4)],void 0!==(o=function(e,n){var t=n.module(e.i,[]);return t.factory("blacklistHandler",["$q","$location","$routeParams",function(e,n,t){return{responseError:function(a){if(403==a.status&&a.headers("X-Blacklisted")){var o=t.account_id;n.path("/accounts/"+o+"/disabled")}return e.reject(a)}}}]),t.config(["$httpProvider",function(e){e.interceptors.push("blacklistHandler")}]),t.name}.apply(n,a))&&(e.exports=o)},1520:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){function o(e,n){return"Default"===e&&(e="Insights"),l(n)+" of "+e+" data"}function i(e){return 1==e.length?e[0]:2==e.length?e[0]+" and "+e[1]:e.slice(0,e.length-1).join(", ")+", and "+e[e.length-1]}var r=t(4),s=t(1521),l=t(459),c=r.module(a.i,[]);return c.directive("clippedWarning",["clippedDescriptionFilter",function(e){return{restrict:"E",templateUrl:s,scope:{widget:"="},controller:["$scope",function(n){n.$watch("widget.metadata.clippedTimeWindows",function(t){n.showClippedWarning=t&&Object.keys(t).length,n.showClippedWarning?n.retention=e(t):n.retention=""})}]}}]),c.filter("clippedDescription",function(){return function(e){return i(Object.keys(e).map(function(n){return o(n,Math.floor(e[n].retentionMillis/1e3))}))}}),c.name}.call(n,t,n,e))&&(e.exports=a)},1521:function(e,n){var t="/templates/shared/_clipped.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<i class='icon-warning' ng-if='showClippedWarning' placement='right' popover trigger='hover'>\n  This query only looked at the last {{ retention }}.\n</i>\n")}]),e.exports=t},1522:function(e,n,t){"use strict";var a,o;a=[e,t(4),t(116)],void 0!==(o=function(e,n){var t=n.module(e.i,["ngResource"]);return t.directive("currentProduct",["$resource",function(e){var n=e("/internal_api/1/accounts/:account_id/current_product");return{restrict:"E",scope:{accountId:"="},template:"{{product.name}}",controller:["$scope",function(e){e.$watch("accountId",function(t){t&&(e.product=n.get({account_id:t}))})}]}}]),t.name}.apply(n,a))&&(e.exports=o)},1523:function(e,n,t){"use strict";var a,o;a=[e,t(4),t(525)],void 0!==(o=function(e,n){var t=n.module(e.i,["ngAnimate"]);return t.directive("fancyShow",["$animate",function(e){return{restrict:"A",link:function(n,t,a){var o=function(n){e[n?"removeClass":"addClass"](t,"fancy-show-hidden")};o(n.$eval(a.toggle)),n.$watch(a.toggle,o)}}}]),t.animation(".fancy-show-hidden",function(){return{addClass:function(e,n){"fancy-show-hidden"===n&&e.css("height","")},removeClass:function(e,n){"fancy-show-hidden"===n&&e.css("height",e.children().height())}}}),t.name}.apply(n,a))&&(e.exports=o)},1524:function(e,n,t){"use strict";var a,o;a=[e,t(4),t(24),t(22)],void 0!==(o=function(e,n,t,a){var o=n.module(e.i,[]);return o.directive("maximizeHeight",["$document","$window",function(e,t){return{restrict:"A",link:function(o,i,r){var s=n.element(e[0].body),l=function(e){var n=e-Math.ceil(i.offset().top)-s.offset().top;i.height(n)},c=a.throttle(l,50);r.maximizeHeight&&(i=i.find(r.maximizeHeight)),o.$on("viewport:change",function(e,n,t,a){"resize"===t&&l(n.height)}),o.$watch(function(){c(t.innerHeight)})}}}]),o.name}.apply(n,a))&&(e.exports=o)},1527:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(22),i=t(4),r=t(1528),s=i.module(a.i,["ngResource",t(43),t(1021)]);s.value("NewRelicProducts",window.Insights.products),s.directive("productSwitcher",["$interpolate","$rootElement","$document","Accounts","NewRelicProducts","WindowElement",function(e,n,t,a,s,l){return n=n[0].body?i.element(n[0].body):n,{restrict:"E",replace:!0,scope:{},templateUrl:r,link:function(n,i,r){n.product="insights",n.account=a.currentAccountRef,n.products=function(t){return t.map(function(t){var a=e(t.url),o={getClass:function(){return[t.name,(t.name===n.product?"":"not-")+"active"].join(" ")},getUrl:function(){return a(n)}};return t.name===n.product&&(n.activeProduct=o),o})}(s),n.open=!1,n.toggle=function(e){n.open=!n.open,e.stopPropagation(),e.preventDefault()},n.productClick=function(e,t){e===n.activeProduct&&(t.stopPropagation(),t.preventDefault(),n.open=!1)},function(){var e=l.scrollTop(),a=o.debounce(function(){n.open&&(n.open=!1,n.$apply())},1e3,{leading:!0});t.on("click.product-switcher",a),l.on("scroll.product-switcher",function(n){var t=l.scrollTop();t>e&&a(),e=t}),n.$on("$destroy",function(){l.off("scroll.product-switcher"),t.off("click.product-switcher")})}()},controller:["$scope",function(e){e.$watch("open",function(e){n.toggleClass("product-switcher-open",!!e)})}]}}]),a.exports=s.name}.call(n,t,n,e))&&(e.exports=a)},1528:function(e,n){var t="/templates/shared/product_switcher.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<nav class='product-switcher' ng-class=\"{'open': open}\">\n  <ul>\n    <li class='notched'>\n      <a href='#' ng-click='toggle($event)' title='Switch to another New Relic product'>\n        <div class='product-logo'></div>\n      </a>\n    </li>\n    <li class='product' ng-class='product.getClass()' ng-repeat='product in products'>\n      <a ng-if='open' href='{{ product.getUrl() }}' ng-click='productClick(product, $event)'>\n        <div class='product-logo'></div>\n      </a>\n    </li>\n  </ul>\n</nav>\n")}]),e.exports=t},1534:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[t(177)]);return i.factory("ReportingApps",["$q","Query",function(e,n){function t(e,n){return e+":"+n.join(",")}var a={};return{get:function(o,i,r){var s;if(i=i||["PageView","Transaction"],s=t(o,i),a[s]&&!r)return a[s].promise;a[s]=e.defer();var l={};return i.forEach(function(e){var t="SELECT uniques(appId, 3000) FROM "+e+" SINCE 1 day ago";l[e]=n.query(o,t)}),e.all(l).then(function(e){var n={};Object.keys(e).forEach(function(t){e[t].data.results[0].members.forEach(function(e){var a=parseInt(e,10);n[a]=n[a]||{},n[a][t]=!0})}),a[s].resolve(n)}),a[s].promise}}}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1535:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[t(274)]);return i.directive("nrSticky",["DeviceProfile",function(e){return{restrict:"A",scope:!0,link:function(n,t,a){function i(){return o.isDefined(a.nrStickyByDefault)&&a.nrStickyByDefault.length?e.test(a.nrStickyByDefault):o.isDefined(a.nrStickyByDefault)}function r(e,t){var a=!!n.sticky;l=e,n.sticky=!l||i(),t&&n.sticky!==a&&t()}function s(e){return function(){var n=arguments[arguments.length-1];r(e,n)}}var l=!0;n.$on("scrolltrap:enter",s(!0)),n.$on("scrolltrap:leave",s(!1)),n.$on("viewport:change",function(e,n,t,a){r(l,a)}),r(l)}}}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1536:function(e,n,t){"use strict";var a,o=t(527);void 0!==(a=function(e,n,a){var i=t(4),r=t(22),s=t(1537),l=t(1538),c=i.module(a.i,["ngRoute",t(1022),t(1026)]);return c.factory("canManageApiKeys",["FeatureFlags",function(e){return o.canManageApiKeys.bind(null,e)}]),c.directive("notificationBanners",[function(){return{restrict:"E",templateUrl:s,scope:{currentAccountId:"@",banners:"="},controller:["$scope","$sce",function(e,n){e.dismissBanner=function(n,t){var a=e.banners.indexOf(n);e.banners.splice(a,1),n.$dismiss({account_id:e.currentAccountId})},e.allowHtml=function(e){return n.trustAsHtml(e)}}]}}]),c.directive("subnav",function(){return{restrict:"E",templateUrl:l,scope:{},controller:["$scope","$routeParams","$location","$sce","Accounts","Notifications","canManageApiKeys",function(e,n,t,a,o,i,s){function l(n,t){i.get(n,t).then(function(n){var t=r.groupBy(n,function(e){return e.banner?"banners":"notices"});t.banners&&(e.banners=t.banners),t.notices&&e.$broadcast("displayNotifications",t.notices)})}e.account=o.currentAccountRef,e.banners=[],e.$on("accountChanged",function(n,a){e.account=a,e.currentaccountId=a.id,e.currentaccountName=a.name,l(a.id,!0),s(a.id,function(n){var a=t.path().toLowerCase(),o=a.indexOf("/api_keys");!n&&o>-1&&(window.location.href=window.Insights.env.ERROR_SERVICE_URL+"?error=403",e.$apply()),e.canManageApiKeys=n,e.$digest()})}),e.isSection=function(e){return new RegExp("\\/"+e+"(\\W|$)","i").test(t.path())},e.routeParams=n}]}}),c.directive("subnavClasses",["$rootScope","$route",function(e,n){return{link:function(t,a,o){e.$on("$routeChangeSuccess",function(){a.toggleClass("with-subnav",!!n.current.subnav),a.toggleClass("without-subnav",!n.current.subnav)})}}}]),c.name}.call(n,t,n,e))&&(e.exports=a)},1537:function(e,n){var t="/templates/shared/banners.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<ul class='nr-banner-notifications'>\n  <li class='nr-banner' ng-repeat='banner in banners'>\n    <a class='close' ng-click='dismissBanner(banner)' nr-track-click='banner:dismissBanner' nr-track-params='{banner_id: banner.id, feature: banner.feature}'>&times;</a>\n    <strong ng-show='banner.lead'>{{banner.lead}}</strong>\n    <span ng-bind-html='allowHtml(banner.body)'></span>\n  </li>\n</ul>\n")}]),e.exports=t},1538:function(e,n){var t="/templates/shared/subnav.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='subnav compressible'>\n  <ul class='nav nav-tabs' ng-if='isSection(\"manage\")'>\n    <li allow-prefix='true' icon='gears' nav-link='/accounts/{{account.id}}/manage/summary' title='Summary' track-click='nav:clickSummary'></li>\n    <li allow-prefix='true' icon='cloud-upload' nav-link='/accounts/{{account.id}}/manage/add_data' title='Add data' track-click='nav:clickAddData'></li>\n    <li allow-prefix='true' icon='bar-chart' nav-link='/accounts/{{account.id}}/manage/embeddables' title='Embeddables' track-click='nav:clickEmbeddables'></li>\n    <li allow-prefix='true' feature-flagged='join_data_sources' icon='table' nav-link='/accounts/{{account.id}}/manage/lookup_tables' title='Lookup tables' track-click='nav:clickLookupTables'></li>\n    <li ng-show=\"canManageApiKeys\" allow-prefix='true' icon='key' nav-link='/accounts/{{account.id}}/manage/api_keys' title='API Keys' track-click='nav:clickApiKeys'></li>\n    <li allow-prefix='true' icon='magic' nav-link='/accounts/{{account.id}}/manage/formatter' title='Formatter' track-click='nav:clickFormatter'></li>\n  </ul>\n</div>\n<account-switcher link-template='/accounts/%account_id%/query'></account-switcher>\n<notification-banners banners='banners' current-account-id='{{account.id}}' ng-if='banners.length > 0'></notification-banners>\n")}]),e.exports=t},1552:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){var t={};for(var a in e)n.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}function i(e){var n=e.onClose,t=o(e,["onClose"]),a={height:"calc(100% - 50px)",width:"calc(100% - 50px)",boxSizing:"border-box"};return h.default.createElement(w.Modal,s({title:"Latest events"},{onClose:n,style:a},{closeIcon:"icon-close"}),h.default.createElement("div",{style:{position:"relative",height:"calc(100% - 37px)",width:"100%"}},h.default.createElement(y.default,t)))}var r,s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l=t(4),c=a(l),d=t(22),u=a(d),p=t(3),h=a(p),g=t(13),f=a(g),m=t(58),v=a(m),b=t(270),y=a(b),w=t(141);void 0!==(r=function(e,n,a){var o=c.default.module(a.i,[t(43),t(124),t(177),t(1023),t(157),t(69)]);return o.directive("nrVisualDataExplorer",["$window","$rootScope","$q","$routeParams","$controller","$timeout","$location","$filter","$http","Accounts","Keysets","Dashboards","AttributeDefinitions","TrackUser",function(e,n,a,o,r,s,l,c,d,p,g,m,b,y){return{restrict:"E",link:function(e,a,r){t.e(3).then(function(){function r(){var r=u.default.cloneDeep(o);delete r.account_id,r.accountId=e.accountId,r.filters&&(r.filters=v.default.unserialize(r.filters)),r.eventType=r.eventType||"PageView",r.duration&&(r.timerange={duration:parseInt(r.duration,10),end_time:r.end_time});var d=r.end_time,m=t(516),b=m.Timepicker;f.default.render(h.default.createElement(s,{TableModal:i,Timepicker:b,config:{diracSourceCallback:p,chartDataSourceCallback:g,notifyCallback:function(e,t){switch(e){case"selections-changed":t.filters&&t.filters.length>0&&(t.filters=v.default.serialize(t.filters));var a=!!t.notFoundError;delete t.notFoundError,"string"!=typeof t.timerange&&(t.duration=t.timerange.duration,t.end_time=t.timerange.end_time,c(t.timerange.end_time&&d!==t.timerange.end_time?"pickFixed":"pickRolling"),d=t.timerange.end_time,delete t.timerange),l.search(t),a&&l.replace();break;case"nrql-changed":n.$broadcast("presetQuery",{query:t,force:!0})}},filterUrl:{urlBase:"private_api/1/accounts",urlPath:"/search.json"},curated:{areEventTypesExclusive:!1,areAttributesExclusive:!1,eventsAndAttributes:e.attributeCats}},selected:r}),a[0])}var s=t(1605).default,c=function(e,n){y.action("Event Explorer:"+e,n)};e.accountId=o.account_id;var p=function(n){return d({method:"POST",url:"/internal_api/1/accounts/"+e.accountId+"/query",data:{query:n}})},g=function(n){return d({method:"POST",url:"/internal_api/1/accounts/"+e.accountId+"/widget_query",data:{query:n}}).then(function(e){return e.data.widgets})};b.loadAttributeDefinitionsByCategory().then(function(n){e.attributeCats=n.toJSON(),e.$on("$routeUpdate",function(){r()}),r()}),e.$on("$destroy",function(){f.default.unmountComponentAtNode(a[0])}),e.$applyAsync()}.bind(null,t)).catch(t.oe)}}}]),o.name}.call(n,t,n,e))&&(e.exports=r)},1553:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var i,r=t(4),s=a(r),l=t(3),c=a(l),d=t(13),u=a(d);void 0!==(i=function(e,n,a){var i=s.default.module(a.i,[t(62)]);i.directive("nrMetricExplorer",["UrlHelper","$window",function(e,n){return{restrict:"E",controller:r,controllerAs:"view",link:function(a,o,i){t.e(4).then(function(){function i(){u.default.render(c.default.createElement(r,{accountId:a.accountId,trackAction:a.trackCallback,cdsUrl:e.cdsUrl(),metricIndexServiceUrl:e.metricIndexServiceUrl(),rpmUrl:e.rpmUrl()}),o[0])}var r=t(1606).default;n.addEventListener("resize",function(){return i()}),i(),a.$on("$destroy",function(){u.default.unmountComponentAtNode(o[0])})}.bind(null,t)).catch(t.oe)}}}]);var r=function e(n,t,a,i){o(this,e),n.accountId=i.account_id,n.trackCallback=function(e,n){a.action("Metric Exp:"+e,n)}};return r.$inject=["$scope","$element","TrackUser","$routeParams"],i.name}.call(n,t,n,e))&&(e.exports=i)},1554:function(e,n,t){"use strict";var a=t(1555);t(157),t(1556),t(265).directive("formatter",["KeyFormat",function(e){return{restrict:"E",scope:{accountId:"=",eventType:"="},templateUrl:a,controller:["$scope","$element","$filter",function(n,a,o){var i=t(155);n.activeRowOffset=function(){var e=a.find(".table-data-formatter"),n=e.find(".active .cell");return n.length?n.offset().top-e.offset().top:0},n.$watch("keyset",function(e){e&&e.length&&!n.activeKey&&(n.activeKey=o("orderBy")(e,"key")[0])},!0),n.$watch("activeKey",function(t,a){if(t&&t!==a){var o=i(t.key);n.details=e.get({account_id:n.accountId,event_type:n.eventType,key:o})}})}]}}])},1555:function(e,n){var t="/templates/formatter/_formatter.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='row'>\n  <div class='col-lg-5' ng-show='eventType'>\n    <sample_event account-id='accountId' active-key='activeKey' event-type='eventType' keyset='keyset'></sample_event>\n  </div>\n  <div class='col-lg-7'>\n    <formatter_box active-key='activeKey' active-row-offset='activeRowOffset()' details='details' event-type='eventType'></formatter_box>\n  </div>\n</div>\n")}]),e.exports=t},1556:function(e,n,t){"use strict";var a,o;a=[t(265),t(24),t(157)],void 0!==(o=function(e,n){var a=t(1557);e.directive("sampleEvent",["KeyFormat",function(e){return{restrict:"E",scope:{accountId:"=",eventType:"=",keyset:"=?",activeKey:"=?"},templateUrl:a,controller:["$scope","$element",function(n,t){n.setActive=function(e){n.activeKey=e},n.$watch("eventType",function(t){t&&n.accountId&&(n.activeKey=void 0,n.keyset=void 0,e.query({account_id:n.accountId,event_type:t}).$promise.then(function(e){n.keyset=e}))})}]}}])}.apply(n,a))&&(e.exports=o)},1557:function(e,n){var t="/templates/shared/_sample_event.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='content-loading' ng-show='keyset === undefined'>\n  <i class='icon-spinner icon-spin icon-3x'></i>\n</div>\n<div class='alert alert-danger' ng-show='keyset && !keyset.length'>\n  <p>No custom attributes on the {{ eventType }} event type are currently eligible for data formatting.</p>\n  <p>Only numeric attributes can be formatted. Please make sure you’re sending numerical data as integers or floats (without quotes).</p>\n</div>\n<div class='table-data-formatter' ng-show='keyset.length'>\n  <div class='header key'>\n    <div class='cell key-name'>Attribute</div>\n    <div class='cell sample'>Sample Data (formatted)</div>\n  </div>\n  <div class='body'>\n    <div class='key' ng-class='{active: activeKey.key == key.key}' ng-click='setActive(key)' ng-repeat='key in keyset | orderBy:\"key\"'>\n      <div class='cell key-name'>\n        <div class='content'>{{key.key}}&nbsp;</div>\n      </div>\n      <div class='cell sample'>\n        <div class='content'>\n          {{key.formatted_sample}}&nbsp;\n          <span class='format'>{{ key.format.format == 'automatic' ? '' : key.format.format }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1558:function(e,n,t){"use strict";var a=t(265),o=t(4),i=t(1559);a.directive("formatterBox",["$http","$timeout","Accounts","AttributeDefinitions","DataFormats",function(e,n,t,a,r){return{restrict:"E",scope:{eventType:"=",activeKey:"=",details:"=",activeRowOffset:"&"},templateUrl:i,controller:["$scope","$element",function(i,s){e.get("/internal_api/1/accounts/"+t.currentAccountId+"/data_formats/info").then(function(e){i.formats=e.data}),i.$watch("activeKey",function(e){e&&(setTimeout(function(){s.find(".data-formatter").css({"margin-top":i.activeRowOffset()-20+"px"})},1),a.forEventAndAttribute(i.eventType,e.key).then(function(e){i.attributeDefinition=e}))}),i.saving=!1,i.saveKeyFormat=function(){n(function(){i.configuredFormat.$valid&&(i.saving="Saving...",i.details.$update(function(e){r.forceReload(),o.forEach(i.keyset,function(n,t){n.key==e.key&&(n.raw_sample=e.sample_data[0].raw_sample,n.formatted_sample=e.sample_data[0].formatted_sample,n.format=e.configured_format)}),i.saving="Saved!",n(function(){i.saving=!1},2e3)}))},1)}}]}}])},1559:function(e,n){var t="/templates/formatter/_formatter_box.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='data-formatter' ng-show='activeKey'>\n  <h4>Format {{eventType}}:{{activeKey.key}}</h4>\n  <div class='row'>\n    <div class='col-lg-6'>\n      <form name='configuredFormat' ng-show='details.configured_format'>\n        <div class='form-group'>\n          <label name='format'>Data Type</label>\n          <select class='form-control' name='format' ng-change='saveKeyFormat()' ng-model='details.configured_format.format' ng-options='key as value.name for (key, value) in formats' required></select>\n          <p class='help-block'>{{ formats[details.configured_format.format].help_text }}</p>\n        </div>\n        <div class='form-group' ng-repeat='(config_name, config_options) in formats[details.configured_format.format].configuration_options'>\n          <label name='format_{{config_name}}'>{{config_options.name}}</label>\n          <select class='form-control' name='format_{{config_name}}' ng-change='saveKeyFormat()' ng-model='details.configured_format[config_name]' ng-options='opt for opt in config_options.values' required></select>\n        </div>\n        <div class='form-group' ng-show='attributeDefinition'>\n          <label name='attribute_definition'>Definition</label>\n          <p>{{ attributeDefinition.definition }}</p>\n        </div>\n        <div class='form-group'>\n          <p class='text-muted' ng-show='saving'>\n            <i class='icon-refresh icon-spin' ng-show='saving == \"Saving...\"'></i>\n            {{ saving }}\n          </p>\n        </div>\n      </form>\n    </div>\n    <div class='col-lg-6'>\n      <div class='loading' ng-hide='details.sample_data'>\n        <i class='icon-spinner icon-spin icon-3x'></i>\n      </div>\n      <table class='table table-condensed' ng-show='details.sample_data'>\n        <thead>\n          <th>Unformatted</th>\n          <th>Formatted</th>\n        </thead>\n        <tbody>\n          <tr ng-repeat='sample in details.sample_data'>\n            <td>\n              <code>{{sample.raw_sample}}</code>\n            </td>\n            <td>{{sample.formatted_sample}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1560:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[]);return i.directive("nrAutofocus",["$timeout",function(e){var n=[];return function(t,a,o){var i=o.nrAutofocus||0;n.push(e(function(){a.is(":visible")&&a.focus()},i))}}]),i.name}.call(n,t,n,e))&&(e.exports=a)},1561:function(e,n,t){"use strict";var a,o;a=[t(265),t(4),t(24)],void 0!==(o=function(e,n,t){e.directive("nrScrollTo",[function(){return{restrict:"A",link:function(e,n,a){var o=a.scrollOffset||0;a.$observe("nrScrollTo",function(e){e&&setTimeout(function(){t("html, body").animate({scrollTop:n.offset().top-o},500)})})}}}])}.apply(n,a))&&(e.exports=o)},1562:function(e,n,t){"use strict";var a,o;a=[t(265)],void 0!==(o=function(e){e.directive("nrSelectAll",["$window","$document",function(e,n){return{link:function(t,a,o){a.on("click focus",function(t){var o;if(n[0].body.createTextRange)o=n[0].body.createTextRange(),o.moveToElementText(a[0]),o.select();else if(e.getSelection){var i=e.getSelection();o=n[0].createRange(),o.selectNodeContents(a[0]),i.removeAllRanges(),i.addRange(o)}})}}}])}.apply(n,a))&&(e.exports=o)},1563:function(e,n){var t="/templates/shared/blacklisted.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='row'>\n  <div class='col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-12'>\n    <div class='jumbotron error'>\n      <h1>\n        We are experiencing high demand for Insights and have temporarily disabled your account.\n      </h1>\n      <p>\n        Please contact <a href=\"mailto:support@newrelic.com\">support@newrelic.com</a> for more information.\n      </p>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1564:function(e,n){var t="/templates/scrapbook/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='scrapbook'>\n  <div class='page-header'>\n    <h2 class='welcome-banner'>\n      Welcome to your data, let's get querying\n    </h2>\n  </div>\n  <div class='row'>\n    <div class='col-md-12 nrql-term-container'>\n      <div class='nrql-bar with-bezel' nr-scrolltrap nr-sticky>\n        <query-drawer dashboards='dashboards' focus='\"once\"' inline='!sticky'></query-drawer>\n      </div>\n    </div>\n  </div>\n  <div class='row' ng-show='loading'>\n    <div class='col-lg-12'>\n      <nr-spinner align='center' loading='loading' size='xl'></nr-spinner>\n    </div>\n  </div>\n  <div class='row scrapbook-filter' ng-hide='loading'>\n    <div class='col-lg-12'>\n      <form role='form'>\n        <div class='form-group filter-collections'>\n          <div class='btn-group'>\n            <a class='btn btn-default btn-toggle' ng-class='{\"active\": (queryfilter.collection == \"tutorials\")}' ng-click='queryfilter.toggle(\"tutorials\")' nr-track-click='Tutorial:MainButton'>\n              Tutorials\n            </a>\n            <a class='btn btn-default btn-toggle' ng-class='{\"active\": (queryfilter.collection == \"history\")}' ng-click='queryfilter.toggle(\"history\")'>\n              History\n              <span class='badge'>{{queryfilter.filtered.history.length}}</span>\n            </a>\n            <a class='btn btn-default btn-toggle' ng-class='{\"active\": (queryfilter.collection == \"favorites\")}' ng-click='queryfilter.toggle(\"favorites\")'>\n              Favorites\n              <span class='badge'>{{queryfilter.filtered.favorites.length}}</span>\n            </a>\n          </div>\n        </div>\n        <div class='form-group filter-search' ng-hide=\"queryfilter.collection == 'tutorials'\">\n          <label class='sr-only'>Filter {{queryfilter.collection}}</label>\n          <input class='form-control' ng-model='queryfilter.search' placeholder='Filter {{queryfilter.collection}}' type='search'>\n        </div>\n      </form>\n    </div>\n  </div>\n  <div class='row scrapbook' ng-hide='loading || queryfilter.collection === \"tutorials\"'>\n    <div class='col-lg-12'>\n      <ul class='scrapbook-list' ng-show='queries.length'>\n        <li class='scrapbook-item' ng-class='{open: (active == i)}' ng-click='toggle(i, $event)' ng-repeat='i in queries track by i.id'>\n          <div class='query' ng-class=\"{'deletable': (queryfilter.collection == 'history')}\">\n            <sample-nrql account-id='accountId' action-label='false' action='\"inline\"' active='(active == i)' dashboards='dashboards' heading='false' nrql='i.nrql' query='i'></sample-nrql>\n          </div>\n        </li>\n      </ul>\n      <ul class='scrapbook-list' ng-hide='queries.length'>\n        <li class='scrapbook-item'>\n          <div class='query'>\n            <div class='no-results' ng-show='queryfilter.search.length'>\n              No queries in your {{queryfilter.collection}} match '<em>{{queryfilter.search}}</em>'.\n            </div>\n            <div class='no-results' ng-hide='queryfilter.search.length'>\n              You don't have any queries in your {{queryfilter.collection}} yet.\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class='row tutorial' ng-hide='loading' ng-if=\"queryfilter.collection == 'tutorials'\">\n    <div ng-controller='Hello2Controller' ng-include='\"/templates/hello2/index.html\"'></div>\n  </div>\n  <nr-intro-modal></nr-intro-modal>\n</div>\n")}]),e.exports=t},1565:function(e,n){var t="/templates/data-summary/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>Data summary</h2>\n</div>\n<div class='row' ng-controller='DataEditController as editor'>\n  <manage-data-v2></manage-data-v2>\n  <div>\n    <div class='col-lg-7 col-md-7'>\n      <div ng-class='{\"data-summary-section\": true, \"data-summary-section-v2\": true}'>\n        <h5>Applications reporting\n          <i class='icon-question-circle-o' allow-html='true' placement='right' popover trigger='hover'>\n            <div class='data-summary-tooltip'>\n              Below is a list of your applications reporting event data to Insights.\n              If you are an account admin, you can modify whether or not an\n              application reports events to Insights by clicking ‘Configure Data\n              Sources’. If you turn an application off, historical data that that\n              application has reported will not be deleted.\n            </div>\n          </i>\n          <h6>Toggling Transactions on or off will cause reporting agents to restart themselves</h6>\n        </h5>\n        <div class='toolbar' ng-if='canConfigureDataSources'>\n          <div ng-hide='loading || editor.isEditing || editor.pendingChanges > 0 || (!hasWebApps && !hasMobileApps)'>\n            <a class='btn btn-info' href='#' ng-click='editor.edit()'>\n              Configure data sources\n            </a>\n          </div>\n          <div ng-show='editor.isEditing'>\n            <button class='btn btn-primary' ng-click='editor.apply()'>\n              Save\n            </button>\n            <a class='btn btn-link cancel-button' href='#' ng-click='editor.cancel()'>\n              Cancel\n            </a>\n          </div>\n          <div ng-show='editor.pendingChanges > 0'>\n            <b>Saving changes...</b>\n          </div>\n        </div>\n        <div ng-if='canConfigureDataSources && editor.updateStatus'>\n          <div class='alert' ng-class=\"{'alert-success': editor.updateSuccess, 'alert-danger': !editor.updateSuccess}\">\n            {{ editor.updateStatus }}\n          </div>\n        </div>\n        <nr-spinner align='center' loading='loading' size='l'></nr-spinner>\n        <table class='table table-striped table-condensed table-outlined' ng-hide='loading'>\n          <thead>\n            <tr>\n              <th>App Name</th>\n              <th class='text-center'>Page Views</th>\n              <th class='text-center'>Transactions</th>\n            </tr>\n          </thead>\n          <tbody ng-if='hasWebApps'>\n            <tr ng-repeat='app in webApps | orderBy:name'>\n              <td ng-bind='app.name'></td>\n              <td class='text-center'>\n                <app-status enabled='app.page_views_enabled' has-insights-data='hasPageViews[app.id]' ng-hide='editor.isEditing || !editablePageViews[app.id]' pending='app.pending'></app-status>\n                <div ng-show='editor.isEditing && editablePageViews[app.id]'>\n                  <toggle-switch ng-model='editor.state[app.id].page_views_enabled'></toggle-switch>\n                </div>\n              </td>\n              <td class='text-center'>\n                <app-status enabled='app.transactions_enabled' has-insights-data='hasTransactions[app.id]' ng-hide='editor.isEditing' pending='app.pending'></app-status>\n                <div ng-show='editor.isEditing && editableTransactions[app.id]'>\n                  <toggle-switch ng-model='editor.state[app.id].transactions_enabled'></toggle-switch>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n          <tbody ng-if='!hasWebApps'>\n            <tr>\n              <td colspan='3'>No applications are currently reporting data that can be used in Insights.</td>\n            </tr>\n          </tbody>\n        </table>\n        <h5>Mobile applications</h5>\n        <nr-spinner align='center' loading='loading' size='l'></nr-spinner>\n        <table class='table table-striped table-condensed table-outlined' ng-hide='loading'>\n          <thead>\n            <tr>\n              <th>App Name</th>\n              <th class='text-center'>Mobile</th>\n            </tr>\n          </thead>\n          <tbody ng-if='hasMobileApps'>\n            <tr ng-repeat='mobileApp in mobileApps | orderBy:name'>\n              <td ng-bind='mobileApp.name'></td>\n              <td class='text-center'>\n                <app-status enabled='mobileApp.mobile_sessions_enabled' has-insights-data='true' ng-hide='editor.isEditing' pending='mobileApp.pending'></app-status>\n                <div ng-show='editor.isEditing'>\n                  <toggle-switch ng-model='editor.state[mobileApp.id].mobile_sessions_enabled'></toggle-switch>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n          <tbody ng-if='!hasMobileApps'>\n            <tr>\n              <td colspan='2'>No mobile applications are currently known in this account.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <div class='col-lg-5 col-md-5'>\n      <div>\n        <h3>Need more storage or retention?</h3>\n        <p>\n          Contact your account owner to add additional weeks of retention and event storage to your Insights plan.\n        </p>\n      </div>\n      <h3>Not seeing data?</h3>\n      <p>\n        Please ensure you have the\n        <a href='http://docs.newrelic.com/docs/insights/newrelic-insights#requirements' target='_blank'>latest agents</a>\n        installed in your applications and New Relic Browser enabled to automatically get data flowing into New Relic Insights.\n      </p>\n      <h3>Want to customize your data?</h3>\n      <p>\n        You can tie the application data that New Relic collects to key business\n        metrics and outcomes by <a href='/accounts/{{accountId}}/query?hello=collect' target='_blank'>adding custom attributes</a>\n        to your PageView, Transaction, Mobile, PageAction, or BrowserInteraction events.\n      </p>\n      <p>\n        You can also add your own event streams by inserting custom events via the\n        <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/custom-events/insert-custom-events-insights-api' target='_blank'>Insights Custom Event API</a>.\n      </p>\n      <p class='note'>\n        <strong>An example:</strong>\n        Adding custom attributes for Customer Name and Revenue will allow you to analyze which features your top customers use the most.\n      </p>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1566:function(e,n){var t="/templates/add-data/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>Add data, get more Insights</h2>\n</div>\n<div class='row add-data-page'>\n  <div class='col-md-12 col-lg-12'>\n    <h3>Custom attributes</h3>\n    <p>Adding custom attributes to your existing PageView and Transaction events is the best way to get actionable business metrics.</p>\n  </div>\n</div>\n<div class='row add-data-page'>\n  <div class='col-md-12 col-lg-12'>\n    <div class='well well-md well-dark'>\n      <div class='row'>\n        <div class='col-md-5 col-lg-5 without-attributes'>\n          <h3>Without custom attributes</h3>\n          <p>Transaction and PageView shopping cart events</p>\n        </div>\n        <div class='col-md-7 col-lg-7 with-attributes'>\n          <img class='pull-right' height='138' nr-src='add-data/example-pie-chart.png' width='138'>\n          <h3>With cartSize and userID attributes</h3>\n          <p>Shopping cart conversion rates for 10% of customers, by cart size</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class='row add-data-page'>\n  <div class='col-md-12 col-lg-12' ng-controller='CustomAttributesHelloStepController'>\n    <div class='agent-config-container' ng-include='customAttributesTemplate'></div>\n  </div>\n</div>\n<hr>\n<div class='row add-data-page page-actions'>\n  <div class='col-md-12 col-lg-12'>\n    <h3>Tracking Page Actions via the Insights JavaScript API</h3>\n    <p>You may want to capture actions on your JavaScript website or application. This can be done simply by calling the Insights JS API from your application code. You can track events, called PageActions, that represent actions that users take on your site. You can also set attributes in your JavaScript using the Insights JS API to capture additional relevant information about those actions -- like the user's email, a product ID, subscription level, or any other attribute.</p>\n    <p>\n      If you have a New Relic language agent deployed in your app server and have\n      <a href='https://docs.newrelic.com/docs/browser/new-relic-browser/installation-configuration/browser-settings-ui-options-browser-monitoring#agent-instrumentation'>enabled Browser Monitoring</a>,\n      then you already have access to the API. If you are using the\n      <a href='https://docs.newrelic.com/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser#copy-paste-app'>standalone New Relic Browser agent</a>,\n      then you will need to re-paste the latest Browser JS into your app to enable the API.\n    </p>\n    <p>\n      For more information about the JavaScript API, please check out our\n      <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-javascript-browser-api'>documentation on inserting PageAction events with JavaScript.</a>.\n    </p>\n    <hr>\n  </div>\n</div>\n<div class='row add-data-page custom-events'>\n  <div class='col-md-12 col-lg-12'>\n    <h3>Custom events</h3>\n    <div class='row'>\n      <div class='col-md-6 col-lg-6'>\n        <p>On some occasions, you might want to collect a custom event for something that is not already tracked by PageView or Transaction events.</p>\n        <p>\n          Once you’ve set up\n          <a ng-href='/accounts/{{currentAccount.id}}/manage/api_keys'>API keys</a>\n          for inserting events, check out our\n          <a href='https://docs.newrelic.com/docs/insights/inserting-events' target='_blank'>documentation on inserting events</a>.\n        </p>\n      </div>\n      <div class='col-md-6 col-lg-6' ng-controller='QueryKeysController'>\n        <h4>Querying a custom event</h4>\n        <div ng-include='queryKeyCurlTemplate'></div>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1567:function(e,n){var t="/templates/embeddable-widgets/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>Embeddables</h2>\n</div>\n<div class='row'>\n  <div class='col-lg-9 col-md-9'>\n    <p>\n      Create embeddable visualizations by running a query from the\n      <a href='/accounts/{{accountId}}/query'>Query page</a>\n      or any dashboard.\n    </p>\n    <div ng-controller='EmbeddableWidgetsEditController as editor'>\n      <nr-spinner loading='loading' size='large'></nr-spinner>\n      <ul class='embeddable-widgets list-group' ng-if='!loading'>\n        <li class='embeddable-widget list-group-item' ng-class=\"{'disabled': embed.disabled, 'pending': editor.state[embed.id].pending}\" ng-repeat='embed in embeddableWidgets | orderBy:-created_at'>\n          <div class='row'>\n            <div class='col-lg-12 col-md-12'>\n              <h4 class='title'>\n                <p class='ellipsis-overflow' ng-if='embed.widget.title.length > 0'>\n                  <span class='widget-icon' ng-class='embed.widget.icon_class' ng-if='embed.widget.icon_class'></span>\n                  {{ embed.widget.title }}\n                </p>\n                <p class='ellipsis-overflow' ng-if='embed.widget.title.length === 0'>\n                  <span class='widget-icon' ng-class='embed.widget.icon_class' ng-if='embed.widget.icon_class'></span>\n                  {{ embed.widget.nrql }}\n                </p>\n              </h4>\n              <nr-embeddable-widget-controls destroy='editor.destroy(embed)' disable='editor.disable(embed)' embed='embed' enable='editor.enable(embed)' ng-hide='editor.state[embed.id].pending'></nr-embeddable-widget-controls>\n              <nr-spinner loading='editor.state[embed.id].pending'></nr-spinner>\n            </div>\n          </div>\n          <div class='row'>\n            <div class='col-lg-12 col-md-12'>\n              <nr-embeddable-widget-card embed='embed' preview=''></nr-embeddable-widget-card>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1568:function(e,n){var t="/templates/join-data/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>Lookup tables</h2>\n</div>\n<div class='row'>\n  <div class='col-lg-8 col-md-12 col-sm-12'>\n    <nr-lookup-table-list></nr-lookup-table-list>\n  </div>\n  <div class='col-lg-4 col-md-12 col-sm-12'>\n    <nr-lookup-settings></nr-lookup-settings>\n  </div>\n</div>\n")}]),e.exports=t},1569:function(e,n){var t="/templates/api_keys/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>API</h2>\n</div>\n<div class='row'>\n  <div ng-controller='InsertKeysController'>\n    <div class='col-lg-6' ng-if='showPane'>\n      <h3>\n        Insert Keys\n        <button class='btn btn-xs btn-primary' ng-click='create()' nr-track-click='Manage:createInsertKey'>\n          <i class='icon-plus'></i>\n        </button>\n      </h3>\n      <p>\n        Insert keys let you insert events into your account with just a simple HTTPS request. Please see our\n        <a href='https://docs.newrelic.com/docs/insights/inserting-events'>documentation on inserting events</a>\n        for more information.\n      </p>\n      <div ng-include='insertKeysCurlTemplateUrl'></div>\n      <div ng-include='apiKeysTableTemplateUrl'></div>\n    </div>\n  </div>\n  <div ng-controller='QueryKeysController'>\n    <div class='col-lg-6' ng-if='showPane'>\n      <h3>\n        Query Keys\n        <button class='btn btn-xs btn-primary' ng-click='create()' nr-track-click='Manage:createQueryKey'>\n          <i class='icon-plus'></i>\n        </button>\n      </h3>\n      <p>\n        Query keys let you run the same queries that you can in Insights via an HTTPS request. Query keys are not query-specific - any query key in your account will run any query.\n      </p>\n      <div ng-include='queryKeysCurlTemplateUrl'></div>\n      <div ng-include='apiKeysTableTemplateUrl'></div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1570:function(e,n){var t="/templates/insert_keys/show.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>Insert key</h2>\n</div>\n\n<div class='query-key-form'>\n  <div class='query-key-main'>\n    <h3>Use it</h3>\n    <form class='form-horizontal'>\n      <div class='form-group'>\n        <label class='control-label col-lg-2'>Endpoint</label>\n        <div class='col-lg-9'>\n          <p class='form-control-static'>{{insertHost}}{{insertUrl}}</p>\n        </div>\n      </div>\n      <div class='form-group'>\n        <label class='control-label col-lg-2'>cURL</label>\n        <div class='col-lg-9' ng-include='insertKeysCurlTemplateUrl'></div>\n      </div>\n    </form>\n    <h3>Edit</h3>\n    <form class='form-horizontal'>\n      <div class='form-group'>\n        <label class='control-label col-lg-2'>Account ID</label>\n        <div class='col-lg-9'>\n          <p class='form-control-static'>{{key.account_id}}</p>\n        </div>\n      </div>\n      <div class='form-group'>\n        <label class='control-label col-lg-2'>Key</label>\n        <div class='col-lg-9'>\n          <p class='form-control-static'>{{key.key}}</p>\n        </div>\n      </div>\n      <div class='form-group'>\n        <label class='control-label col-lg-2' name='notes'></label>\n        <div class='col-lg-9'>\n          <input class='form-control' name='notes' ng-model='key.notes'>\n          <span class='help-block'>You can record what you're using this key for here.</span>\n        </div>\n      </div>\n      <div class='form-group'>\n        <div class='col-lg-offset-2 col-lg-9'>\n          <button class='btn btn-default' ng-click='save()'>Save your notes</button>\n          <a class='btn btn-danger' ng-click='deleteKey()' ng-confirm-click='Are you sure you want to delete this key? Any clients using it will immediately stop working.'>\n            <i class='icon-trash-o'></i>\n            Delete\n          </a>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class='query-key-sidebar' feature-flagged='query_key_tip'>\n    <div class='query-key-sidebar-pane'>\n      <div class='query-key-sidebar-top'>\n        <h3>\n          Reminder\n        </h3>\n        <div class='query-key-sidebar-top-description'>\n          A new event type, NrIntegrationError, is now generated when a problem occurs when storing\n          <a class=\"query-key-sidebar-link\" nr-track-click='apiKey:goToDocs' target=\"_blank\"\n             href='https://docs.newrelic.com/docs/insights/insights-data-sources/custom-data/insert-custom-events-insights-api'>custom events inserted with the Insights API.</a>\n        </div>\n      </div>\n      <div class='query-key-sidebar-bottom'>\n        <div class='query-key-sidebar-bottom-description'>\n          This event is available for querying in Insights. You can also set up\n          <a class=\"query-key-sidebar-link\" ng-href='{{alertsUrl}}' target=\"_blank\"\n             nr-track-click='apiKey:goToAlerts'>NRQL alert conditions</a> on this event to be\n          notified when these errors occur.\n        </div>\n        <div class='query-key-sidebar-bottom-subtitle'>\n          Example query:\n        </div>\n        <pre>SELECT count(*) FROM NrIntegrationError WHERE category='EventApiException'</pre>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),e.exports=t},1571:function(e,n){var t="/templates/query_keys/show.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>Query key</h2>\n</div>\n<h3>Use it</h3>\n<form class='form-horizontal'>\n  <div class='form-group'>\n    <label class='control-label col-lg-2'>Endpoint</label>\n    <div class='col-lg-9'>\n      <p class='form-control-static'>{{host}}{{queryUrl}}?nrql={{exampleQuery | encodeURIComponent}}</p>\n    </div>\n  </div>\n  <div class='form-group'>\n    <label class='control-label col-lg-2'>cURL</label>\n    <div class='col-lg-9'>\n      <div class='div' ng-include='queryKeysCurlTemplateUrl'></div>\n    </div>\n  </div>\n  <div class='form-group'>\n    <label class='control-label col-lg-2'>NRQL</label>\n    <div class='col-lg-9'>\n      <input class='form-control' name='nrql' ng-model='exampleQuery'>\n      <span class='help-block'>Edit this NRQL to change what's in the cURL command and the URL.</span>\n    </div>\n  </div>\n</form>\n<h3>Edit</h3>\n<form class='form-horizontal'>\n  <div class='form-group'>\n    <label class='control-label col-lg-2'>Account ID</label>\n    <div class='col-lg-9'>\n      <p class='form-control-static'>{{key.account_id}}</p>\n    </div>\n  </div>\n  <div class='form-group'>\n    <label class='control-label col-lg-2'>Key</label>\n    <div class='col-lg-9'>\n      <p class='form-control-static'>{{key.key}}</p>\n    </div>\n  </div>\n  <div class='form-group'>\n    <label class='control-label col-lg-2' name='notes'>Notes</label>\n    <div class='col-lg-9'>\n      <input class='form-control' name='notes' ng-model='key.notes'>\n      <span class='help-block'>You can record what you're using this key for here.</span>\n    </div>\n  </div>\n  <div class='form-group'>\n    <div class='col-lg-offset-2 col-lg-9'>\n      <button class='btn btn-default' ng-click='save()'>Save your notes</button>\n      <a class='btn btn-danger' ng-click='deleteKey()' ng-confirm-click='Are you sure you want to delete this key? Any clients using it will immediately stop working.'>\n        <i class='icon-trash-o'></i>\n        Delete\n      </a>\n    </div>\n  </div>\n</form>\n")}]),e.exports=t},1572:function(e,n){var t="/templates/formatter/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>\n    Data Formatter\n    <div class='btn-group select-event' ng-class='{open: !eventType}' ng-show='eventTypes.length'>\n      <button class='btn btn-default'>\n        {{eventType.name || 'Select Event Type' }}\n      </button>\n      <button class='btn btn-primary dropdown-toggle' data-toggle='dropdown'>\n        <span class='icon-caret-down'></span>\n      </button>\n      <ul class='dropdown-menu'>\n        <li ng-repeat='type in eventTypes'>\n          <a ng-click='setEventType(type)'>{{type.name}}</a>\n        </li>\n      </ul>\n    </div>\n    <div class='btn-group'>\n      <span class='loading' ng-hide='eventTypes.length'>\n        <i class='icon-spinner icon-spin'></i>\n      </span>\n    </div>\n  </h2>\n</div>\n<p>The data formatter allows you to configure default formats for numeric attributes to control how data is displayed on your dashboards. All formats are configured on an account-wide basis.</p>\n<formatter account-id='accountId' event-type='eventType.name'></formatter>\n")}]),e.exports=t},1573:function(e,n){var t="/templates/explorer/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div ng-controller='DashboardsController'>\n  <div class='nrql-bar' nr-scrolltrap nr-sticky nr-sticky-by-default='desktop-and-up'>\n    <query-drawer disable-account-picker='true' dashboards='dashboards' focus='false' inline='!sticky' prevent-url-change='true'></query-drawer>\n  </div>\n</div>\n\n<nr-data-explorer-header></nr-data-explorer-header>\n\n<nr-visual-data-explorer></nr-visual-data-explorer>\n")}]),e.exports=t},1574:function(e,n){var t="/templates/metric_explorer/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div>\n  <div class='nav-space'></div>\n  <nr-metric-explorer></nr-metric-explorer>\n</div>\n")}]),e.exports=t},1575:function(e,n){var t="/templates/dashboards/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>\n    <div class='btn-toolbar pull-right'>\n      <a class='btn btn-success add-dashboard' nr-track-click='Dashboards:createDash' dashboard-create create='createDashboard(title)'>\n        <i class='icon-plus'></i>\n        Create a dashboard\n      </a>\n      <a class='btn btn-primary new_relic_only' feature-flagged='dashboard_import_export' ng-href='/accounts/{{accountId}}/dashboards/import'>\n        Import\n      </a>\n    </div>\n    All dashboards\n  </h2>\n</div>\n\n<dashboard-list-v2></dashboard-list-v2>\n")}]),e.exports=t},1576:function(e,n){var t="/templates/dashboards/import.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>Import a dashboard (New Relic only)</h2>\n</div>\n<form >\n  <div>\n    <b>Note regarding company-wide dashboards:</b>\n    When importing a dashboard between different accounts, chart source account information\n    will be lost. If you want to preserve chart account source, you can set the\n    <pre>account_id</pre> in the exported payload to match the currently selected account.\n  </div>\n  <div class='form-group'>\n    <label name='json'>JSON</label>\n    <textarea class='form-control' name='json' ng-model='dashboardJson' rows='20'></textarea>\n  </div>\n  <button class='btn btn-primary' ng-click='importDashboard(false)'>Import Private</button>\n  <button class='btn btn-primary' ng-click='importDashboard(true)'>Import Editable</button>\n</form>\n")}]),e.exports=t},1577:function(e,n){var t="/templates/playbook/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<div class='page-header'>\n  <h2>Design Playbook</h2>\n</div>\n<p>\n  The first heading at the top of the page should be wrapped in a\n  <code>div.page-header</code>\n  to make sure it's pushed down past the top bar.\n</p>\n<h2>Typography</h2>\n<p>All type in Insights is set in Gotham. We have the following fonts and weights available:</p>\n<ul>\n  <li style='font-family: \"Gotham Narrow A\", \"Gotham Narrow B\"; font-weight: 300'>Gotham Narrow Light (300)</li>\n  <li style='font-family: \"Gotham Narrow A\", \"Gotham Narrow B\"; font-weight: 400'>Gotham Narrow Book (400)</li>\n  <li style='font-family: \"Gotham Narrow A\", \"Gotham Narrow B\"; font-weight: 500'>Gotham Narrow Medium (500)</li>\n  <li style='font-family: \"Gotham Narrow A\", \"Gotham Narrow B\"; font-weight: 700'>Gotham Narrow Bold (700)</li>\n  <li style='font-family: \"Gotham XNarrow A\", \"Gotham XNarrow B\"; font-weight: 400'>Gotham XNarrow Book (400)</li>\n  <li style='font-family: \"Gotham XNarrow A\", \"Gotham XNarrow B\"; font-weight: 700'>Gotham XNarrow Bold (700)</li>\n</ul>\n<h2>Bootstrap Popovers</h2>\n<p>\n  We have a custom directive allowing us to put HTML content into Bootstrap's\n  standard popovers, without having to hardcode the content. It uses transclusion\n  to allow you to define the HTML content in the template where you're calling\n  the popover. So, examples:\n</p>\n<p>\n  <button class='btn btn-success' placement='top' popover trigger-content='Terrible &lt;strong&gt;Hacks&lt;/strong&gt;!' trigger='hover'>\n    <p>\n      You can use the\n      <code>trigger-content</code>\n      attribute to add some text to the element triggering the popover.\n    </p>\n  </button>\n  <button class='btn btn-info' placement='right' popover trigger-content='&lt;em&gt;Fun&lt;/em&gt; Caveats!' trigger='hover'>\n    <p>\n      Make sure you use a block level element or\n      <strong>very</strong>\n      weird things will happen!\n    </p>\n  </button>\n  <button class='btn btn-danger' data-content='{{playbook.popupContent}}' placement='top' popover trigger-content='One more thing!' trigger='hover'></button>\n  <p>\n    <textarea cols='70' ng-model='playbook.popupContent'></textarea>\n  </p>\n</p>\n<h2>Available Button Styles</h2>\n<p>\n  <a class='btn'>Just a button</a>\n  <a class='btn btn-default'>Default</a>\n  <a class='btn btn-primary'>Primary</a>\n  <a class='btn btn-success'>Success</a>\n  <a class='btn btn-warning'>Warning</a>\n  <a class='btn btn-danger'>Danger</a>\n  <a class='btn btn-info'>Info</a>\n  <a class='btn btn-subtle'>Subtle</a>\n  <a class='btn btn-link'>Link</a>\n  <a class='btn btn-link cancel-button'>Cancel</a>\n  <a class='btn btn-callout'>Callout</a>\n</p>\n<h2>\n  Auto-save indicator\n  <i class='loading-spinner icon-fixed-width icon-refresh icon-spin' ng-show='playbook.saving'></i>\n</h2>\n<p>\n  <input ng-change='playbook.startSaving()' ng-model='playbook.savingText' placeholder='Type something!'>\n</p>\n<p>\n  <i>Debounce for 2 seconds on change, show spinner for at least 1 second.</i>\n</p>\n")}]),e.exports=t},22:function(e,n){e.exports=_},24:function(e,n){e.exports=$},265:function(e,n,t){"use strict";var a;void 0!==(a=function(e){var n=t(4);return t(525),t(116),t(146),t(526),t(1030),t(1031),t(1032),t(1033),t(1034),t(1035),t(1036),t(1037),t(1038),t(1039),t(1040),t(1163),n.module("Insights",["mgcrea.ngStrap.collapse","mgcrea.ngStrap.modal","mgcrea.ngStrap.select","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","ngAnimate","ngResource","ngRoute","relativeDate","toggle-switch",t(1164),t(1041),t(551),t(1044),t(1045),t(1047),t(1048),t(1049),t(1050),t(935),t(1059),t(1051),t(1061),t(552),t(1212),t(1065),t(1456),t(1457),t(1486),t(1139),t(1140),t(992),t(969),t(491),t(1494),t(1141),t(1496),t(1142),t(993),t(1143),t(994),t(447),t(505),t(1502),t(1144),t(1145),t(1504),t(46),t(1149),t(1022),t(43),t(1151),t(1023),t(1519),t(1520),t(1522),t(461),t(274),t(272),t(157),t(1523),t(101),t(124),t(443),t(276),t(1064),t(1524),t(506),t(1026),t(507),t(448),t(1027),t(1152),t(1527),t(490),t(177),t(1153),t(508),t(1534),t(1535),t(1536),t(261),t(509),t(934),t(178),t(1021),t(1154),t(1157),t(493),t(1552),t(1553),t(936),t(1146),t(156),t(964),t(69),t(1043).default])}.call(n,t,n,e))&&(e.exports=a)},278:function(e,n){e.exports=moment},3:function(e,n){e.exports=React},4:function(e,n){e.exports=angular},504:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4).module(a.i,["ngResource"]);return o.factory("Application",["$resource",function(e){return e("/internal_api/1/accounts/:account_id/applications/:id",{account_id:"@account_id",id:"@id"},{update:{method:"PUT"}})}]),o.name}.call(n,t,n,e))&&(e.exports=a)},527:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n,t){var a={query:f,variables:{capabilities:n}};new d.default({accountId:e,apiKey:"insights-ui-production-api-key",url:window.Insights.env.NERD_GRAPH_URL+"/accounts/"+e+"/graphql"}).query(a).then(function(e){var a=e.access,o=(e.raw,e.errors),i=e.data;a=a||function(e){return(0,g.default)(i,e)};var r=(a(m)||[]).map(function(e){return e.name}),s=n.some(function(e){return r.indexOf(e)>-1});o&&(0,p.default)(JSON.stringify(o)),t(n.length>0&&s)}).catch(function(e){(0,p.default)(e),t(!1)})}function i(e,n,t){o(n,["insights.update.manage_data_sources"],function(e){t(e)})}function r(e,n,t){o(n,["insights.manage.query_keys","insights.manage.insert_keys"],function(e){t(e)})}function s(e,n,t){o(n,["insights.manage.insert_keys"],function(e){t(e)})}function l(e,n,t){o(n,["insights.manage.query_keys"],function(e){t(e)})}Object.defineProperty(n,"__esModule",{value:!0}),n.canConfigureDataSources=i,n.canManageApiKeys=r,n.canManageInsertApiKeys=s,n.canManageQueryApiKeys=l;var c=t(288),d=a(c),u=t(268),p=a(u),h=t(267),g=a(h),f="\nquery InsightsCapabilitiesCheck($capabilities: [String]) {\n  currentUser {\n    currentAccount {\n      capabilities(filter: $capabilities) {\n        name\n      }\n    }\n  }\n}",m="currentUser.currentAccount.capabilities"},550:function(e,n){var t="/templates/query_keys/_curl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<pre>curl -H "Accept: application/json" -H "X-Query-Key: {{key.key}}" "{{host}}{{queryUrl}}?nrql={{exampleQuery | encodeURIComponent}}"</pre>\n')}]),e.exports=t},556:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=t(155);a.exports=o.module(a.i,[]).filter("encodeURIComponent",function(){return i}).name}.call(n,t,n,e))&&(e.exports=a)},557:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4),i=o.module(a.i,[t(43),t(177)]);return i.factory("TopApps",["$rootScope","$q","Accounts","Query",function(e,n,t,a){function i(){return p.loading&&s.reject("Reset"),o.copy({accountId:void 0,topApps:[],topApp:void 0,eventCount:void 0,eventType:void 0,timeUnit:void 0,loading:!1},p)}function r(e,i){var h,g,f=u;return p.promise&&p.loading||(s=n.defer(),p.accountId=t.currentAccountId,p.promise=s.promise,p.loading=!0),o.isDefined(e)||(e=o.copy(c)),o.isDefined(i)||(i=o.copy(d)),h=e[0],g=i.shift(),h?g?(a.query(p.accountId,"SELECT count(*) FROM "+h+" FACET appName SINCE 1 "+g+" ago LIMIT "+f).success(function(n){if(!n.facets||!n.facets.length)return r(e,i);p.eventType=h,p.topApps=n.facets,p.topApp=p.topApps[0].name,p.eventCount=p.topApps[0].results[0].count,p.timeUnit=g,p.loading=!1,s.resolve(p)}).error(function(n){r(e,i)}),p):(e.shift(),i=o.copy(d),r(e,i)):(l.reset(),s.reject("No app data"),p)}var s,l,c=["PageView","Transaction"],d=["hour","day"],u=3,p={};return l={get data(){return p.loading||p.topApps.length?p:l.load()},load:r,reset:i},l.reset(),e.$on("accountChanged",function(e,n){n.id!==p.accountId&&l.reset()}),l}]),i.name}.call(n,t,n,e))&&(e.exports=a)},558:function(e,n){var t="/templates/hello2/_step_analyze_timeseries_nrql_desc.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,"<p>\n  This query allows you to specify the exact dates you want to use to run your query. This locks the time window for\n  the query, and although the query will re-run periodically, the values will not change. By applying TIMESERIES,\n  we also can view this data as a line chart.\n  <a href='https://docs.newrelic.com/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-timeseries' nr-track-click='Tutorial:Analyze:Link:time-frames' target='_blank'>\n    Learn more about time-frames in our docs.\n  </a>\n</p>\n")}]),e.exports=t},9:function(e,n){e.exports=d3},934:function(e,n,t){"use strict";var a,o;a=[e,t(4)],void 0!==(o=function(e,n){var t=n.module(e.i,[]);return t.run(["$rootScope","$http",function(e,n){e.$on("accountChanged",function(e,t){n.post("/internal_api/1/preferences/last_account",{account_id:t.id})})}]),t.factory("UserPrefs",["$http","$q",function(e,t){var a;return{load:function(){return a=e.get("/internal_api/1/preferences/",void 0,function(e){return a=void 0,t.reject(e)})},get:function(e,n){return(!n&&a||this.load()).then(function(n){return e?n.data[e]:n.data})},set:function(t,a){var o={};return n.isDefined(a)&&(o[t]=a),e.post("/internal_api/1/preferences/"+t,o)}}}]),t.name}.apply(n,a))&&(e.exports=o)},991:function(e,n,t){"use strict";var a;void 0!==(a=function(e,n,a){var o=t(4).module(a.i,["ngResource"]);return o.factory("MobileApplication",["$resource",function(e){return e("/internal_api/1/accounts/:account_id/mobile_applications/:id",{account_id:"@account_id",id:"@id"},{update:{method:"PUT"}})}]),o.name}.call(n,t,n,e))&&(e.exports=a)}},[1159]);
//# sourceMappingURL=application-bundle-e204a5eba684d7caba3b.js.map